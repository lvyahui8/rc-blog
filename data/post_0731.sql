-- MySQL dump 10.16  Distrib 10.1.9-MariaDB, for Win32 (AMD64)
--
-- Host: localhost    Database: ruochen
-- ------------------------------------------------------
-- Server version	10.1.9-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Dumping data for table `post`
--

LOCK TABLES `post` WRITE;
/*!40000 ALTER TABLE `post` DISABLE KEYS */;
INSERT INTO rc_post VALUES (440,'C、C++、Java异或运算交换变量变量值的区别','&#13;\n&#13;\n今天看到一位大神的博客，深受感触。决定也发一篇博客，证明一下我还活着。于是我翻看以前学习时做的一些笔','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p><span style=\"font-size:14px\"><span style=\"font-family:SimHei\">今天看到一位大神的博客，深受感触。决定也发一篇博客，证明一下我还活着。<br/></span><span style=\"font-family:SimHei\">于是我翻看以前学习时做的一些笔记，整理了一下，得到了一个关于异或运算交换变量变量值的笔记。</span></span></p>&#13;\n<p><span style=\"font-family:SimHei\"><span style=\"font-size:14px\">首先来看下面三组表达式，看起来他们都能实现交换两个变量的值。</span></span></p>&#13;\n<p/><pre code_snippet_id=\"330939\" snippet_file_name=\"blog_20140507_1_1417306\" name=\"code\" class=\"java\">a = a ^ b;\nb = a ^ b;\na = a ^ b;</pre><br/><pre code_snippet_id=\"330939\" snippet_file_name=\"blog_20140507_2_8113445\" name=\"code\" class=\"java\">a = a ^ (b = b ^ (a = a ^ b));</pre><br/><p/><pre code_snippet_id=\"330939\" snippet_file_name=\"blog_20140507_3_4809586\" name=\"code\" class=\"java\">a ^= b ^= a ^= b;</pre><br/><span style=\"font-family:SimHei; font-size:14px\">可实际的情况是，前面2组表达式，在C、C++、Java中都能顺利完成变量值的交换。而第3组表达式，却只在C、C++中通过了，而在Java中却得到了意料之外的结果。请看下面的截图</span>&#13;\n<p><span style=\"font-family:SimHei; font-size:14px\"><br/></span></p>&#13;\n<p><span style=\"font-family:SimHei; font-size:14px\">在C、C++中得到了想要的结果</span><br/></p>&#13;\n<div style=\"text-align:center\"><img src=\"http://img.blog.csdn.net/20140506232701312?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" align=\"middle\" border=\"2\" alt=\"\"/></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">而在Java中，却得到了这样的结果</span></div>&#13;\n<div style=\"text-align:center\"><img src=\"http://img.blog.csdn.net/20140506232929625?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" align=\"middle\" border=\"2\" alt=\"\"/><br/></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">怎么样，是不是很惊讶，在java中，a的值，换给了b，但不管怎么做，a的值都是0，怎么会这样？百思不得其解。这事就此搁了下来。</span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">过了很长时间之后，在意个偶然的机会中，我在一个关于Java谜题的手册中看到了这个问题，原来这还是Java比较经典的谜题之一了。</span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">原来，事情是这样的。</span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">很久以前，当中央处理器只有少数寄存器时，人们发现可以通过利用异或操作符（^）的属性(x ^ y ^ x) == y来避免使用临时变量，这个惯用法曾经在C编程语言中被使用过，并进一步被融入到了C++中，但是它并不保证都可以正确运行。但是有一点可以肯定：它在Java中肯定是不能正确运行的。 <br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">Java语言规范描述到：操作符的操作数是从左向右求值的。<span style=\"color:#cc0000\"><strong>为了求表达式 x ^= expr的值，x的值是在计算expr之前被提取的</strong></span>，并且这两个值的异或结果被赋给变量x。在OprDemo程序中，变量x的值被提取了两次——每次在表达式中出现时都提取一次——但是两次提取都发生在所有的赋值操作之前。</span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">下面的代码可以很好的解释其原理，并且解释了为什么会得到这样的结果</span></div>&#13;\n<div style=\"text-align:left\"><pre code_snippet_id=\"330939\" snippet_file_name=\"blog_20140506_7_8042395\" name=\"code\" class=\"java\">// Java中x^= y^= x^= y的实际行为        \nint tmp1 = x ; // x在表达式中第一次出现        \nint tmp2 = y ; // y的第一次出现        \nint tmp3 = x ^ y ; // 计算x ^ y        \nx = tmp3 ; // 最后一个赋值：存储x ^ y 到 x        \ny = tmp2 ^ tmp3 ; // 第二个赋值：存储最初的x值到y中        \nx = tmp1 ^ y ; // 第一个赋值：存储0到x中 </pre>&#13;\n<div style=\"text-align:left\"><br/></div>&#13;\n<span style=\"font-family:SimHei; font-size:14px; color:#cc0000\"><strong>从上面的代码可以看出，其实a之所以会为0，是因为a^a造成的，我们知道，两个相同的值异或其值为0.</strong></span></div>&#13;\n<div style=\"text-align:left\"><br/></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">在C和C++中，并没有指定表达式的计算顺序。当运行表达式x^=expr时，许多C和C++编译器是在计算expr之后才提取x的值的，这使得上述的做法可以得到正确的结果。</span><br/></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\">那么在Java中，有没有办法使得不使用中间变量的单个表达式来达到这个目的呢？这是可以的，请看下面的代码。</span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"/><pre code_snippet_id=\"330939\" snippet_file_name=\"blog_20140506_8_2055558\" name=\"code\" class=\"java\">y = (x^= (y^= x))^ y ; </pre>这句代码就能够做到<br/><span style=\"color:#cc0000\">写这么多，最后想说的就是<strong>在单个的表达式中不要对同一变量赋值两次，赋值次数多了，就会引起混乱。</strong></span></div>&#13;\n<div style=\"text-align:left\"><span style=\"font-family:SimHei; font-size:14px\"><br/></span></div>&#13;\n<p/>&#13;\n&#13;</div>',52,'2014-05-06 03:54:00','2016-07-31 10:20:42',2,'http://www.cnblogs.com/lvyahui/p/4009966.html',4009966),(441,'Java线程运行轨迹-代码追踪与定位','&#13;\n&#13;\n今天在写程序时，想到一个问题，当我的程序出异常的时候，控制台输出信息中，明确指出了出现异常的位置，并详细列举了函数的调用层次关系，它是怎么做到的。&#13;\n','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\">今天在写程序时，想到一个问题，当我的程序出异常的时候，控制台输出信息中，明确指出了出现异常的位置，并详细列举了函数的调用层次关系，它是怎么做到的。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\">竟然想到了这个问题，就去查看了源代码，不过没点几下，就遇到了native本地方法，只好作罢。于是又去网上找了这方面的资料，最后找到了一点这方面的东西，不过它给出的只是API，却并没有对代码做什么解释。代码如下</span></p>&#13;\n<p><br/></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\"/></p><pre code_snippet_id=\"332766\" snippet_file_name=\"blog_20140507_1_5008062\" name=\"code\" class=\"java\">public class Test {\n	public static int getLineNumber() {\n		return Thread.currentThread().getStackTrace()[2].getLineNumber();\n	}\n\n	public static String getFileName() {\n		return Thread.currentThread().getStackTrace()[2].getFileName();\n	}\n\n	public static void main(String args[]) {\n		System.out.println(\"[\" + getFileName() + \"：\" + getLineNumber() + \"]\" + \"Hello World!\");\n	}\n}</pre><br/>&#13;\n这程序中为什么要取数组中的第二个呢？原帖没有给出解释。&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\">接着，我自己去写了一段代码进行测试，代码如下</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\"/></p><pre code_snippet_id=\"332766\" snippet_file_name=\"blog_20140507_2_8290875\" name=\"code\" class=\"java\">class StackTraceDemo\n{\n	public static void main(String[] args) \n	{\n		System.out.println(findLocation(2));\n		System.out.println();\n		System.out.println(findAllLocation());\n	}\n\n	public static String findAllLocation()\n	{\n		StringBuilder locations = new StringBuilder();\n		StackTraceElement elements [] = Thread.currentThread().getStackTrace();\n\n		for(int i=0;i&lt;elements.length;i++){\n			locations.append(findLocation(i) +\"\\n\");\n		}\n	\n		return locations.toString();\n	}\n	\n	public static String findLocation(int level)\n	{\n		StackTraceElement element = Thread.currentThread().getStackTrace()[level];\n		return \"File: \"+element.getFileName()+\" Line: \"+element.getLineNumber()+\" Method: \"+element.getMethodName();\n	}\n}\n</pre><br/>&#13;\n程序运行得到这样的结果：&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\"><span style=\"color:#33cc00\">File: StackTraceDemo.java Line: 5 Method: main<br/><br/><br/>&#13;\nFile: Thread.java Line: 1567 Method: getStackTrace<br/>&#13;\nFile: StackTraceDemo.java Line: 24 Method: findLocation<br/>&#13;\nFile: StackTraceDemo.java Line: 16 Method: findAllLocation</span><br/></span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\"><br/></span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px; color:#ff9900\">从这个结果中来看，之所以前面那个程序选取第二个元素，是因为Java程序运行时函数入栈是在数组的起始位置入栈，其它的栈元素后移。这是我的个人之见，我也不敢确定自己所想是否正确，欢迎有别的看法的人或知道原理的人留言指点交流。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:14px\"><br/></span></p>&#13;\n&#13;</div>',54,'2014-05-07 01:37:00','2016-07-31 10:20:43',2,'http://www.cnblogs.com/lvyahui/p/4009964.html',4009964),(442,'程序自主进化','&#13;\n&#13;\n首先来讲讲为什么要研究程序自主进化。&#13;\n在这个','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">首先来讲讲为什么要研究程序自主进化。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">在这个全球步伐随互联网腾飞的时代,人们的需求快速增长。因此，各种应用软件或Web应用都需要随着用户的需求而高速频繁更新。而更新往往不是那么简单的。很多中小型软件公司在开发一个产品时，片面的追求开发速度，并不愿意花太多时间去为以后程序的扩展和复用做过多设计。这就造成了这样一种囧态，在用户需求发生巨大变动或累积时，旧的产品已不能再满足用户需求，软件公司就需要从0开始，重新开发一个符合需求的软件，这是要付出极大的代价的。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">可以看出，中小企业为了得到更多的客户和减少资金投入，尽可能的缩短开发时间，避开一些繁杂的设计，只要能尽快拿出能用的软件就行。而另一方面，这种做法的弊端会随着时间推移慢慢显露出来，给软件公司带来更大的问题和负担。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">个人认为，即便不存在以上问题，软件本身的智能可进化也可能是一种趋势，因为在我看来，软件自身智能进化，是互联网智能化的基础。就好比大自然的进化一样，需要人类和其他高等生物本身具有进化的能力。人并不能完全掌控互联网，就像人不能掌控大自然一样。我们在大自然中已经拥有了不错的地位，就不要妄想在互联网的世界里依然称王。互联网的世界里应该有它自己的“生命”，这个“生命”不是人类，而应该是各种各样的程序。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">基于以上分析，我认为研究程序的自主进化很有必要。下面我们来看一看程序进化研究的现状。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">相关数据显示，现在的互联网上流窜着大量的难以查杀的病毒（病毒也是程序），互联网数以亿计的计算机就像是一个巨大的培养皿，提供给病毒一个很好的进化环境。在这样的环境下，低级简单的病毒逐渐被淘汰，而高级复杂的病毒存活了下来。如此优胜劣汰之下，病毒势必会产生进化。虽然这种进化并不是标准意义上的进化，更多只是对自身参数和触发方式的修改。但谁能保证，这样的进化会不会越来越智能。而且这样的进化完全是人们不可知的。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">     国外已经有很多的团队和工作室已经在做这方面的研究。比如用PROLOG规则的自添加实现程序的自编程，比如能自主学习的智能机器人。我曾在网上看到一个工作室，用程序虚拟机器人，然后随机产生100个这样的机器人，这100个机器人中大部分不会走路，甚至一动就会倒下，然后从这100个机器人中选出一部分优秀的，让他们自繁下一代。到第10代的时候，很多机器人已经能够蹒跚行走了。到20代时，机器人除了跳跃已经能够做很多动作了。（具体请参见BBC-神秘的混沌理论）。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">也有一部分人认为，程序要实现智能化、不能停留在代码层面。应该实现更底层的智能化、比如智能逻辑电路。就像人的大脑突触和神经元的进化一样。当然，在我看来，这更像是硬件的进化。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">目前很多软件都能做到主动收集数据、接收数据、分析数据并储存数据。这意味着软件也可以和人类一样向外界学习。软件可以根据环境的变化不断完善自己的程序。当然，目前大多是不循序程序肆意修改的，这需要操作系统做一点改变，如果可以操作系统也智能化最好，因为操作系统本身也是一个大的程序。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">当然，软件的进化目前依然有很多难题。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">第一个，速度，虽然目前CPU的最快运算速度已经达到每秒几亿次，但这对于实现程序智能进化还不够。如果以后量子计算机能够普及，或许会大大加快软件本身智能进化的速度。</span></p>&#13;\n<p><span style=\"font-family:Microsoft YaHei; font-size:12px\">第二个，算法，每种事物都应该有其对应的数学模型，只是目前没有人发现。进化也是如此，就像胚细胞最初都一样，为什么后来会进化成各种各样的组织细胞。这应该都是可以用数学模型来描述的。这也是著名的混沌理论中的一种观点。</span></p>&#13;\n&#13;</div>',47,'2014-05-09 01:22:00','2016-07-31 10:20:44',11,'http://www.cnblogs.com/lvyahui/p/4009963.html',4009963),(443,'Joomla插件汉化小程序','&#13;\n&#13;\n&#13;\n这两天在搞joomla插件，在看peter的视频，在此谢过他了。看到它汉化插件那个视频。反正闲着无聊，就写了一个Java小程序，方便使用joomla的人汉化插件。这个程序','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p><span style=\"font-size:14px\"/></p>&#13;\n<p><span style=\"font-size:18px\">这两天在搞joomla插件，在看peter的视频，在此谢过他了。看到它汉化插件那个视频。反正闲着无聊，就写了一个Java小程序，方便使用joomla的人汉化插件。这个程序的方法很简单，你只要先运行outputToFile方法，将原来的英文配置拷贝到控制台，在输入ok，程序就会将英文配置输出到两个文件，你将zhi.txt中的英文利用百度翻译或者google翻译翻译好，覆盖zhi.txt中的内容，然后再运行getTranslationResult方法，将翻译好的重组一下重新输出至控制台。没花多少时间，所以代码写的也很差，各位不要骂人丢砖啊。<br/></span></p>&#13;\n<p><br/></p>&#13;\n<pre code_snippet_id=\"400251\" snippet_file_name=\"blog_20140620_1_8529255\" name=\"code\" class=\"java\">import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\n\n/**\n * 将joomla插件汉化\n * @author Agrin\n *\n */\npublic class JoomlaPlugIn {\n\n	public static final String LINE_SEPARATOR = System.getProperty(\"line.separator\");\n	/**\n	 * @param args\n	 * @throws IOException \n	 */\n	public static void main(String[] args) throws IOException {\n		\n		/*\n		 * 方法\n		 * \n		 * 在控制台输入英文配置		字段=“值”\n		 * \n		 * 从文件1当中逐行读取，拆分成字段 和 值，分别输出到两个文件中，ziduan.txt  和  zhi.txt中\n		 * \n		 * 将值当中的内容翻译好\n		 * \n		 * 然后再从两个文件中读数据，然后拼凑在一块，输出到控制台中		\n		 * \n		 */\n		File fieldFile = new File(\"ziduan.txt\");\n		File valueFile = new File(\"zhi.txt\");\n		if(!fieldFile.exists() || !valueFile.exists()){\n			return;\n		}\n		\n//		outputToFile(fieldFile, valueFile);\n		\n		getTranslationResult(fieldFile, valueFile);\n	}\n	/**\n	 * 从文件中读取出翻译好的中文，拼凑好打印到控制台\n	 * @param fieldFile\n	 * @param valueFile\n	 * @throws FileNotFoundException\n	 * @throws IOException\n	 */\n	public static void getTranslationResult(File fieldFile, File valueFile)\n			throws FileNotFoundException, IOException {\n		BufferedReader fieldBr = new BufferedReader(new FileReader(fieldFile));\n		BufferedReader valueBr = new BufferedReader(new FileReader(valueFile));\n		\n		StringBuilder sb = new StringBuilder();\n		String field = fieldBr.readLine();\n		String value = valueBr.readLine();\n\n		while (field != null &amp;&amp; value != null) {\n			value = value.replaceAll(\"“\", \"\");\n			value = value.replaceAll(\"”\", \"\");\n			sb.append(field+\" = \"+\"\\\"\"+value+\"\\\"\"+LINE_SEPARATOR);\n			field = fieldBr.readLine();\n			value = valueBr.readLine();\n		}\n		System.out.println();\n		System.out.println(sb.toString());\n	}\n	\n	/**\n	 * 将英文配置输出到文件\n	 * @param fieldFile\n	 * @param valueFile\n	 * @throws IOException\n	 */\n	public static void outputToFile(File fieldFile, File valueFile)\n			throws IOException {\n		BufferedReader confBr = new BufferedReader(new InputStreamReader(System.in));\n		PrintWriter fieldPt = new PrintWriter(new FileWriter(fieldFile),true);\n		PrintWriter valuePt = new PrintWriter(new FileWriter(valueFile),true);\n		\n		String input = null;\n		while(!\"ok\".equals(input = confBr.readLine())){\n			String records[] = input.split(\"=\");\n			fieldPt.println(records[0]);\n			valuePt.println(records[1]);\n		}\n		\n		fieldPt.close();\n		valuePt.close();\n	}\n	\n\n}\n</pre>&#13;\n<p/>&#13;\n<p><br/></p>&#13;\n<span style=\"font-size:18px\">这是原来的英文</span><br/><div style=\"text-align:center\"><img src=\"\" alt=\"\"/></div>&#13;\n<p style=\"text-align:center\"><img src=\"http://img.blog.csdn.net/20140620171126328?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" align=\"middle\" alt=\"\"/><br/></p>&#13;\n<p><span style=\"font-size:18px\">这是翻译好的中文</span></p>&#13;\n<p style=\"text-align:center\"><img src=\"\" alt=\"\"/><img src=\"http://img.blog.csdn.net/20140620171158281?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" align=\"middle\" alt=\"\"/><br/></p>&#13;\n<p><span style=\"font-size:18px\">希望对汉化joomla的插件的人员有点帮助吧</span></p>&#13;\n&#13;</div>',32,'2014-06-19 21:09:00','2016-07-31 10:20:45',2,'http://www.cnblogs.com/lvyahui/p/4009962.html',4009962),(444,'Java反射结合JDBC写的一个通用DAO','&#13;\n&#13;\n以前写反射只是用在了与设计模式的结合上，并没有考虑到反射可以与DAO结合。也是一个偶然的机会，被正在上培训的老师点到这个问题，才考虑到这个可能性，于是上网参考各种代码，然后自己动手开发了一个通用DAO。&#13;\n大家除学JDBC时，也会有这种感触，一般写的DAO只能用在一张表上，不能通用，如果你的','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>以前写反射只是用在了与设计模式的结合上，并没有考虑到反射可以与DAO结合。也是一个偶然的机会，被正在上培训的老师点到这个问题，才考虑到这个可能性，于是上网参考各种代码，然后自己动手开发了一个通用DAO。</p>&#13;\n<p>大家除学JDBC时，也会有这种感触，一般写的DAO只能用在一张表上，不能通用，如果你的程序有多张表，就需要写多个DAO，或者使用一些复杂设计来达到这个目的。而这个反射方式实现的DAO，就不需要很复杂的设计，就可以实现DAO的通用。</p>&#13;\n<p><br/></p>&#13;\n<p>这个通用是有前提的，就是DAO接受的参数必须是绝对符合JavaBean标准的对象。而且JavaBean的属性类型，必须跟数据库中表的数据类型保持一致。否则就会出问题，下面贴出代码，写得不好，别见怪</p>&#13;\n<p><br/></p>&#13;\n<p/><pre name=\"code\" class=\"java\">package com.sldll.cms.dao;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\n\n//0oO\npublic class GeneralDAO {\n\n	//---------------------------------查询部分--------------------------------------------------------------------------\n	/**\n	 * 查询所有记录\n	 * @param obj	表对应的JavaBean对象\n	 * @return		所有记录构成的list\n	 * @throws Exception\n	 */\n	public List&lt;Object&gt; findAll(Object obj) throws Exception {\n\n		List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n		ResultSet rs = null;\n		try {\n\n			// 获取数据库连接\n			Statement stmt = DBConnectionManager.getConnection()\n					.createStatement();\n			// 构建sql语句\n			String tableName = obj.getClass().getName();\n			tableName = tableName.substring(tableName.lastIndexOf(\".\") + 1);\n			String sql = \"select * from \" + tableName;\n\n			// 执行sql语句\n			rs = stmt.executeQuery(sql);\n\n			while (rs.next()) {\n				list.add(createObj(rs, obj));\n			}\n		} catch (Exception e) {\n			// TODO Auto-generated catch block\n			e.printStackTrace();\n			throw e;\n		} finally {\n			// 关闭连接\n			if (rs != null) {\n				rs.close();\n			}\n			DBConnectionManager.closeConnection();\n		}\n\n		return list;\n	}\n\n	/**\n	 * 对指定的表执行指定的sql查询语句\n	 * @param obj\n	 * 			以该表对应的JavaBean对象决定表\n	 * @param query\n	 * 			要对该表执行的sql语句\n	 * @return\n	 * @throws Exception\n	 */\n	public List&lt;Object&gt; findByNameQuery(Object obj, String query) throws Exception {\n		// TODO Auto-generated method stub\n		List&lt;Object&gt; list = null;\n		try {\n			Statement sql_statement = DBConnectionManager.getConnection()\n					.createStatement();\n			//执行传递的sql语句\n			ResultSet rs = sql_statement.executeQuery(query);\n			list = new ArrayList&lt;Object&gt;();\n			if (rs != null) {\n				while (rs.next()) {\n					list.add(createObj(rs, obj));\n				}\n			}\n			return list;\n		} catch (Exception e) {\n			// TODO Auto-generated catch block\n			e.printStackTrace();\n			throw e;\n		} finally {\n			DBConnectionManager.closeConnection();\n		}\n\n	}\n\n	/**\n	 * 按条件对指定表进行查询\n	 * @param obj\n	 * 		以该表对应的JavaBean对象决定表\n	 * @param condition\n	 * 		查询的条件，key：条件		value：值\n	 * @param isFuzzzy\n	 *		是否支持模糊查询\n	 * @return\n	 * @throws Exception\n	 */\n	public List&lt;Object&gt; findByNameQuery(Object obj, Map&lt;Object,Object&gt; condition,boolean isFuzzy) throws Exception {\n		List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n		try {\n			\n			String tablename = getTableName(obj);\n			StringBuilder sb = new StringBuilder(\"select * from \" + tablename);\n			PreparedStatement state = null;\n			if(isFuzzy){\n				addFuzzyConditionString(sb, condition);\n			}\n			else{\n				addConditionString(sb, condition);\n			}\n			state = DBConnectionManager.getConnection().prepareStatement(sb.toString());\n			state = setSqlValue(state, condition,isFuzzy);\n			ResultSet rs = state.executeQuery();\n			if (rs != null) {\n				while (rs.next()) {\n					list.add(createObj(rs, obj));\n				}\n			}\n			return list;\n		} catch (Exception e) {\n			// TODO Auto-generated catch block\n			e.printStackTrace();\n			throw e;\n		} finally {\n			DBConnectionManager.closeConnection();\n		}\n	}\n\n\n\n	//-------------------------------------创建部分--------------------------------------------------------------------------\n	/**\n	 * 在数据库里新建一条记录\n	 * @param obj\n	 * 		描述记录的对象,必须是数据库中某张表对应的JavaBean对象\n	 * @return\n	 * 		新建成功返回真，否则返回假\n	 * @throws Exception\n	 */\n	public boolean create(Object obj) throws Exception{\n		// 获取数据库连接\n		try {\n			// 构建sql语句\n			Map&lt;Object, Object&gt; map = getObjectFieldValue(obj);\n			String tableName = obj.getClass().getName();\n			tableName = tableName.substring(tableName.lastIndexOf(\".\") + 1);\n			StringBuilder sb = new StringBuilder(\"insert into \" + tableName);\n			addCreateString(sb, map);\n			PreparedStatement  stmt = DBConnectionManager.getConnection()\n					.prepareStatement(sb.toString());\n			setSqlValue(stmt, map,false);\n			int count = stmt.executeUpdate();\n			if(count&gt;0){\n				return true;\n			}\n			else{\n				return false;\n			}\n		} catch (Exception e) {\n			e.printStackTrace();\n			throw e;\n		} finally {\n			DBConnectionManager.closeConnection();\n		}\n	}\n\n	//-------------------------------------删除部分----------------------------------------------------------------------------\n	/**\n	 * 删除表中所有记录\n	 * @param obj\n	 * 			JavaBean对象，决定要删除的是哪张表\n	 * @return\n	 * 			删除成功返回真，否则返回假\n	 */\n	public boolean deleteAll(Object obj) throws Exception{\n		String delete_sql = \"delete from \"+getTableName(obj);\n		PreparedStatement pstmt;\n		try {\n			pstmt = DBConnectionManager.getConnection().prepareStatement(delete_sql);\n			int count = pstmt.executeUpdate();\n			if(count&gt;0){\n				return true;\n			}\n			else{\n				return false;\n			}\n		} catch (Exception e) {\n			// TODO Auto-generated catch block\n			e.printStackTrace();\n			throw e;\n		}\n		finally{\n			DBConnectionManager.closeConnection();\n		}\n		\n	}\n	\n	/**\n	 * 在指定表中删除给定ID的记录\n	 * @param obj\n	 * 		表示要删除的表\n	 * @param condition\n	 * 		删除的条件 key:字段(一般为字符串) value:值\n	 * @return\n	 */\n	public boolean delete(Object obj,Map&lt;Object,Object&gt; condition) throws Exception{\n		//构建sql语句\n		StringBuilder sb = new StringBuilder(\"delete from \"+getTableName(obj));\n		addConditionString(sb, condition);\n		try {\n			PreparedStatement pstmt = DBConnectionManager.getConnection().prepareStatement(sb.toString());\n			setSqlValue(pstmt, condition,false);\n			int count = pstmt.executeUpdate();\n			if(count &gt; 0){\n				return true;\n			}\n			else{\n				return false;\n			}\n		} catch (Exception e) {\n			// TODO Auto-generated catch block\n			e.printStackTrace();\n			throw e;\n		}\n		finally{\n			DBConnectionManager.closeConnection();\n		}\n	}\n	\n	//-------------------------------------更新部分----------------------------------------------------------------------------\n	/**\n	 * 更新指定表的记录\n	 * @param obj\n	 * 		用来确定表的Java对象\n	 * @param map\n	 * 		要设置的字段值，key：字段（字符串）,value：值\n	 * @param condition\n	 * 		筛选条件\n	 * @return\n	 */\n	public boolean update(Object obj,Map&lt;Object,Object&gt; map,Map&lt;Object, Object&gt;condition) throws Exception {\n		StringBuilder sb = new StringBuilder(\"update \"+getTableName(obj));\n		addSetString(sb,map);\n		addConditionString(sb, condition);\n		try {\n			PreparedStatement pstmt = DBConnectionManager.getConnection().prepareStatement(sb.toString());\n			List&lt;Object&gt; values =  new ArrayList&lt;Object&gt;();\n			getValuesToList(values,map);\n			getValuesToList(values, condition);\n			setSqlValue(pstmt, values);\n\n			int count = pstmt.executeUpdate();\n			if(count &gt; 0){\n				return true;\n			}\n			else{\n				return false;\n			}\n		} catch ( Exception e) {\n			// TODO Auto-generated catch block\n			e.printStackTrace();\n			throw e;\n		}\n		finally{\n			DBConnectionManager.closeConnection();\n		}\n	}\n\n	private List&lt;Object&gt; getValuesToList(List&lt;Object&gt; values,Map&lt;Object, Object&gt; map) {\n		\n		for (Iterator&lt;Object&gt; it = map.keySet().iterator(); it.hasNext();) {\n			Object value =  map.get(it.next());\n			values.add(value);\n		}\n		return values;\n	}\n	\n	\n\n\n	/**\n	 * 获取JavaBean对象的字段值放到容器中\n	 * @param obj\n	 * 			JavaBean对象\n	 * @return\n	 * @throws IllegalAccessException\n	 * @throws InvocationTargetException\n	 */\n	private Map&lt;Object, Object&gt; getObjectFieldValue(Object obj)\n			throws IllegalAccessException, InvocationTargetException {\n		Map&lt;Object, Object&gt; map = new HashMap&lt;Object,Object&gt;();\n		\n		Field fields[] = obj.getClass().getFields();\n		Method methods[] = obj.getClass().getMethods();\n\n		// 给字段设置值\n		for (int i = 0; i &lt; fields.length; i++) {\n			// 用字段的名字构建set方法的名字\n			String fieldName = fields[i].getName();\n			\n			String methodName = \"get\" + fieldName.substring(0, 1).toUpperCase()\n					+ fieldName.substring(1);\n\n			// 查找对应的方法\n			Method method = null;\n			for (int j = 0; j &lt; methods.length; j++) {\n				if (methods[j].getName().equals(methodName)) {\n					method = methods[j];\n					break;\n				}\n			}\n			// 如果存在这个方法\n			if (method != null) {\n				// 开始执行方法，获取当前的JavaBean对象字段值\n				Object value = method.invoke(obj, new Object[] { });\n				map.put(fieldName, value);\n			}\n		}\n		return map;\n	}\n	\n	private void addSetString(StringBuilder sb, Map&lt;Object, Object&gt; map) {\n		// TODO Auto-generated method stub\n		if (!map.isEmpty()) {\n			sb.append(\" set \");\n			for (Iterator&lt;Object&gt; it = map.keySet().iterator(); it.hasNext();) {\n				String key = (String) it.next();\n				if (null == key) {\n					continue;\n				}\n				sb.append(key+\"=?,\");				\n			}\n			sb.deleteCharAt(sb.lastIndexOf(\",\"));\n			System.out.println(sb.toString());\n		}\n	}\n	\n	/**\n	 * 在现有sql创建语句后面追加字段名和占位符\n	 * @param sb\n	 * @param map\n	 */\n	private void addCreateString(StringBuilder sb,Map&lt;Object, Object&gt; map) {\n		// TODO Auto-generated method stub\n		sb.append(\"(\");\n		int count = 0;\n		for (Iterator&lt;Object&gt; it = map.keySet().iterator(); it.hasNext();) {\n			String key = (String) it.next();\n			if (null == key) {\n				continue;\n			}\n			sb.append(key + \",\");\n			count++;\n		}\n		sb.deleteCharAt(sb.lastIndexOf(\",\"));\n		sb.append(\") values(\");\n		for (int i = 0; i &lt; count; i++) {\n			sb.append(\"?,\");\n		}\n		sb.deleteCharAt(sb.lastIndexOf(\",\"));\n		sb.append(\")\");\n		System.out.println(sb.toString());\n	}\n\n	/**\n	 * 在现有sql查询语句后面追加判断条件\n	 * @param sb  			where之前的sql         \n	 * @param condition 	条件(key:字段名；value:值)       \n	 * @return	使用占位符的sql语句\n	 */\n	private String addConditionString(StringBuilder sb, Map&lt;Object,Object&gt; condition) {\n		if (!condition.isEmpty()) {\n			sb.append(\" where \");\n			int i = 0;\n\n			for (Iterator&lt;Object&gt; it = condition.keySet().iterator(); it.hasNext();) {\n				String key = (String) it.next();\n				if (null == key) {\n					continue;\n				}\n				if (i != 0) {\n					sb.append(\" and \");\n				}\n				if (key.indexOf(\"&lt;\") != -1 || key.indexOf(\"&gt;\") != -1\n						|| key.indexOf(\"=\") != -1) {\n					sb.append(key + \"?\");\n				} else {\n					sb.append(key + \"=\" + \"?\");\n				}\n\n				i++;\n\n			}\n\n		}\n		System.out.println(sb.toString());\n		return sb.toString();\n	}\n	\n	private String addFuzzyConditionString(StringBuilder sb,Map&lt;Object,Object&gt;condition) {\n		if (!condition.isEmpty()) {\n			sb.append(\" where \");\n			int i = 0;\n\n			for (Iterator&lt;Object&gt; it = condition.keySet().iterator(); it.hasNext();) {\n				String key = (String) it.next();\n				if (null == key) {\n					continue;\n				}\n				if (i != 0) {\n					sb.append(\" or \");\n				}\n				sb.append(key + \" like \" +\"?\");\n				i++;\n			}\n\n		}\n		System.out.println(sb.toString());\n		return sb.toString();\n	}\n	\n	\n	/**\n	 * 设置现有sql语句的占位符的值\n	 * @param state\n	 * @param map\n	 * @return\n	 * @throws SQLException\n	 */\n	private PreparedStatement setSqlValue(PreparedStatement state, Map&lt;Object,Object&gt; map,boolean isFuzzy)\n			throws SQLException {\n		if (!map.isEmpty()) {\n			int i = 1;\n			for (Iterator&lt;Object&gt; it = map.keySet().iterator(); it.hasNext();) {\n				Object value = map.get(it.next());\n				if(isFuzzy){\n					state.setObject(i++, \"%\"+value+\"%\");\n				}else{\n					state.setObject(i++, value);\n				}\n			}\n\n		}\n		return state;\n	}\n	private PreparedStatement setSqlValue(PreparedStatement state, List&lt;Object&gt; values)\n			throws SQLException {\n		if (!values.isEmpty()) {\n			int i = 1;\n			for (Iterator&lt;Object&gt; it = values.iterator(); it.hasNext();) {\n				Object value = it.next();\n				state.setObject(i++, value);\n			}\n			\n		}\n		return state;\n	}\n	\n	private String getTableName(Object obj) {\n		String tablename = obj.getClass().getName();\n		tablename = tablename.substring(tablename.lastIndexOf(\".\") + 1);\n		return tablename;\n	}\n	// 利用反射构建对象\n	\n	private Object createObj(ResultSet rs, Object obj)\n			throws  Exception {\n		// TODO Auto-generated method stub\n		Object object = obj.getClass().newInstance();\n		// 获取字段\n		Field fields[] = obj.getClass().getFields();\n		// 获取方法\n		Method methods[] = obj.getClass().getMethods();\n\n		// 给字段设置值\n		for (int i = 0; i &lt; fields.length; i++) {\n			// 用字段的名字构建set方法的名字\n			String fieldName = fields[i].getName();\n			String methodName = \"set\" + fieldName.substring(0, 1).toUpperCase()\n					+ fieldName.substring(1);\n\n			// 查找对应的方法\n			Method method = null;\n			for (int j = 0; j &lt; methods.length; j++) {\n				if (methods[j].getName().equals(methodName)) {\n					method = methods[j];\n					break;\n				}\n			}\n\n			// 如果存在这个方法\n			if (method != null) {\n				// 开始执行方法，为当前的JavaBean对象字段设置值\n				Object value = rs.getObject(fieldName);\n				method.invoke(object, new Object[] { value });\n\n			}\n		}\n		return object;\n	}\n	\n	\n}\n</pre><br/><br/><p><br/></p>&#13;\n<p><br/></p>&#13;\n&#13;</div>',112,'2014-06-20 02:18:00','2016-07-31 10:20:47',2,'http://www.cnblogs.com/lvyahui/p/4009961.html',4009961),(445,'矩形嵌套问题-ACM集训',' &#13;\n','<div id=\"cnblogs_post_body\"><h2 class=\"problem-ins\" style=\"font-size: 14px; font-family: Tahoma,Arial,sans-serif,simsun; color: #464646; text-align: center;\" align=\"left\"> </h2>&#13;\n<dl class=\"others\" style=\"margin: 0px; padding: 0px;\"><dt style=\"font-size: 16px; font-weight: bold; color: #712015; margin: 1em 0px 0.2em; padding: 0px;\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">参考 <a href=\"http://blog.csdn.net/xujinsmile/article/details/7861412\" target=\"_blank\"> http://blog.csdn.net/xujinsmile/article/details/7861412</a></span></dt><dt style=\"font-size: 16px; font-weight: bold; color: #712015; margin: 1em 0px 0.2em; padding: 0px;\"> <span style=\"font-family: Microsoft YaHei; font-size: 12px;\">有n个矩形，每个矩形可以用a,b来描述，表示长和宽。矩形X(a,b)可以嵌套在矩形Y(c,d)中当且仅当a&lt;c,b&lt;d或者b&lt;c,a&lt;d（相当于旋转X90度）。例如（1,5）可以嵌套在（6,2）内，但不能嵌套在（3,4）中。你的任务是选出尽可能多的矩形排成一行，使得除最后一个外，每一个矩形都可以嵌套在下一个矩形内。<br/>&#13;\n输入 <br/>&#13;\n第一行是一个正正数N(0&lt;N&lt;10)，表示测试数据组数，<br/>&#13;\n每组测试数据的第一行是一个正正数n，表示该组测试数据中含有矩形的个数(n&lt;=1000)<br/>&#13;\n随后的n行，每行有两个数a,b(0&lt;a,b&lt;100)，表示矩形的长和宽 <br/>&#13;\n输出 <br/>&#13;\n每组测试数据都输出一个数，表示最多符合条件的矩形数目，每组输出占一行 </span><br/></dt></dl><p style=\"font-size: 16px; font-weight: bold; color: #712015; margin: 1em 0px 0.2em; padding: 0px;\">&#13;\n样例输入</p>&#13;\n<dl class=\"others\" style=\"margin: 0px; padding: 0px;\"><dd style=\"margin: 0px; padding: 0px;\">&#13;\n<pre>1&#13;\n10&#13;\n1 2&#13;\n2 4&#13;\n5 8&#13;\n6 10&#13;\n7 9&#13;\n3 1&#13;\n5 8&#13;\n12 10&#13;\n9 7&#13;\n2 2&#13;\n</pre>&#13;\n</dd><dt style=\"font-size: 16px; font-weight: bold; color: #712015; margin: 1em 0px 0.2em; padding: 0px;\">样例输出</dt><dd style=\"margin: 0px; padding: 0px;\">&#13;\n<pre>5</pre>&#13;\n</dd></dl><dl class=\"problem-display\" style=\"font-size: 14px; font-family: Tahoma,Arial,sans-serif,simsun; color: #464646; margin: 0px; padding: 0px;\"/><dl/><pre name=\"code\" class=\"cpp\">#include &lt;stdio.h&gt;&#13;\n#define MAXN 512&#13;\ntypedef struct Rect{&#13;\n	int width;&#13;\n	int height;&#13;\n}Rect;&#13;\n&#13;\nRect rects[MAXN];	//矩形数组&#13;\nint G[MAXN][MAXN];	//边表数组&#13;\nint max[MAXN];		//标记数组，存放从该点出发，能走的最长路径的长度&#13;\nint dp(int i, int n){//从顶点i出发，走出一条最长路径，共n个顶点。返回路径长度，或者说边的个数&#13;\n	if (max[i]&gt;0)&#13;\n	{&#13;\n		return max[i];&#13;\n	}&#13;\n	max[i] = 1;&#13;\n	//让i往除i之外其他的顶点走，选择最长的路走&#13;\n	for (int j = 0; j &lt; n;j++) {&#13;\n		if(i == j) {continue;}&#13;\n		if (G[i][j])//从i到j有一条边&#13;\n		{&#13;\n			int j_max = dp(j,n);//走到j&#13;\n			if (j_max&gt;=max[i]) {&#13;\n				max[i] = j_max + 1;&#13;\n			}&#13;\n		}&#13;\n	}&#13;\n	return max[i];&#13;\n}&#13;\n&#13;\nint main(){&#13;\n	int n;&#13;\n	scanf(\"%d\",&amp;n);&#13;\n	for(int i = 0; i &lt; n;i++){&#13;\n		scanf(\"%d%d\",&amp;rects[i].width,&amp;rects[i].height);&#13;\n	}&#13;\n	&#13;\n	for( i = 0;i &lt; n;i++){&#13;\n		for(int j = 0;j &lt; n;j++){&#13;\n			if(j==i){continue;}&#13;\n			if((rects[i].width&lt;rects[j].width &amp;&amp; rects[i].height &lt;rects[j].height )&#13;\n				||(rects[i].height &lt; rects[j].width &amp;&amp; rects[i].width &lt; rects[j].height)){&#13;\n				G[i][j] = 1;//矩形rects[i]可以放到rects[j]中，ｉ到ｊ有一条边&#13;\n			}&#13;\n		}&#13;\n	}&#13;\n	&#13;\n	int max = 0;&#13;\n	//从每个点出发，选出最大路经 &#13;\n	for ( i = 0; i &lt; n; i++) {&#13;\n		int j_max = dp(i,n);&#13;\n		if(j_max &gt; max){&#13;\n			max = j_max;&#13;\n		}&#13;\n	}&#13;\n	printf(\"%d\\n\",max);&#13;\n	return 0;&#13;\n}&#13;\n</pre>&#13;\n<p><br/><br/></p></div>',51,'2014-08-23 02:06:00','2016-07-31 10:20:48',12,'http://www.cnblogs.com/lvyahui/p/4009960.html',4009960),(446,'除法（Division ,UVA 725）-ACM集训','参考：http://www.cnblogs.com/xiaobaibuhei/p/3301110.html&#13;\n算法学到很弱，连这么简单个问题都难到我了。但我偏不信这个邪，终于做出来了。不过，是参照别人的，是 ','<div id=\"cnblogs_post_body\"><p>参考：http://www.cnblogs.com/xiaobaibuhei/p/3301110.html</p>&#13;\n<p>算法学到很弱，连这么简单个问题都难到我了。但我偏不信这个邪，终于做出来了。不过，是参照别人的，是 <a href=\"http://home.cnblogs.com/u/xiaobaibuhei/\" target=\"_blank\"> xiaobaibuhei</a> 到博客让我找到到感觉，不过我只看了一遍他到代码，后面都是自己写的，虽然写的很像。。。</p>&#13;\n<p> </p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">Write a program that finds and displays all pairs of 5-digit numbers that between them use the digits <tt>0</tt> through <tt>9</tt> once each, such that the first number divided by the second is equal to an integer <em>N</em>, where <img src=\"http://uva.onlinejudge.org/external/7/725img1.gif\" alt=\"$2\\le N \\le 79$\" width=\"93\" height=\"32\" align=\"MIDDLE\" border=\"0\"/>. That is,</p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\"><br/><tt>abcde / fghij =</tt> <em>N</em></p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">where each letter represents a different digit. The first digit of one of the numerals is allowed to be zero.</p>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><span style=\"color: #0070e8;\"><a name=\"SECTION0001001000000000000000\" target=\"_blank\"/>Input </span></h2>&#13;\n<p>&#13;\n<span style=\"font-family: \'Times New Roman\'; font-size: 14px;\">Each line of the input file consists of a valid integer </span><span style=\"font-family: \'Times New Roman\'; font-size: 14px;\">N</span><span style=\"font-family: \'Times New Roman\'; font-size: 14px;\">. An input&#13;\n of zero is to terminate the program.</span></p>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><span style=\"color: #0070e8;\"><a name=\"SECTION0001002000000000000000\" target=\"_blank\"/>Output </span></h2>&#13;\n<p>&#13;\n<span style=\"font-family: \'Times New Roman\'; font-size: 14px;\">Your program have to display ALL qualifying pairs of numerals, sorted by increasing numerator (and, of course, denominator).</span></p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">Your output should be in the following general form:</p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\"><br/><tt>xxxxx / xxxxx =</tt> <em>N</em></p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\"><tt>xxxxx / xxxxx =</tt> <em>N</em></p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">.</p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">.</p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\"><br/>&#13;\nIn case there are no pairs of numerals satisfying the condition, you must write ``<tt>There are no solutions for </tt><em>N</em><tt>.</tt>\". Separate the output for two different values of <em>N</em> by a blank line.</p>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><span style=\"color: #0070e8;\"><a name=\"SECTION0001003000000000000000\" target=\"_blank\"/>Sample Input </span></h2>&#13;\n<pre>61&#13;\n62&#13;\n0&#13;\n</pre>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><span style=\"color: #0070e8;\"><a name=\"SECTION0001004000000000000000\" target=\"_blank\"/>Sample Output </span></h2>&#13;\n<pre>There are no solutions for 61.&#13;\n&#13;\n79546 / 01283 = 62&#13;\n94736 / 01528 = 62&#13;\n</pre>&#13;\n<p> </p>&#13;\n<p><br/></p>&#13;\n<pre name=\"code\" class=\"cpp\">//============================================================================&#13;\n// Name        : uva 725&#13;\n// Author      : lvyahui&#13;\n// Version     :&#13;\n// Copyright   : Your copyright notice&#13;\n// Description : Hello World in C++, Ansi-style&#13;\n//============================================================================&#13;\n&#13;\n#include &lt;iostream&gt;&#13;\n#include &lt;cstdio&gt;&#13;\n#include &lt;list&gt;&#13;\n#include &lt;cstring&gt;&#13;\nusing namespace std;&#13;\n&#13;\nchar str[10];&#13;\nbool val[10];&#13;\n&#13;\nbool check(int a,int b){&#13;\n	bool isok = true;&#13;\n	sprintf(str,\"%05d%05d\",a,b);&#13;\n	memset(val,false,sizeof(val));&#13;\n	for (int i = 0; i &lt; 10; ++i) {&#13;\n		if(val[str[i]-\'0\']){&#13;\n			isok = false;break;&#13;\n                }&#13;\n		val[str[i]-\'0\'] = true;&#13;\n	}&#13;\n	return isok;&#13;\n}&#13;\nint main() {&#13;\n	int n;&#13;\n&#13;\n&#13;\n	memset(val,0,sizeof(val));&#13;\n	scanf(\"%d\",&amp;n);&#13;\n	int b;&#13;\n	bool hasans = false;&#13;\n	for(int a=1234;a &lt; 49383;a++){// b最大到98765 除2就是49383&#13;\n		// b / a = n&#13;\n		b = a * n;&#13;\n		if(b &gt;= 98765){&#13;\n			break;&#13;\n		}&#13;\n		if(check(a,b)){&#13;\n			printf(\"%05d / %05d = %d\\n\",b , a , n);&#13;\n			if(!hasans){&#13;\n				hasans = true;&#13;\n			}&#13;\n		}&#13;\n	}&#13;\n	if(!hasans){&#13;\n		printf(\"There are no solutions for %d\",n);&#13;\n	}&#13;\n	return 0;&#13;\n}&#13;\n</pre>&#13;\n<p><br/></p>&#13;\n<p> </p>&#13;\n<p><br/></p>&#13;\n<p><br/></p>&#13;\n<p><br/></p>&#13;\n<p> </p></div>',62,'2014-08-27 04:23:00','2016-07-31 10:20:49',12,'http://www.cnblogs.com/lvyahui/p/4009959.html',4009959),(447,'最大乘积(Maximum Product,UVA 11059)',' &#13;\nProblem D - Maximum Product&#13;\nTime Limit: 1 second&#13;\n &#13;\nGive','<div id=\"cnblogs_post_body\"><p> </p>&#13;\n<h1 align=\"center\">Problem D - Maximum Product</h1>&#13;\n<h3 align=\"center\"><a name=\"t1\" target=\"_blank\"/>Time Limit: 1 second</h3>&#13;\n<p> </p>&#13;\n<p>Given a sequence of integers <strong>S = {S<sub>1</sub>, S<sub>2</sub>, ..., S<sub>n</sub>}</strong>, you should determine what is the value of the maximum positive product involving consecutive terms of<strong>S</strong>. If you cannot find a positive sequence, you should consider <strong>0</strong> as the value of the maximum product.</p>&#13;\n<h2><a name=\"t2\" target=\"_blank\"/>Input</h2>&#13;\n<p>Each test case starts with <strong>1 ≤ N ≤ 18</strong>, the number of elements in a sequence. Each element<strong>S<sub>i</sub></strong> is an integer such that<strong>-10 ≤ S<sub>i</sub> ≤ 10</strong>. Next line will have<strong>N</strong> integers, representing the value of each element in the sequence. There is a blank line after each test case. The input is terminated by end of file (EOF).</p>&#13;\n<h2><a name=\"t3\" target=\"_blank\"/>Output</h2>&#13;\n<p>For each test case you must print the message: <strong>Case #M: The maximum product is P.</strong>, where<strong>M</strong> is the number of the test case, starting from<strong>1</strong>, and<strong>P</strong> is the value of the maximum product. After each test case you must print a blank line.</p>&#13;\n<h2><a name=\"t4\" target=\"_blank\"/>Sample Input</h2>&#13;\n<pre>3&#13;\n2 4 -3&#13;\n&#13;\n5&#13;\n2 5 -1 2 -1&#13;\n&#13;\n</pre>&#13;\n<h2><a name=\"t5\" target=\"_blank\"/>Sample Output</h2>&#13;\n<pre>Case #1: The maximum product is 8.&#13;\n&#13;\nCase #2: The maximum product is 20.&#13;\n&#13;\n</pre>&#13;\n<p><br/></p>&#13;\n<p><br/></p>&#13;\n<p> </p>&#13;\n<pre name=\"code\" class=\"cpp\">#include &lt;stdio.h&gt;&#13;\n#include &lt;set&gt;&#13;\n&#13;\nusing namespace std;&#13;\n&#13;\nint main(){&#13;\n	int n;&#13;\n	int * val = NULL;&#13;\n	set&lt;long long&gt; s;&#13;\n	while((scanf(\"%d\",&amp;n) == 1) &amp;&amp; n != 0){&#13;\n		val =  new int[n];&#13;\n		int i = 0;&#13;\n		for (;i  &lt; n; i++) {&#13;\n			scanf(\"%d\",&amp;val[i]);&#13;\n		}&#13;\n		s.clear();&#13;\n		int j ;&#13;\n		for(i = 0;i &lt; n -1;i++){	//枚举起点&#13;\n&#13;\n			for (j = i; j &lt; n; ++j) {//枚举终点&#13;\n				int k;long long ji = 1;&#13;\n				for(k = i; k &lt;= j;k++){&#13;\n					ji *= val[k];&#13;\n				}&#13;\n				s.insert(ji);&#13;\n			}&#13;\n&#13;\n		}&#13;\n&#13;\n		long long max = *(s.rbegin());&#13;\n		if(max &gt; 0){&#13;\n			printf(\"%ld\\n\",max);&#13;\n		}&#13;\n		else{&#13;\n			printf(\"0\\n\");&#13;\n		}&#13;\n                delete val;&#13;\n        }&#13;\n&#13;\n&#13;\n	return 0;&#13;\n&#13;\n}&#13;\n&#13;\n</pre>&#13;\n<p><br/></p>&#13;\n<p> </p>&#13;\n<p><br/></p>&#13;\n<p><br/></p>&#13;\n<p> </p></div>',139,'2014-08-26 19:13:00','2016-07-31 10:20:50',12,'http://www.cnblogs.com/lvyahui/p/4009958.html',4009958),(448,'分数拆分（ Fractions Again， UVA 10976）-ACM',' &#13;\nIt is easy to see that for every fraction in the form ','<div id=\"cnblogs_post_body\"><p> </p>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\"><span style=\"font-size: 32px;\">I</span>t is easy to see that for every fraction in the form <img src=\"http://uva.onlinejudge.org/external/109/p10976a.gif\" alt=\"\"/> (<strong><em>k</em></strong> &gt; 0), we can always find two positive integers <strong><em>x</em></strong> and <strong><em>y</em></strong>,<strong><em>x</em></strong> ≥ <strong><em>y</em></strong>, such that: <br/></p>&#13;\n<blockquote style=\"font-family: \'Times New Roman\'; font-size: 14px;\"><img src=\"http://uva.onlinejudge.org/external/109/p10976b.gif\" alt=\"\"/>.</blockquote>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">Now our question is: can you write a program that counts how many such pairs of <strong><em>x</em></strong> and <strong><em>y</em></strong> there are for any given<strong><em>k</em></strong>?</p>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><a name=\"t0\" target=\"_blank\"/><a name=\"SECTION00001000000000000000\" target=\"_blank\"/><span style=\"color: #006666;\">Input</span></h2>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">Input contains no more than 100 lines, each giving a value of <strong><em>k</em></strong> (0 &lt; <strong><em>k</em></strong> ≤ 10000).</p>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><a name=\"t1\" target=\"_blank\"/><a name=\"SECTION00002000000000000000\" target=\"_blank\"/><span style=\"color: #006666;\">Output</span></h2>&#13;\n<p style=\"font-family: \'Times New Roman\'; font-size: 14px;\">For each <strong><em>k</em></strong>, output the number of corresponding (<strong><em>x</em></strong>, <strong><em>y</em></strong>) pairs, followed by a sorted list of the values of <strong><em>x</em></strong> and <strong><em>y</em></strong>,&#13;\n as shown in the sample output.</p>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><a name=\"t2\" target=\"_blank\"/><a name=\"SECTION00003000000000000000\" target=\"_blank\"/><span style=\"color: #006666;\">Sample Input</span></h2>&#13;\n<pre>2&#13;\n12&#13;\n</pre>&#13;\n<h2 style=\"font-family: \'Times New Roman\';\"><a name=\"t3\" target=\"_blank\"/><a name=\"SECTION00004000000000000000\" target=\"_blank\"/><span style=\"color: #006666;\">Sample Output</span></h2>&#13;\n<pre>2&#13;\n1/2 = 1/6 + 1/3&#13;\n1/2 = 1/4 + 1/4&#13;\n8&#13;\n1/12 = 1/156 + 1/13&#13;\n1/12 = 1/84 + 1/14&#13;\n1/12 = 1/60 + 1/15&#13;\n1/12 = 1/48 + 1/16&#13;\n1/12 = 1/36 + 1/18&#13;\n1/12 = 1/30 + 1/20&#13;\n1/12 = 1/28 + 1/21&#13;\n1/12 = 1/24 + 1/24</pre>&#13;\n<p><br/></p>&#13;\n<p>这个题目做起来不难，难点在数值精度到问题上，我是参照了这为朋友到讲解</p>&#13;\n<p>http://www.2cto.com/kf/201111/111420.html</p>&#13;\n<p> </p>&#13;\n<pre name=\"code\" class=\"cpp\">/*&#13;\n * FractionAgain.cpp&#13;\n *&#13;\n *  Created on: 2014-8-27&#13;\n *      Author: root&#13;\n */&#13;\n&#13;\n#include &lt;iostream&gt;&#13;\n#include &lt;vector&gt;&#13;\n#include &lt;string&gt;&#13;\n#include &lt;cstdio&gt;&#13;\nusing namespace std;&#13;\nbool isInt(double n){&#13;\n	double c = n-(int)n;&#13;\n	if(n &gt;= 0){&#13;\n		if( c &lt; 1e-15 || c &lt; -0.999999999999999 ) {&#13;\n			//单精度对应1e-6和6个9，双精度对应1e-15和15个9&#13;\n			return true;&#13;\n		}&#13;\n		else{&#13;\n			return false;&#13;\n		}&#13;\n	}&#13;\n	else{&#13;\n		 if( -c &lt; 1e-15 || -c &lt; -0.999999999999999 ){&#13;\n			 return true;&#13;\n		 }&#13;\n		 else{&#13;\n			 return false;&#13;\n		 }&#13;\n	}&#13;\n&#13;\n}&#13;\n&#13;\nint main(){&#13;\n&#13;\n	long  k ;&#13;\n	vector&lt;string&gt; ans;&#13;\n	char str[100];&#13;\n	while((cin&gt;&gt;k)  &amp;&amp; k != 0){&#13;\n		long  max = k &lt;&lt; 1;&#13;\n		int y;&#13;\n		ans.clear();&#13;\n		for ( y = k + 1; y &lt;= max; ++y) {&#13;\n			double  x = (double)(k*y)/(y - k);&#13;\n			if(isInt(x)){&#13;\n				sprintf(str,\"1/%ld = 1/%d + 1/%d\\n\",k,(int)x,y);&#13;\n				ans.push_back(str);&#13;\n			}&#13;\n&#13;\n		}&#13;\n		int size = ans.size();&#13;\n		cout&lt;&lt;size&lt;&lt;endl;&#13;\n		for (y = 0;y &lt; size;y++) {&#13;\n			cout&lt;&lt;ans[y];&#13;\n		}&#13;\n	}&#13;\n&#13;\n	return 0;&#13;\n}&#13;\n</pre>&#13;\n<p><br/></p>&#13;\n<p><br/></p>&#13;\n<p> </p></div>',29,'2014-08-26 20:06:00','2016-07-31 10:20:51',12,'http://www.cnblogs.com/lvyahui/p/4009956.html',4009956),(449,'熄灯问题 --POJ 2811-ACM','问题描述&#13;\n','<div id=\"cnblogs_post_body\"><p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">问题描述</span></p>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">    </span>一个由按钮组成的矩阵，其中每行有<span style=\"color: black;\">6</span><span style=\"color: black;\">个按钮，共</span><span style=\"color: black;\">5</span><span style=\"color: black;\">行。每个按钮的位置上有一盏灯。当按下一个按钮后，该按钮以及周围位置</span><span style=\"color: black;\">(</span><span style=\"color: black;\">上边、下边、左边、右边</span><span style=\"color: black;\">)</span><span style=\"color: black;\">的灯都会改变一次。即，如果灯原来是点亮的，就会被熄灭；如果灯原来是熄灭的，则会被点亮。在矩阵角上的按钮改变</span><span style=\"color: black;\">3</span><span style=\"color: black;\">盏灯的状态；在矩阵边上的按钮改变</span><span style=\"color: black;\">4</span><span style=\"color: black;\">盏灯的状态；其他的按钮改变</span><span style=\"color: black;\">5</span><span style=\"color: black;\">盏灯的状态。</span></span></span></p>&#13;\n<p align=\"center\"><img src=\"http://img.blog.csdn.net/20140828191815187?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/></p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">在上图中，左边矩阵中用</span><span style=\"color: black;\">X</span><span style=\"color: black;\">标记的按钮表示被按下，右边的矩阵表示灯状态的改变。对矩阵中的每盏灯设置一个初始状态。请你按按钮，直至每一盏等都熄灭。与一盏灯毗邻的多个按钮被按下时，一个操作会抵消另一次操作的结果。在下图中，第</span><span style=\"color: black;\">2</span><span style=\"color: black;\">行第</span><span style=\"color: black;\">3</span><span style=\"color: black;\">、</span><span style=\"color: black;\">5</span><span style=\"color: black;\">列的按钮都被按下，因此第</span><span style=\"color: black;\">2</span><span style=\"color: black;\">行、第</span><span style=\"color: black;\">4</span><span style=\"color: black;\">列的灯的状态就不改变。 </span></span></span></p>&#13;\n<p align=\"center\"><img src=\"http://img.blog.csdn.net/20140828192058793?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">请你写一个程序，</span><span style=\"color: #ff3300;\">确定需要按下哪些按钮，恰好使得所有的灯都熄灭</span><span style=\"color: black;\">。根据上面的规则，我们知道：</span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">(1)</span><span style=\"color: black;\">第</span><span style=\"color: black;\">2</span><span style=\"color: black;\">次按下同一个按钮时，将抵消第</span><span style=\"color: black;\">1</span><span style=\"color: black;\">次按下时所产生的结果。因此，每个按钮最多只需要按下一次；</span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">(2)</span><span style=\"color: black;\">各个按钮被按下的顺序对最终的结果没有影响；</span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">(3)</span><span style=\"color: black;\">对第</span><span style=\"color: black;\">1</span><span style=\"color: black;\">行中每盏点亮的灯，按下第</span><span style=\"color: black;\">2</span><span style=\"color: black;\">行对应的按钮，就可以熄灭第</span><span style=\"color: black;\">1</span><span style=\"color: black;\">行的全部灯。如此重复下去，可以熄灭第</span><span style=\"color: black;\">1</span><span style=\"color: black;\">、</span><span style=\"color: black;\">2</span><span style=\"color: black;\">、</span><span style=\"color: black;\">3</span><span style=\"color: black;\">、</span><span style=\"color: black;\">4</span><span style=\"color: black;\">行的全部灯。同样，按下第</span><span style=\"color: black;\">1</span><span style=\"color: black;\">、</span><span style=\"color: black;\">2</span><span style=\"color: black;\">、</span><span style=\"color: black;\">3</span><span style=\"color: black;\">、</span><span style=\"color: black;\">4</span><span style=\"color: black;\">、</span><span style=\"color: black;\">5</span><span style=\"color: black;\">列的按钮，可以熄灭前</span><span style=\"color: black;\">5</span><span style=\"color: black;\">列的灯。</span></span></span></p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: #000099;\">输入数据</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">第一行是一个正整数</span><span style=\"color: black;\">N</span><span style=\"color: black;\">，表示需要解决的案例数。每个案例由</span><span style=\"color: black;\">5</span><span style=\"color: black;\">行组成，每一行包括</span><span style=\"color: black;\">6</span><span style=\"color: black;\">个数字。这些数字以空格隔开，可以是</span><span style=\"color: black;\">0</span><span style=\"color: black;\">或</span><span style=\"color: black;\">1</span><span style=\"color: black;\">。</span><span style=\"color: black;\">0</span><span style=\"color: black;\">表示灯的初始状态是熄灭的，</span><span style=\"color: black;\">1</span><span style=\"color: black;\">表示灯的初始状态是点亮的。</span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: #000099;\">输出要求</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">对每个案例，首先输出一行，输出字符串</span><span style=\"color: black;\">“</span><span style=\"color: black;\">PUZZLE #m</span><span style=\"color: black;\">”</span><span style=\"color: black;\">，其中</span><span style=\"color: black;\">m</span><span style=\"color: black;\">是该案例的序号。接着按照该案例的输入格式输出</span><span style=\"color: black;\">5</span><span style=\"color: black;\">行，其中的</span><span style=\"color: black;\">1</span><span style=\"color: black;\">表示需要把对应的按钮按下，</span><span style=\"color: black;\">0</span><span style=\"color: black;\">则表示不需要按对应的按钮。每个数字以一个空格隔开。</span></span></span></p>&#13;\n<pre name=\"code\" class=\"plain\">输入样例&#13;\n2 &#13;\n0 1 1 0 1 0&#13;\n1 0 0 1 1 1 &#13;\n0 0 1 0 0 1 &#13;\n1 0 0 1 0 1 &#13;\n0 1 1 1 0 0 &#13;\n0 0 1 0 1 0 &#13;\n1 0 1 0 1 1 &#13;\n0 0 1 0 1 1 &#13;\n1 0 1 1 0 0 &#13;\n0 1 0 1 0 0&#13;\n</pre>&#13;\n<p><br/>&#13;\n </p>&#13;\n<pre name=\"code\" class=\"plain\">输出样例&#13;\nPUZZLE #1 &#13;\n1 0 1 0 0 1 &#13;\n1 1 0 1 0 1 &#13;\n0 0 1 0 1 1 &#13;\n1 0 0 1 0 0 &#13;\n0 1 0 0 0 0&#13;\nPUZZLE #2 &#13;\n1 0 0 1 1 1 &#13;\n1 1 0 0 0 0 &#13;\n0 0 0 1 0 0 &#13;\n1 1 0 1 0 1 &#13;\n1 0 1 1 0 1&#13;\n</pre>&#13;\n<p><br/></p>&#13;\n<p align=\"center\"><img src=\"http://img.blog.csdn.net/20140828192148437?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/></p>&#13;\n<p align=\"left\"> </p>&#13;\n<p> </p>&#13;\n<div><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">根据熄灯规则，如果矩阵</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">是寻找的答案，那么按照</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">的第一行对矩阵中的按钮操作之后，此时在矩阵的第一行上：</span></span></span></div>&#13;\n<div><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">如果位置</span><span style=\"color: black;\">(1, j)</span><span style=\"color: black;\">上的灯是点亮的，则要按下位置</span><span style=\"color: black;\">(2, j)</span><span style=\"color: black;\">上按钮，即</span><span style=\"color: black;\">press[2][j]</span><span style=\"color: black;\">一定取</span><span style=\"color: black;\">1</span><span style=\"color: black;\">；</span></span></span></div>&#13;\n<div><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\"> 如果位置</span><span style=\"color: black;\">(1, j)</span><span style=\"color: black;\">上的灯是熄灭的，则不能按位置</span><span style=\"color: black;\">(2, j)</span><span style=\"color: black;\">上按钮，即</span><span style=\"color: black;\">press[2][j]</span><span style=\"color: black;\">一定取</span><span style=\"color: black;\">0</span><span style=\"color: black;\">。</span></span></span></div>&#13;\n<div><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">这样依据</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">的第一、二行操作矩阵中的按钮，才能保证第一行的灯全部熄灭。而对矩阵中第三、四、五行的按钮无论进行什么样的操作，都不影响第一行各灯的状态。依此类推，可以确定</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">第三、四、五行的值。</span></span></span></div>&#13;\n<div><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">因此，一旦确定了</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">第一行的值之后，为熄灭矩阵中第一至四行的灯，其他行的值也就随之确定了。</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">的第一行共有</span><span style=\"color: black;\">2^6 </span>&#13;\n<span style=\"color: black;\">种取值，分别对应唯一的一种</span><span style=\"color: black;\">press </span>&#13;\n<span style=\"color: black;\">取值，使得矩阵中前四行的灯都能熄灭。只要对这</span><span style=\"color: black;\">2^6&#13;\n</span><span style=\"color: black;\">种情况进行判断就可以了：如果按照其中的某个</span><span style=\"color: black;\">press</span><span style=\"color: black;\">对矩阵中的按钮进行操作后，第五行的所有灯也恰好熄灭，则找到了答案。</span></span></span></div>&#13;\n<div>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: #000099;\">解决方案</span></p>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">(1)</span><span style=\"color: black;\">对</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">第一行的元素</span><span style=\"color: black;\">press[1][1]~ press [1][6]</span><span style=\"color: black;\">的各种取值情况进行枚举，依次考虑如下情况：</span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">0 0 0 0 0 0</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">1 0 0 0 0 0</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">0 1 0 0 0 0</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">1 1 0 0 0 0</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">0 0 1 0 0 0</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">……</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">1 1 1 1 1 1</span></p>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">(2)&#13;\n</span><span style=\"color: black;\">对</span><span style=\"color: black;\">press </span><span style=\"color: black;\">第一行每一种取值，根据熄灯规则计算出</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">的其他行的值。判断这个</span><span style=\"color: black;\">press&#13;\n</span><span style=\"color: black;\">能否使得矩阵第五行的所有灯也恰好熄灭。</span></span></span></p>&#13;\n<p> </p>&#13;\n<pre name=\"code\" class=\"cpp\">#include &lt;stdio.h&gt;&#13;\nint puzzle[6][8],press[6][8];&#13;\n&#13;\nbool guess()&#13;\n{&#13;\n    int c,r;&#13;\n    for (r=1;r&lt;5;r++ )&#13;\n        for (c=1;c&lt;7;c++)&#13;\n            press[r+1][c]=(puzzle[r][c]+press[r][c]&#13;\n                                        +press[r-1][c]+press[r][c-1]&#13;\n                                        +press[r][c+1])%2;&#13;\n    for(c=1;c&lt;7;c++) //判断最后一行是否熄灭&#13;\n        if ((press[5][c-1]+press[5][c]+press[5][c+1]&#13;\n                                     +press[4][c])%2!=puzzle[5][c])&#13;\n            return(false);&#13;\n    return true;&#13;\n}&#13;\n&#13;\nint main(){&#13;\n	int cases,r,c;&#13;\n	unsigned i = 0 , j = 0;&#13;\n	unsigned int w = 1;&#13;\n	&#13;\n	for (r=0;r&lt;6;r++)&#13;\n        press[r][0]=press[r][7]=0;&#13;\n    for (c=1;c&lt;7;c++)&#13;\n        press[0][c]=0;&#13;\n    scanf(\"%d\", &amp;cases);&#13;\n	while(cases!=0){&#13;\n		for (r=1;r&lt;6;r++)&#13;\n		   for (c=1;c&lt;7;c++)&#13;\n			   scanf(\"%d\", &amp;puzzle[r][c]);&#13;\n		&#13;\n		//对第一行枚举64种操作&#13;\n		for(i = 0;i&lt;64;i++){&#13;\n			w = 1;&#13;\n			for(j = 1;j &lt; 7;j++){&#13;\n				press[1][7-j] = (i &amp; w)&gt;&gt;(j-1);&#13;\n				//printf(\"%d \",w);&#13;\n				w = w &lt;&lt; 1;&#13;\n				//printf(\"%d\",press[1][7-j]);&#13;\n			}&#13;\n			//printf(\"  i=%d\\n\",i);&#13;\n			//000000  --- 11111111  press[1][1 ... 6]&#13;\n			//直到出现符合要求的&#13;\n			if(guess()){&#13;\n				break;&#13;\n			}&#13;\n		}&#13;\n&#13;\n		printf(\"PUZZLE #%d\\n\",cases--);&#13;\n		for (r=1;r&lt;6;r++) &#13;\n		{&#13;\n			for (c=1;c&lt;7;c++)&#13;\n				printf(\"%d \",press[r][c]);&#13;\n			printf(\"\\n\");&#13;\n		}&#13;\n	}&#13;\n	return 0;&#13;\n}&#13;\n&#13;\n</pre>&#13;\n<p><br/>&#13;\n </p>&#13;\n&#13;\n&#13;\n</div>&#13;\n<p> </p></div>',35,'2014-08-27 23:19:00','2016-07-31 10:20:52',12,'http://www.cnblogs.com/lvyahui/p/4009955.html',4009955),(450,'搜索所有的路径-矩阵运算-暴力-ACM','给定一个n*n','<div id=\"cnblogs_post_body\"><div><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">给定一个</span><span style=\"color: black;\">n*n</span><span style=\"color: black;\">整数矩阵，定义对</span><span style=\"color: black;\">I</span><span style=\"color: black;\">行的</span><span style=\"color: black;\">SHIFT</span><span style=\"color: black;\">操作</span><span style=\"color: black;\">( 0 &lt;= </span><span style=\"color: black;\">i</span><span style=\"color: black;\"> &lt; n )</span><span style=\"color: black;\">，是将第</span><span style=\"color: black;\">I</span><span style=\"color: black;\">行所有元素都右移一位，最右边的移到最左边。</span></span></span></div>&#13;\n<div><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">你可以对任意行进行任意次</span><span style=\"color: black;\">SHIFT</span><span style=\"color: black;\">操作，使得：</span></span></span></div>&#13;\n<div><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: #ff0000;\">max0&lt;=j&lt; n{Cj|Cj=Σ0&lt;=i&lt; nAi,j}</span><span style=\"color: black;\">最小化。</span></span></span></div>&#13;\n<div>&#13;\n<div><span style=\"color: black;\">输入：</span></div>&#13;\n<p><span style=\"color: black;\"> </span><span style=\"font-family: Microsoft YaHei;\">有多个测试序列，每个测试序列第一行是一个整数<span style=\"color: black;\">n</span><span style=\"color: black;\">（</span><span style=\"color: black;\">1&lt;=n&lt;=7</span><span style=\"color: black;\">）</span><span style=\"color: black;\">,</span><span style=\"color: black;\">表明矩阵的阶。后面</span><span style=\"color: black;\">n</span><span style=\"color: black;\">行每行</span><span style=\"color: black;\">n</span><span style=\"color: black;\">个整数，表示矩陈元素。</span><span style=\"color: black;\">n=-1</span><span style=\"color: black;\">表示输入结束，无需处理。</span></span></p>&#13;\n<pre name=\"code\" class=\"plain\">2&#13;\n4 6 &#13;\n3 7&#13;\n3&#13;\n1 2 3&#13;\n4 5 6&#13;\n7 8 9&#13;\n-1&#13;\n</pre>&#13;\n<p> </p>&#13;\n<div><span style=\"color: black;\">输出：</span></div>&#13;\n<p><span style=\"color: black;\">     </span>最小值</p>&#13;\n<pre name=\"code\" class=\"plain\">11&#13;\n15</pre>&#13;\n<div><span style=\"font-family: Microsoft YaHei; color: black;\">解题思路：</span></div>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">     不需要特殊的数据结构；从题目描述，数据的规模不大（</span><span style=\"color: black;\">n&lt;8</span><span style=\"color: black;\">），算法采用暴力搜索。所有的可能情况都找出来：每一行都可能移</span><span style=\"color: black;\">0</span><span style=\"color: black;\">到</span><span style=\"color: black;\">n-1</span><span style=\"color: black;\">步，所以总的情况有</span><span style=\"color: black;\">n</span><span style=\"color: black;\">n</span><span style=\"color: black;\"> </span><span style=\"color: black;\">种，对每种情况进行编号。如</span><span style=\"color: black;\">n=7</span><span style=\"color: black;\">时，</span><span style=\"color: black;\">7</span><span style=\"color: black;\">进制的</span><span style=\"color: black;\">0123456</span><span style=\"color: black;\">表示第一行不动，第二行移动一次</span><span style=\"color: black;\">……</span></span></p>&#13;\n<p> </p>&#13;\n<pre name=\"code\" class=\"cpp\">#include &lt;stdio.h&gt;&#13;\n#include &lt;math.h&gt;&#13;\n&#13;\nint n;&#13;\nint matrix[128][128];&#13;\nint s[128];&#13;\nvoid inttoseries(int i,int *s) &#13;\n{&#13;\n	int j,k;&#13;\n	//函数将序号化为移动的序列&#13;\n	for(k=0,j=i;k&lt;n-1;++k)&#13;\n	{&#13;\n		//二维数组并未移动，s[k]记录的偏移量,第一行未移动&#13;\n		s[k]=j%n;j/=n;&#13;\n	}&#13;\n}&#13;\n&#13;\nint maxcolumn(int *s)&#13;\n{&#13;\n	int max,i,j,temp;&#13;\n	// 函数返回在指定移动情况下的最大值。&#13;\n	for(max=matrix[0][0],i=1;i&lt;n;++i)&#13;\n		max+=matrix[i][s[i-1]];					//计算第1列的和&#13;\n	for(i=1;i&lt;n;++i)&#13;\n	{ &#13;\n		for(j=1,temp=matrix[0][i];j&lt;n;++j)&#13;\n			temp+=matrix[j][(s[j-1]+i)%n];      //计算第 i 列的和&#13;\n		if(temp&gt;max)max=temp;&#13;\n	} return max;&#13;\n}&#13;\n&#13;\nint main(){&#13;\n	int min,i,j,temp;&#13;\n	while(scanf(\"%d\",&amp;n),n+1) &#13;\n	{   &#13;\n		for(i = 0;i&lt;n;i++){&#13;\n			for(j = 0;j&lt;n;j++){&#13;\n				scanf(\"%d\",&amp;matrix[i][j]);&#13;\n			}&#13;\n		}&#13;\n		inttoseries(0,s);&#13;\n		min=maxcolumn(s);&#13;\n		int k = (int)pow(n,n);		//所有可能的情况共有n^n种&#13;\n		for(i=1;i&lt;k;++i)			//循环将遍历所有移动情况&#13;\n		{&#13;\n			inttoseries(i,s);		//将i转换成移动编码s&#13;\n			temp=maxcolumn(s);		//计算按照移动编码s进行移动所能取得的最大值&#13;\n			if(temp&lt;min)min=temp;	&#13;\n		}&#13;\n		printf(\"%d\\n\",min); &#13;\n	} &#13;\n	return 0;&#13;\n}</pre>&#13;\n<p><br/>&#13;\n </p>&#13;\n<p><br/><br/>&#13;\n </p>&#13;\n&#13;\n</div>&#13;\n<p> </p></div>',15,'2014-08-28 00:07:00','2016-07-31 10:20:53',12,'http://www.cnblogs.com/lvyahui/p/4009954.html',4009954),(451,'假金币问题-PKUacm1029-ACM','假金币&#13;\n','<div id=\"cnblogs_post_body\"><p align=\"center\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">假金币</span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">“Gold Bar”银行收到可靠消息：在前次的N 个金币中有一枚重量不同的假金币(其他金币的重量都相同)。经济危机之后他们只有一台天平可用。用这台天平，可以称量出左边托盘中的物体是轻于、重于或等于右边托盘中的物体。</span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">为了分辨出假金币，银行职员将所有的金币编为1到N号。然后用天平称量不同的金币组合，每次仔细记载称量金币的编号和结果。</span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">现在要求你编写一个程序，帮助银行职员根据称量记录来找出假金币的编号。 </span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"> </span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><strong>输入：</strong></span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"> 第一行输入两个空格隔开的整数N和K，N是金币的总数(2&lt;=N&lt;=1000 ) ， K是称量的次数(1&lt;=K&lt;=100)。随后的2K行记录称量的情况和结果，连续两行记录一次称量：第一行首先是Pi (1&lt;=Pi&lt;=N/2)，表示两边托盘中放置的金币数目，随后是左边托盘中Pi个金币编号和右边托盘中Pi个金币编号，所有的数之间都由空格隔开；第二行用\'&lt;\'，\'&gt;\'，\'=\'和记录称量结果： </span></p>&#13;\n<ul><li>&#13;\n<div align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"> \'&lt;\'表示左边托盘中的金币比右边的轻；</span></div>&#13;\n</li>&#13;\n<li>&#13;\n<div align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">  \'&gt;\'表示左边托盘中的金币比右边的重； </span></div>&#13;\n</li>&#13;\n<li>&#13;\n<div align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"> \'=\'表示左右两边托盘中的金币一样重。 </span></div>&#13;\n</li>&#13;\n</ul><p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"> </span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><strong>输出：</strong></span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">输出假金币的编号。如果根据称量纪录无法确定假金币，输出0。</span></p>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><strong>输入样例：</strong></span></p>&#13;\n<pre name=\"code\" class=\"plain\">5 3&#13;\n2 1 2 3 4&#13;\n&lt; &#13;\n1 1 4&#13;\n=&#13;\n1 2 5&#13;\n= &#13;\n</pre>&#13;\n<p align=\"left\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><strong>输出样例：</strong></span></p>&#13;\n<pre name=\"code\" class=\"plain\">3&#13;\n</pre>&#13;\n<p align=\"left\"><br/>&#13;\n </p>&#13;\n<pre name=\"code\" class=\"cpp\">#include &lt;stdio.h&gt;&#13;\nint ids[126][1024];&#13;\nint op[126];&#13;\nint n,k;&#13;\n&#13;\nbool isTrue(int id){&#13;\n	int i;&#13;\n	bool isTrue = false;&#13;\n	for(i=0;i &lt; k;i++){&#13;\n		int j;&#13;\n		bool found;&#13;\n		found = false;&#13;\n		for(j = 1;j&lt;=(ids[i][0]&lt;&lt;1);j++){&#13;\n			if(ids[i][j] == id){&#13;\n				found = true;&#13;\n				break;&#13;\n			}&#13;\n		}&#13;\n		if(found &amp;&amp; op[i] == \'=\' || !found &amp;&amp; op[i]!=\'=\'){	&#13;\n			//如果找到了，并且实验结果为相等。&#13;\n			//或者，未找到，且实验结果不等（即有问题的金币在当前组中）&#13;\n			//则id编号的金币一定是为真的金币&#13;\n			isTrue = true;&#13;\n			break;&#13;\n		}&#13;\n	}&#13;\n	return isTrue;&#13;\n}&#13;\n&#13;\nint main(){&#13;\n&#13;\n	scanf(\"%d%d\",&amp;n,&amp;k);		//输入金币数和测试数据组数&#13;\n	if(!(2&lt;=n &amp;&amp; n &lt;=1000) || !(1 &lt;= k &amp;&amp; k &lt;= 100)){&#13;\n		return 1;&#13;\n	}&#13;\n	int i,j;&#13;\n	for(i = 0;i &lt; k;i++){&#13;\n		scanf(\"%d\",&amp;ids[i][0]);					//输出本次实验每个盘上放置的金币个数&#13;\n		for(j = 1;j &lt;= (ids[i][0]&lt;&lt;1);j++){&#13;\n			scanf(\"%d\",&amp;ids[i][j]);				//依次输入金币编号&#13;\n		}&#13;\n		scanf(\"%*c%c\",&amp;op[i]);&#13;\n	}&#13;\n&#13;\n	&#13;\n	//从第1个金币开始，迭代校验第i个金币是否为真&#13;\n	for(i = 1; i &lt;= n ;i++){&#13;\n		if(!isTrue(i)){&#13;\n			//false_id = i;&#13;\n			break;&#13;\n		}&#13;\n	}&#13;\n	printf(\"%d\",i);&#13;\n	return 0;&#13;\n}</pre>&#13;\n<p align=\"left\"><br/>&#13;\n </p>&#13;\n<p> </p></div>',54,'2014-08-28 23:06:00','2016-07-31 10:20:54',12,'http://www.cnblogs.com/lvyahui/p/4009953.html',4009953),(452,'马的遍历问题-回溯法应用-ACM','马的遍历问题&#13;\n&#13;\n','<div id=\"cnblogs_post_body\"><p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">马的遍历问题</span></p>&#13;\n<blockquote style=\"margin-right: 0px;\" dir=\"ltr\">&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\"> </span>在<span style=\"color: black;\">n</span><span style=\"color: black;\">＊</span><span style=\"color: black;\">m</span><span style=\"color: black;\">的棋盘中，马只能走“日” 字。马从位置</span><span style=\"color: black;\">(</span><span style=\"color: black;\">x,y</span><span style=\"color: black;\">)</span><span style=\"color: black;\">处出发，把棋盘的每一格都走一次，且只走一次。找出所有路径。</span></span></span></p>&#13;\n</blockquote>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">问题解的搜索空间？</span></p>&#13;\n<blockquote style=\"margin-right: 0px;\" dir=\"ltr\">&#13;\n<p><span style=\"color: black;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">棋盘的规模是</span><span style=\"color: black;\">n*m</span><span style=\"color: black;\">，是指行有</span><span style=\"color: black;\">n</span><span style=\"color: black;\">条边，列有</span><span style=\"color: black;\">m</span><span style=\"color: black;\">条边。</span></span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">马在棋盘的点上走，所以搜索空间是整个棋盘上的</span><span style=\"color: black;\">n*m</span><span style=\"color: black;\">个点。</span></span></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">用</span><span style=\"color: black;\">n*m</span><span style=\"color: black;\">的二维数组记录马行走的过程，初值为</span><span style=\"color: black;\">0</span><span style=\"color: black;\">表示未经过。</span></span></span></p>&#13;\n<p align=\"center\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\"><img src=\"http://img.blog.csdn.net/20140829205517276?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/></span></span></span></p>&#13;\n</blockquote>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">在寻找路径过程中，活结点的扩展规则？</span></p>&#13;\n<blockquote style=\"margin-right: 0px;\" dir=\"ltr\">&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-size: 12px;\"><span style=\"color: black;\">对于棋盘上任意一点</span><span style=\"color: black;\">A(</span><span style=\"color: black;\">x,y</span><span style=\"color: black;\">)</span><span style=\"color: black;\">，有八个扩展方向：</span></span></span></p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">A(x+1,y+2),A(x+2,y+1)</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">A(x+2,y-1),A(x+1,y-2)</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">A(x-1,y-2),A(x-2,y-1)</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: black;\">A(x-2,y+1),A(x-1,y+2)</span></p>&#13;\n<div><span style=\"font-size: 12px;\"><span style=\"font-family: Microsoft YaHei;\"><span style=\"color: black;\">为构造循环体，用数组</span><span style=\"color: black;\">fx</span><span style=\"color: black;\">[8]={1,2,2,1,-1,-2,-2,-1},</span><span style=\"color: black;\">fy</span><span style=\"color: black;\">[8]= {2,1,-1,-2,-2,-1,1,2}</span><span style=\"color: black;\">来模拟马走“日”时下标的变化过程。</span></span></span></div>&#13;\n</blockquote>&#13;\n<div> </div>&#13;\n<div><span style=\"color: black;\">扩展的约束条件</span></div>&#13;\n<blockquote style=\"margin-right: 0px;\" dir=\"ltr\">&#13;\n<div>&#13;\n<p><span style=\"color: black;\">不出边界</span><span style=\"color: black;\">；</span></p>&#13;\n<p><span style=\"color: black;\">每个点只经过一次。</span></p>&#13;\n</div>&#13;\n<p><span style=\"color: black;\">棋盘点对应的数组元素初值为</span><span style=\"color: black;\">0</span><span style=\"color: black;\">，对走过的棋盘点的值置为</span><span style=\"color: blue;\">所走步数</span><span style=\"color: black;\">，起点存储“</span><span style=\"color: black;\">1”</span><span style=\"color: black;\">，终点存储“</span><span style=\"color: black;\">n*m”</span><span style=\"color: black;\">。</span></p>&#13;\n<div><span style=\"color: black;\">函数</span><span style=\"color: black;\">check</span><span style=\"color: black;\">，检查当前状态是否合理</span></div>&#13;\n<div> </div>&#13;\n</blockquote>&#13;\n<div dir=\"ltr\">输入</div>&#13;\n<div dir=\"ltr\">&#13;\n<pre name=\"code\" class=\"plain\">0 0</pre>&#13;\n<br/></div>&#13;\n<div dir=\"ltr\">输出</div>&#13;\n<div dir=\"ltr\">&#13;\n<pre name=\"code\" class=\"plain\">1  90 82 75 88 83 78 85 89&#13;\n71 74 2  64 81 76 87 84 79&#13;\n44 55 72 69 3  63 80 77 86&#13;\n73 70 45 56 65 68 4  62 59&#13;\n54 43 66 51 46 57 60 49 5&#13;\n41 37 53 31 67 50 47 58 61&#13;\n35 12 42 38 52 30 25 6  48&#13;\n20 39 36 13 32 23 16 29 26&#13;\n11 34 21 18 9  14 27 24 7&#13;\n40 19 10 33 22 17 8  15 28</pre>&#13;\n</div>&#13;\n<div dir=\"ltr\"> </div>&#13;\n<div dir=\"ltr\">&#13;\n<pre name=\"code\" class=\"cpp\">#include &lt;stdio.h&gt;&#13;\n#include &lt;string.h&gt;&#13;\nint matrix[10][9];&#13;\nint  journey = 1;&#13;\nint step_x[]={1,2,2,1,-1,-2,-2,-1},step_y[]={2,1,-1,-2,-2,-1,1,2};&#13;\n&#13;\nvoid outMatrix(){&#13;\n	int i,j;&#13;\n	for (i=0;i&lt;10;i++)&#13;\n	{&#13;\n		for (j=0;j&lt;9;j++)&#13;\n		{&#13;\n			printf(\"%-2d \",matrix[i][j]);&#13;\n		}&#13;\n		printf(\"\\n\");&#13;\n	}&#13;\n}&#13;\n&#13;\nbool outofbounds(int x,int y){&#13;\n	return x &lt; 0 || y &lt; 0 || x &gt;= 10 || y &gt;= 9;&#13;\n}&#13;\n&#13;\nbool isCome(int x,int y){&#13;\n	return matrix[x][y];&#13;\n}&#13;\n&#13;\nvoid gotoend(int x, int y ){&#13;\n	if(journey&gt;90) return;&#13;\n	int i;&#13;\n	matrix[x][y]=journey++;			//当前是第几步&#13;\n	for (i = 0;i&lt;8;i++) &#13;\n	{&#13;\n		int next_x = x+step_x[i];&#13;\n		int next_y = y+step_y[i];&#13;\n		if(!outofbounds(next_x,next_y) &amp;&amp; !matrix[next_x][next_y]){&#13;\n	&#13;\n			gotoend(next_x,next_y);&#13;\n		}&#13;\n	}&#13;\n}&#13;\n&#13;\nint main(){&#13;\n	int start_x,start_y;&#13;\n	int i;&#13;\n	scanf(\"%d%d\",&amp;start_x,&amp;start_y);&#13;\n	for (i = 0;i&lt;10;i++) {&#13;\n		memset(matrix[i],0,sizeof(matrix[0]));&#13;\n	}&#13;\n	gotoend(start_x,start_y);&#13;\n	outMatrix();&#13;\n	return 0;&#13;\n}&#13;\n</pre>&#13;\n<br/></div>&#13;\n<div dir=\"ltr\"><br/></div>&#13;\n<p> </p></div>',129,'2014-08-29 01:00:00','2016-07-31 10:20:54',12,'http://www.cnblogs.com/lvyahui/p/4009952.html',4009952),(453,'magento站点还原到本地','问题描述&#13;\n &#13;\n首先将网站文件夹解压到xampp/htdocs/wenjianjia目录下，然后替换sql文件里的域名为localhost/wenjianjia。然后访问前台，正常。访问后台，出问题了&#13;\nMagento网站后台不能通过','<div id=\"cnblogs_post_body\"><p>问题描述</p>&#13;\n<p> </p>&#13;\n<p>首先将网站文件夹解压到xampp/htdocs/wenjianjia目录下，然后替换sql文件里的域名为localhost/wenjianjia。然后访问前台，正常。访问后台，出问题了</p>&#13;\n<p>Magento网站后台不能通过<a href=\"http://www.domain.com/admin\" target=\"_blank\">localhost/wenjianjia/admin</a>的形式访问（前提是URL重写已经开启），这样会跳转到localhost/xampp，如果以<a href=\"http://www.domain.com/admin\" target=\"_blank\">localhost/wenjianjia/index.php/admin</a>形式访问，则每次点击login一直停留在登录页面，至于注释varien.php文件，这个我早就注释了，可见问题不在这里</p>&#13;\n<p>解决步骤</p>&#13;\n<p> </p>&#13;\n<p><span style=\"color: #333333;\">原因是因为我在做</span><span style=\"color: #333333;\">url</span><span style=\"color: #333333;\">优化时，将所有的</span><span style=\"color: #333333;\">url</span><span style=\"color: #333333;\">优化到了只有一层，比如</span></p>&#13;\n<p><span style=\"color: #333333;\"><a href=\"http://www.domain.com/catalog/sub-catalog\" target=\"_blank\">www.domain.com/catalog/sub-catalog</a> =&gt;<a href=\"http://www.domain.com/sub-catalog\" target=\"_blank\">www.domain.com/sub-catalog</a></span></p>&#13;\n<p><span style=\"color: #333333;\"><a href=\"http://www.domain.com/catalog/product\" target=\"_blank\">www.domain.com/catalog/product</a> =&gt;<a href=\"http://www.domain.com/product\" target=\"_blank\">www.domain.com/product</a></span></p>&#13;\n<p><span style=\"color: #333333;\">所以当我在</span><span style=\"color: #333333;\">xampp</span><span style=\"color: #333333;\">环境下再来还原这个站点时，就出现了问题，这里域名变成了</span><span style=\"color: #333333;\">localhost/wenjianjia</span><span style=\"color: #333333;\">，而我做的</span><span style=\"color: red;\">url</span><span style=\"color: red;\">重写会把</span><span style=\"color: red;\">wenjianjia/admin</span><span style=\"color: red;\">去掉</span><span style=\"color: #333333;\">，这样相当于访问了</span><span style=\"color: #333333;\">localhost</span><span style=\"color: #333333;\">，而在</span><span style=\"color: #333333;\">xampp</span><span style=\"color: #333333;\">环境下，这个</span><span style=\"color: #333333;\">url</span><span style=\"color: #333333;\">等价于</span><span style=\"color: #333333;\">localhost/xampp</span><span style=\"color: #333333;\">，所以每次访问都到了</span><span style=\"color: #333333;\">xampp</span><span style=\"color: #333333;\">界面</span></p>&#13;\n<p><span style=\"color: #333333;\">解决方法是配置虚拟空间</span></p>&#13;\n<p><span style=\"color: #333333;\">1</span><span style=\"color: #333333;\">、将</span><span style=\"color: #333333;\">wenjianjia</span><span style=\"color: #333333;\">的内容移到</span><span style=\"color: #333333;\">D:\\magento</span><span style=\"color: #333333;\">下</span></p>&#13;\n<p><span style=\"color: #333333;\">2</span><span style=\"color: #333333;\">、编辑</span><span style=\"color: red;\">D:\\xampp\\apache\\conf\\extra\\httpd-vhosts.conf</span><span style=\"color: #333333;\">文件</span></p>&#13;\n<p><span style=\"color: #333333;\">添加如下代码</span></p>&#13;\n<pre name=\"code\" class=\"plain\">&lt;VirtualHost *:80&gt;&#13;\n    ServerAdmin yahui@mm.com&#13;\n    DocumentRoot \"D:/xampp/htdocs/magento\"&#13;\n    ServerName www.yahuimagento.com&#13;\n    ErrorLog \"logs/yahuimagento.com-error.log\"&#13;\n    CustomLog \"logs/yahuimagento.com-access.log\" common&#13;\n&lt;/VirtualHost&gt;</pre>&#13;\n<p> </p>&#13;\n<p><span style=\"color: #333333;\">3</span><span style=\"color: #333333;\">、编辑</span><span style=\"color: red;\">D:\\xampp\\apache\\conf\\httpd.conf</span><span style=\"color: #333333;\">文件</span></p>&#13;\n<p><span style=\"color: #333333;\">添加如下代码</span></p>&#13;\n<pre name=\"code\" class=\"plain\">&lt;Directory \"D:/magento\"&gt;&#13;\n    Options Indexes FollowSymLinks Includes ExecCGI&#13;\n    AllowOverride All&#13;\n    Require all granted&#13;\n&lt;/Directory&gt;</pre>&#13;\n<p> </p>&#13;\n<p><span style=\"color: #333333;\">4</span><span style=\"color: #333333;\">、然后</span><span style=\"color: red;\">重启服务器</span></p>&#13;\n<p><span style=\"color: #333333;\">5</span><span style=\"color: #333333;\">、然后再</span><span style=\"color: red;\">修改本地</span><span style=\"color: red;\">hosts</span><span style=\"color: red;\">文件</span></p>&#13;\n<p><span style=\"color: #333333;\">添加</span></p>&#13;\n<p><span style=\"color: #333333;\">127.0.0.1 <a href=\"http://www.yahuimagento.com/\" target=\"_blank\">www.yahuimagento.com</a></span></p>&#13;\n<p><span style=\"color: #333333;\">6</span><span style=\"color: #333333;\">、刷新</span><span style=\"color: #333333;\">dns</span><span style=\"color: #333333;\">缓存。</span></p>&#13;\n<p><span style=\"color: #333333;\">7</span><span style=\"color: #333333;\">、然后清空数据库，将域名替换成</span><span style=\"color: #333333;\"><a href=\"http://www.yahuimagento.xn--comsql-rw6o/\" target=\"_blank\">www.yahuimagento.com的</a></span>sql<span style=\"color: #333333;\">文件重新导入数据库。</span></p>&#13;\n<p><span style=\"color: #333333;\">最后在浏览器中访问</span><span style=\"color: #333333;\"><a href=\"http://www.yahuimagento.com/\" target=\"_blank\">www.yahuimagento.com</a></span><span style=\"color: #333333;\">，前台正常</span></p>&#13;\n<p><span style=\"color: #333333;\">然后访问</span><span style=\"color: #333333;\"><a href=\"http://www.yahuimagento.com/admin\" target=\"_blank\">www.yahuimagento.com/admin</a></span><span style=\"color: #333333;\">终于进到了网站后台</span></p>&#13;\n<p>&#13;\n<br/></p></div>',22,'2014-09-19 19:06:00','2016-07-31 10:20:55',3,'http://www.cnblogs.com/lvyahui/p/4009951.html',4009951),(454,'magento后台 Fatal error: Call to a member function getId() on a no',' &#13;\n &#13;\n后台分类管理出现错误&#13;\n Fatal error: Call to a member function getId() on a non-object in&#13;\n&#13;\n在数据库中运行以下sql语句&#1','<div id=\"cnblogs_post_body\"><p> </p>&#13;\n<p> </p>&#13;\n<p>后台分类管理出现错误</p>&#13;\n<p> Fatal error: Call to a member function getId() on a non-object in</p>&#13;\n<p><br/></p>&#13;\n<p>在数据库中运行以下sql语句</p>&#13;\n<p>INSERT INTO catalog_category_entity(entity_id,entity_type_id,attribute_set_id,parent_id,created_at,updated_at,path,POSITION,level,children_count) VALUES (1,3,0,0,\'0000-00-00 00:00:00\',\'2009-02-20 00:25:34\',\'1\',1,0,1),(2,3,3,0,\'2009-02-20 00:25:34\',\'2009-02-20&#13;\n 00:25:34\',\'1/2\',1,1,0); INSERT INTO catalog_category_entity_int(value_id,entity_type_id,attribute_id,store_id,entity_id,value) VALUES (1,3,32,0,2,1),(2,3,32,1,2,1); INSERT INTO catalog_category_entity_varchar(value_id,entity_type_id,attribute_id,store_id,entity_id,value)&#13;\n VALUES (1,3,31,0,1,\'Root Catalog\'),(2,3,33,0,1,\'root-catalog\'),(3,3,31,0,2,\'Default Category\'),(4,3,39,0,2,\'PRODUCTS\'),(5,3,33,0,2,\'default-category\');</p>&#13;\n<p> </p></div>',23,'2014-09-19 19:28:00','2016-07-31 10:20:56',3,'http://www.cnblogs.com/lvyahui/p/4009950.html',4009950),(455,'wdcp对default站点开启apache url重写功能','&#13;\n&#13;\n网站开启对default网站的重写功能&#13;\n','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>网站开启对default网站的重写功能</p>&#13;\n<p><img src=\"http://img.blog.csdn.net/20140920153508325?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/></p>&#13;\n&#13;</div>',17,'2014-09-19 19:35:00','2016-07-31 10:20:57',42,'http://www.cnblogs.com/lvyahui/p/4009949.html',4009949),(456,'Wdcp缺少mod_rewite模块','&#13;\n&#13;\n1、下载apache源码包，解压并查找到mod_rewrite.c文件&#13;\n      tar -zxvf httpd-2.2.27.tar.gz&#13;\n      cd httpd-2.2.27         &#13;\n[root@localhost ht','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>1、下载apache源码包，解压并查找到mod_rewrite.c文件</p>&#13;\n<p>      tar -zxvf httpd-2.2.27.tar.gz</p>&#13;\n<p>      cd httpd-2.2.27         </p>&#13;\n<p>[root@localhost httpd-2.2.27]# find . -name mod_rewrite.c</p>&#13;\n<p>./modules/mappers/mod_rewrite.c                         </p>&#13;\n<p>[root@localhost httpd-2.2.27]# cd ./modules/mappers/</p>&#13;\n<p>[root@localhost mappers]# /www/wdlinux/apache/bin/apxs -c mod_rewrite.c</p>&#13;\n<p>/www/wdlinux/httpd-2.2.22/build/libtool --silent --mode=compile gcc -prefer-pic   -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -g -O2 -pthread -I/www/wdlinux/httpd-2.2.22/include  -I/www/wdlinux/httpd-2.2.22/include   -I/www/wdlinux/httpd-2.2.22/include   -c -o&#13;\n mod_rewrite.lo mod_rewrite.c &amp;&amp; touch mod_rewrite.slo                                                                                     </p>&#13;\n<p>/www/wdlinux/httpd-2.2.22/build/libtool --silent --mode=link gcc -o mod_rewrite.la  -rpath /www/wdlinux/httpd-2.2.22/modules -module -avoid-version    mod_rewrite.lo     </p>&#13;\n<p>[root@localhost mappers]# /www/wdlinux/apache/bin/apxs -i -a -n mod_rewrite mod_rewrite.la</p>&#13;\n<p>[root@localhost mappers]# ls /www/wdlinux/httpd-2.2.22/modules/</p>&#13;\n<p>[root@localhost mappers]# ls /www/wdlinux/apache/modules/</p>&#13;\n<p>httpd.exp  libphp5.so  mod_rewrite.so  mod_rpaf-2.0.so</p>&#13;\n<p>可以看到modules文件夹下出现了mod_rewrite.so文件</p>&#13;\n<p>但后来在启动重启mysql数据库时，发现wdcp已经内建了mod_rewrite模块，不需要单独编译</p>&#13;\n<br/></div>',42,'2014-09-19 19:36:00','2016-07-31 10:20:57',42,'http://www.cnblogs.com/lvyahui/p/4009948.html',4009948),(457,'magento错误 Service Temporarily Unavailable magento','前台访问出现错误&#13;\nService Temporarily Unavailable magento&#13;\n&#13;\n解决方法&#13;\nService TemporarilyUnavailable字面意思是此服务暂时无法使用，如果说你对Magento的各项操','<div id=\"cnblogs_post_body\"><p>前台访问出现错误</p>&#13;\n<p>Service Temporarily Unavailable magento</p>&#13;\n<p><br/></p>&#13;\n<p>解决方法</p>&#13;\n<p>Service TemporarilyUnavailable字面意思是此服务暂时无法使用，如果说你对Magento的各项操作已经完成的情况下，仍然出现该提示，那么下面的方法可以帮助你解决问题。首先，打开安装的Magento的根目录，应该能发现一个maintenance.flag文件，将该文件删除。接着打开根目录下的var目录，删除其中的cache缓存文件夹。完成这两项操作之后，刷新前台就能够正常显示了。<br/></p>&#13;\n<p> </p></div>',12,'2014-09-19 19:38:00','2016-07-31 10:20:58',3,'http://www.cnblogs.com/lvyahui/p/4009947.html',4009947),(458,'magento前台访问错误','前台访问出现错误&#13;\nGeneral error: 145 Table \'./dbname/tablename\' ismarked as crashed and should be repaired&#13;\n&#13;\n解决方法：&#13;\n &#13;\n','<div id=\"cnblogs_post_body\"><p>前台访问出现错误</p>&#13;\n<p>General error: 145 Table \'./dbname/tablename\' ismarked as crashed and should be repaired</p>&#13;\n<p><br/></p>&#13;\n<p>解决方法：</p>&#13;\n<p> </p>&#13;\n<p>cd /www/wdlinux/mysql/var/dbname</p>&#13;\n<p>  执行,其中myisamchk工具位于/www/wdlinux/mysql/bin目录下</p>&#13;\n<p> myisamchk -r tablename</p>&#13;\n<p>  执行过程中可能会遇到以下错误</p>&#13;\n<p> myisamchk: error: myisam_sort_buffer_size is too small</p>&#13;\n<p>  这是修复过程中所需内存空间超过预设的空间，可以利用–sort_buffer_size参数指派更大的内存空间，例如：</p>&#13;\n<p>&#13;\n  myisamchk -rtablename --sort_buffer_size=2G<br/></p></div>',7,'2014-09-19 19:39:00','2016-07-31 10:20:59',3,'http://www.cnblogs.com/lvyahui/p/4009946.html',4009946),(459,'wdcp-apache开启KeepAlive提高响应速度','&#13;\n&#13;\n因为我们的网站，媒体文件，js文件，css文件等都在同一个服务器上，并且，我们网站有非常多的图片，所以当建立好tcp链接之后，不应该马上关闭连接，因为每建立一次连接还要进行dns解析，以及启动一个http线程的过程。当链接次数很多时，非常耗费时间，可以看到网站打开一次页面耗时&#13;\n（该结果使用','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>因为我们的网站，媒体文件，js文件，css文件等都在同一个服务器上，并且，我们网站有非常多的图片，所以当建立好tcp链接之后，不应该马上关闭连接，因为每建立一次连接还要进行dns解析，以及启动一个http线程的过程。当链接次数很多时，非常耗费时间，可以看到网站打开一次页面耗时</p>&#13;\n<p>（该结果使用软件httpwatch得到）</p>&#13;\n<p><img src=\"http://img.blog.csdn.net/20140920154244423?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/></p>&#13;\n<p><br/></p>&#13;\n<p>解决方法</p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">在</span><span style=\"color:rgb(51,51,51)\">APACHE</span><span style=\"color:rgb(51,51,51)\">的</span><span style=\"color:rgb(51,51,51)\">httpd.conf</span><span style=\"color:rgb(51,51,51)\">中，</span><span style=\"color:rgb(51,51,51)\">KeepAlive</span><span style=\"color:rgb(51,51,51)\">指的是保持连接活跃，类似于</span><span style=\"color:rgb(51,51,51)\">Mysql</span><span style=\"color:rgb(51,51,51)\">的永久连接。换一句话说，如果将</span><span style=\"color:rgb(51,51,51)\">KeepAlive</span><span style=\"color:rgb(51,51,51)\">设置为</span><span style=\"color:rgb(51,51,51)\">On</span><span style=\"color:rgb(51,51,51)\">，那么来自同一客户端的请求就不需要再一次连接，避免每次请求都要新建一个连接而加重服务器的负担。</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">在</span><span style=\"color:rgb(51,51,51)\">wdcp</span><span style=\"color:rgb(51,51,51)\">面板中，</span><span style=\"color:rgb(51,51,51)\">KeepAlive</span><span style=\"color:rgb(51,51,51)\">配置在</span><span style=\"color:rgb(51,51,51)\">/www/wdlinux/apache/httpd-wdl.conf</span><span style=\"color:rgb(51,51,51)\">文件中，而这个文件又被</span><span style=\"color:rgb(51,51,51)\">include</span><span style=\"color:rgb(51,51,51)\">进来</span><span style=\"color:rgb(51,51,51)\">http.conf</span><span style=\"color:rgb(51,51,51)\">文件里，所以在这个文件里做的配置是对</span><span style=\"color:rgb(51,51,51)\">apache</span><span style=\"color:rgb(51,51,51)\">有效的</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\"> </span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">ssh</span><span style=\"color:rgb(51,51,51)\">链接到服务器</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">vim /www/wdlinux/apache/httpd-wdl.conf</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">做如下修改</span></p>&#13;\n<br/><p><img src=\"http://img.blog.csdn.net/20140920154337697?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/></p>&#13;\n<p><br/></p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">考虑到每两次链接之间一般不超过</span><span style=\"color:rgb(51,51,51)\">3</span><span style=\"color:rgb(51,51,51)\">秒钟，所以将</span><span style=\"color:rgb(51,51,51)\">keepAliveTimeout</span><span style=\"color:rgb(51,51,51)\">设置为</span><span style=\"color:rgb(51,51,51)\">3</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">然后重启服务器，执行</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">service httpd restart</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">再次访问首页，得到下面结果</span></p>&#13;\n<br/><p><img src=\"http://img.blog.csdn.net/20140920154419162?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/></p>&#13;\n<p><br/></p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">显然，连接花费的时间大大减少</span></p>&#13;\n<span style=\"color:rgb(51,51,51)\">而内存使用也并没有大的变动（因疏忽，忘记截图了）</span><br/><p><span style=\"color:rgb(51,51,51)\">参考资料：</span></p>&#13;\n<p><a target=\"_blank\" href=\"http://xuxueliang.blog.51cto.com/5576502/971093\">http://xuxueliang.blog.51cto.com/5576502/971093</a></p>&#13;\n&#13;</div>',40,'2014-09-19 19:42:00','2016-07-31 10:20:59',42,'http://www.cnblogs.com/lvyahui/p/4009945.html',4009945),(460,'wdcp-apache配置错误导致进程淤积进而内存吃紧','&#13;\n&#13;\n内存总是越来越少，虚拟内存使用越来越多&#13;\n&#13;\n首先确定到底是什么占用了大量的内存&#13;\n可以看到，大部分内存','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>内存总是越来越少，虚拟内存使用越来越多</p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">首先确定到底是什么占用了大量的内存</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">可以看到，大部分内存被闲置的</span><span style=\"color:rgb(51,51,51)\">httpd</span><span style=\"color:rgb(51,51,51)\">进程占用</span></p>&#13;\n<img src=\"http://img.blog.csdn.net/20140920154607171?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/><p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">且当我重启</span><span style=\"color:rgb(51,51,51)\">mysql</span><span style=\"color:rgb(51,51,51)\">服务后，内存没有出现明显变化，但是当我重启</span><span style=\"color:rgb(51,51,51)\">apache</span><span style=\"color:rgb(51,51,51)\">时，内存占用从</span><span style=\"color:rgb(51,51,51)\">2G</span><span style=\"color:rgb(51,51,51)\">瞬间下降到</span><span style=\"color:rgb(51,51,51)\">300M</span><span style=\"color:rgb(51,51,51)\">。由此可见，大量占用内存的就是闲置的</span><span style=\"color:rgb(51,51,51)\">httpd</span><span style=\"color:rgb(51,51,51)\">进程所致</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">于是上网查找了原因，原来是</span><span style=\"color:rgb(51,51,51)\">wdcp</span><span style=\"color:rgb(51,51,51)\">面板的</span><span style=\"color:rgb(51,51,51)\">apache</span><span style=\"color:rgb(51,51,51)\">配置不合理所致</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">vim /www/wdlinux/httpd-2.2.22/conf/httpd-wdl.conf&#13;\n</span><span style=\"color:rgb(51,51,51)\">看到如下代码</span></p>&#13;\n<img src=\"http://img.blog.csdn.net/20140920154703140?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/><p/>&#13;\n<p>不合理的地方在于MaxClients和MaxRequestsPerChild。 </p>&#13;\n<p><span style=\"color:red\">MaxClients</span>指定的是可以启动的APACHE进程数量上限，对于小内存的主机，这个设置（1024个）很容易把内存用光。 <br/><span style=\"color:red\">MaxRequestsPerChild</span>指定的是每个APACHE进程可以处理的最多请求次数，达到次数之后这个进程就会退出，然后重新开启新的进程。这一点的意义在于，进程会出现内存泄露的问题，就是进程使用的内存会越来越多，越来越多，越来越多，越来越多，无法释放。设置MaxRequestsPerChild后，进程重启动则可以解决。而WDCP中设置的为0，0的意思为，永不退出。 </p>&#13;\n<p>prefork调优，修改为</p>&#13;\n<img src=\"http://img.blog.csdn.net/20140920154957542?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/><p><br/></p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">修改完成后，保存</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">经多番测试，服务器内存使用被稳定在以下情况</span></p>&#13;\n<br/><p><img src=\"http://img.blog.csdn.net/20140920155040973?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"\"/><br/></p>&#13;\n&#13;</div>',54,'2014-09-19 19:47:00','2016-07-31 10:21:00',42,'http://www.cnblogs.com/lvyahui/p/4009944.html',4009944),(461,'POJ1258-Agri-Net-ACM','Description&#13;\nFarmer John has been elected mayor of his town! One of his campaign promises was to bring internet connect','<div id=\"cnblogs_post_body\"><p class=\"pst\">Description</p>&#13;\n<div class=\"ptx\" lang=\"en-US\">Farmer John has been elected mayor of his town! One of his campaign promises was to bring internet connectivity to all farms in the area. He needs your help, of course. <br/>&#13;\nFarmer John ordered a high speed connection for his farm and is going to share his connectivity with the other farmers. To minimize cost, he wants to lay the minimum amount of optical fiber to connect his farm to all the other farms.&#13;\n<br/>&#13;\nGiven a list of how much fiber it takes to connect each pair of farms, you must find the minimum amount of fiber needed to connect them all together. Each farm must connect to some other farm such that a packet can flow from any one farm to any other farm.&#13;\n<br/>&#13;\nThe distance between any two farms will not exceed 100,000. <br/></div>&#13;\n<p class=\"pst\">Input</p>&#13;\n<div class=\"ptx\" lang=\"en-US\">The input includes several cases. For each case, the first line contains the number of farms, N (3 &lt;= N &lt;= 100). The following lines contain the N x N conectivity matrix, where each element shows the distance from on farm to another.&#13;\n Logically, they are N lines of N space-separated integers. Physically, they are limited in length to 80 characters, so some lines continue onto others. Of course, the diagonal will be 0, since the distance from farm i to itself is not interesting for this&#13;\n problem.</div>&#13;\n<p class=\"pst\">Output</p>&#13;\n<div class=\"ptx\" lang=\"en-US\">For each case, output a single integer length that is the sum of the minimum length of fiber required to connect the entire set of farms.&#13;\n</div>&#13;\n<p class=\"pst\">Sample Input</p>&#13;\n<pre class=\"sio\">4&#13;\n0 4 9 21&#13;\n4 0 8 17&#13;\n9 8 0 16&#13;\n21 17 16 0&#13;\n</pre>&#13;\n<p class=\"pst\">Sample Output</p>&#13;\n<pre class=\"sio\">28</pre>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;<span style=\"color: #0000ff;\">string</span>.h&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">#define</span> V 256&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">#define</span> typec int&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">const</span> typec inf = <span style=\"color: #800080;\">0x7fffffff</span><span style=\"color: #000000;\">; &#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> vis[V];            &#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">typec lowc[V];    &#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> typec prim(typec cost[][V], <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> n) &#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i, j, p;&#13;\n</span><span style=\"color: #008080;\">13</span>     typec minc, res = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">14</span>     memset(vis, <span style=\"color: #800080;\">0</span>, <span style=\"color: #0000ff;\">sizeof</span><span style=\"color: #000000;\">(vis));&#13;\n</span><span style=\"color: #008080;\">15</span>     vis[<span style=\"color: #800080;\">0</span>] = <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">for</span> (i=<span style=\"color: #800080;\">1</span>; i&lt;n; i++) lowc[i] = cost[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">][i];&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">for</span> (i=<span style=\"color: #800080;\">1</span>; i&lt;n; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">18</span>         minc = inf; p = -<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">19</span>         <span style=\"color: #0000ff;\">for</span> (j=<span style=\"color: #800080;\">0</span>; j&lt;n; j++<span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">20</span>             <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #800080;\">0</span> == vis[j] &amp;&amp; minc &gt;<span style=\"color: #000000;\"> lowc[j]) {&#13;\n</span><span style=\"color: #008080;\">21</span>                 minc = lowc[j]; p =<span style=\"color: #000000;\"> j;&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">if</span> (inf == minc) <span style=\"color: #0000ff;\">return</span> -<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">; &#13;\n</span><span style=\"color: #008080;\">24</span>         res += minc; vis[p] = <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">25</span>         <span style=\"color: #0000ff;\">for</span> (j=<span style=\"color: #800080;\">0</span>; j&lt;n; j++<span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">26</span>             <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #800080;\">0</span> == vis[j] &amp;&amp; lowc[j] &gt;<span style=\"color: #000000;\"> cost[p][j])&#13;\n</span><span style=\"color: #008080;\">27</span>                 lowc[j] =<span style=\"color: #000000;\"> cost[p][j];&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> res;&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">31</span> &#13;\n<span style=\"color: #008080;\">32</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> matrix[V][V];&#13;\n</span><span style=\"color: #008080;\">33</span> &#13;\n<span style=\"color: #008080;\">34</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> main(){&#13;\n</span><span style=\"color: #008080;\">35</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> n,i,j;&#13;\n</span><span style=\"color: #008080;\">36</span>     <span style=\"color: #0000ff;\">while</span>((scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d</span><span style=\"color: #800000;\">\"</span>,&amp;n) == <span style=\"color: #800080;\">1</span>) &amp;&amp; (n&gt;=<span style=\"color: #800080;\">3</span> &amp;&amp; n&lt;=<span style=\"color: #800080;\">100</span><span style=\"color: #000000;\">) ){&#13;\n</span><span style=\"color: #008080;\">37</span>         <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;n;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">38</span>             <span style=\"color: #0000ff;\">for</span>(j=<span style=\"color: #800080;\">0</span>;j&lt;n;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">39</span>                 scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d</span><span style=\"color: #800000;\">\"</span>,&amp;<span style=\"color: #000000;\">matrix[i][j]);&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">42</span> &#13;\n<span style=\"color: #008080;\">43</span>         <span style=\"color: #0000ff;\">int</span> res =<span style=\"color: #000000;\"> prim(matrix,n);&#13;\n</span><span style=\"color: #008080;\">44</span>         <span style=\"color: #0000ff;\">if</span>(-<span style=\"color: #800080;\">1</span> !=<span style=\"color: #000000;\"> res){&#13;\n</span><span style=\"color: #008080;\">45</span>             printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,res);&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">47</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">48</span> &#13;\n<span style=\"color: #008080;\">49</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p>&#13;\n </p>&#13;\n<p> </p></div>',17,'2014-10-03 19:25:00','2016-07-31 10:21:00',12,'http://www.cnblogs.com/lvyahui/p/4009943.html',4009943),(462,'POJ1007-DNA Sorting-ACM','DNA Sorting&#13;\n&#13;\n','<div id=\"cnblogs_post_body\"><div class=\"ptt\" lang=\"en-US\"><span style=\"font-family: Microsoft YaHei;\">DNA Sorting</span></div>&#13;\n<div class=\"plm\">&#13;\n<table align=\"center\"><tbody><tr><td><span style=\"font-family: Microsoft YaHei;\"><strong>Time Limit:</strong> 1000MS</span></td>&#13;\n<td width=\"10\"> </td>&#13;\n<td><span style=\"font-family: Microsoft YaHei;\"><strong>Memory Limit:</strong> 10000K</span></td>&#13;\n</tr><tr><td><span style=\"font-family: Microsoft YaHei;\"><strong>Total Submissions:</strong> 83442</span></td>&#13;\n<td width=\"10\"> </td>&#13;\n<td><span style=\"font-family: Microsoft YaHei;\"><strong>Accepted:</strong> 33584</span></td>&#13;\n</tr></tbody></table></div>&#13;\n<p class=\"pst\"><span style=\"font-family: Microsoft YaHei;\">Description</span></p>&#13;\n<div class=\"ptx\" lang=\"en-US\"><span style=\"font-family: Microsoft YaHei;\">One measure of ``unsortedness\'\' in a sequence is the number of pairs of entries that are out of order with respect to each other. For instance, in the letter sequence ``DAABEC\'\', this measure is 5, since D is greater than four letters to its right and E is greater than one letter to its right. This measure is called the number of inversions in the sequence. The sequence ``AACEDGG\'\' has only one inversion (E and D)---it is nearly sorted---while the sequence ``ZWQM\'\' has 6 inversions (it is as unsorted as can be---exactly the reverse of sorted). <br/><br/>&#13;\nYou are responsible for cataloguing a sequence of DNA strings (sequences containing only the four letters A, C, G, and T). However, you want to catalog them, not in alphabetical order, but rather in order of ``sortedness\'\', from ``most sorted\'\' to ``least sorted\'\'.&#13;\n All the strings are of the same length. <br/></span></div>&#13;\n<p class=\"pst\"><span style=\"font-family: Microsoft YaHei;\">Input</span></p>&#13;\n<div class=\"ptx\" lang=\"en-US\"><span style=\"font-family: Microsoft YaHei;\">The first line contains two integers: a positive integer n (0 &lt; n &lt;= 50) giving the length of the strings; and a positive integer m (0 &lt; m &lt;= 100) giving the number of strings. These are&#13;\n followed by m lines, each containing a string of length n.</span></div>&#13;\n<p class=\"pst\"><span style=\"font-family: Microsoft YaHei;\">Output</span></p>&#13;\n<div class=\"ptx\" lang=\"en-US\"><span style=\"font-family: Microsoft YaHei;\">Output the list of input strings, arranged from ``most sorted\'\' to ``least sorted\'\'. Since two strings can be equally sorted, then output them according to the orginal order.</span></div>&#13;\n<p class=\"pst\"><span style=\"font-family: Microsoft YaHei;\">Sample Input</span></p>&#13;\n<pre class=\"sio\">10 6&#13;\nAACATGAAGG&#13;\nTTTTGGCCAA&#13;\nTTTGGCCAAA&#13;\nGATCAGATTT&#13;\nCCCGGGGGGA&#13;\nATCGATGCAT</pre>&#13;\n<p class=\"pst\">Sample Output</p>&#13;\n<pre class=\"sio\">CCCGGGGGGA&#13;\nAACATGAAGG&#13;\nGATCAGATTT&#13;\nATCGATGCAT&#13;\nTTTTGGCCAA&#13;\nTTTGGCCAAA</pre>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">重点，<strong><span style=\"color: #ff9900;\">归并排序求逆序数</span></strong></span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;<span style=\"color: #0000ff;\">malloc</span>.h&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> #include &lt;<span style=\"color: #0000ff;\">string</span>.h&gt;&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">#define</span> MAXN 256&#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">char</span><span style=\"color: #000000;\"> a[MAXN];&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">char</span><span style=\"color: #000000;\"> c[MAXN];&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">int</span> cnt=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">void</span> MergeSort(<span style=\"color: #0000ff;\">int</span> l, <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> r){&#13;\n</span><span style=\"color: #008080;\"> 9</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> mid, i, j, tmp;&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">if</span>( r &gt; l+<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\"> ){&#13;\n</span><span style=\"color: #008080;\">11</span>         mid = (l+r)/<span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">        MergeSort(l, mid);&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">        MergeSort(mid, r);&#13;\n</span><span style=\"color: #008080;\">14</span>         tmp =<span style=\"color: #000000;\"> l;&#13;\n</span><span style=\"color: #008080;\">15</span>         <span style=\"color: #0000ff;\">for</span>( i=l, j=mid; i &lt; mid &amp;&amp; j &lt;<span style=\"color: #000000;\"> r; ){&#13;\n</span><span style=\"color: #008080;\">16</span>             <span style=\"color: #0000ff;\">if</span>( a[i] &gt;<span style=\"color: #000000;\"> a[j] ){&#13;\n</span><span style=\"color: #008080;\">17</span>                 c[tmp++] = a[j++<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">18</span>                 cnt += mid-i; <span style=\"color: #008000;\">//&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">20</span>             <span style=\"color: #0000ff;\">else</span> c[tmp++] = a[i++<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">22</span>         <span style=\"color: #0000ff;\">if</span>( j &lt; r ) <span style=\"color: #0000ff;\">for</span>( ; j &lt; r; ++j ) c[tmp++] =<span style=\"color: #000000;\"> a[j];&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">for</span>( ; i &lt; mid; ++i ) c[tmp++] =<span style=\"color: #000000;\"> a[i];&#13;\n</span><span style=\"color: #008080;\">24</span>         <span style=\"color: #0000ff;\">for</span> ( i=l; i &lt; r; ++i ) a[i] =<span style=\"color: #000000;\"> c[i];&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">28</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> n,m;&#13;\n</span><span style=\"color: #008080;\">29</span>     scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d%d</span><span style=\"color: #800000;\">\"</span>,&amp;n,&amp;<span style=\"color: #000000;\">m);&#13;\n</span><span style=\"color: #008080;\">30</span>     <span style=\"color: #0000ff;\">char</span> ** strs = (<span style=\"color: #0000ff;\">char</span> **)<span style=\"color: #0000ff;\">malloc</span>(m*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span>*<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">31</span>     <span style=\"color: #0000ff;\">int</span> * cnts = (<span style=\"color: #0000ff;\">int</span> *)<span style=\"color: #0000ff;\">malloc</span>(m*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">32</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i;&#13;\n</span><span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">for</span>(i = <span style=\"color: #800080;\">0</span>;i&lt;m;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">34</span>         strs[i] = (<span style=\"color: #0000ff;\">char</span> *)<span style=\"color: #0000ff;\">malloc</span>((n+<span style=\"color: #800080;\">1</span>)*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">35</span>         scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%s</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,strs[i]);&#13;\n</span><span style=\"color: #008080;\">36</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">printf(\"%s\\n\",strs[i]);</span>&#13;\n<span style=\"color: #008080;\">37</span>         cnt = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">        strcpy(a,strs[i]);&#13;\n</span><span style=\"color: #008080;\">39</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">printf(\"%s\\n\",a);</span>&#13;\n<span style=\"color: #008080;\">40</span>         MergeSort(<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">,n);&#13;\n</span><span style=\"color: #008080;\">41</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">printf(\"%d\\n\",cnt);</span>&#13;\n<span style=\"color: #008080;\">42</span>         cnts[i] =<span style=\"color: #000000;\"> cnt;&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">44</span>     &#13;\n<span style=\"color: #008080;\">45</span>     <span style=\"color: #0000ff;\">for</span>(i = <span style=\"color: #800080;\">0</span>;i&lt;m-<span style=\"color: #800080;\">1</span>;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">46</span>         <span style=\"color: #0000ff;\">int</span> j,p=<span style=\"color: #000000;\">i;&#13;\n</span><span style=\"color: #008080;\">47</span>         <span style=\"color: #0000ff;\">for</span>(j = i+<span style=\"color: #800080;\">1</span>;j&lt;m;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">48</span>             <span style=\"color: #0000ff;\">if</span>(cnts[p]&gt;<span style=\"color: #000000;\">cnts[j]){&#13;\n</span><span style=\"color: #008080;\">49</span>                 p =<span style=\"color: #000000;\"> j;&#13;\n</span><span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">52</span>         <span style=\"color: #0000ff;\">if</span>(p!=<span style=\"color: #000000;\">i){&#13;\n</span><span style=\"color: #008080;\">53</span>             <span style=\"color: #0000ff;\">int</span> tmp =<span style=\"color: #000000;\"> cnts[p];&#13;\n</span><span style=\"color: #008080;\">54</span>             cnts[p] =<span style=\"color: #000000;\"> cnts[i];&#13;\n</span><span style=\"color: #008080;\">55</span>             cnts[i] =<span style=\"color: #000000;\"> tmp;&#13;\n</span><span style=\"color: #008080;\">56</span>             <span style=\"color: #0000ff;\">char</span> * str =<span style=\"color: #000000;\"> strs[p];&#13;\n</span><span style=\"color: #008080;\">57</span>             strs[p] =<span style=\"color: #000000;\"> strs[i];&#13;\n</span><span style=\"color: #008080;\">58</span>             strs[i] =<span style=\"color: #000000;\"> str;&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">60</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">61</span>     <span style=\"color: #0000ff;\">for</span>(i = <span style=\"color: #800080;\">0</span>;i&lt;m;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">62</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%s\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,strs[i]);&#13;\n</span><span style=\"color: #008080;\">63</span>         <span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(strs[i]);&#13;\n</span><span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">65</span>     <span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(strs);&#13;\n</span><span style=\"color: #008080;\">66</span>     <span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(cnts);&#13;\n</span><span style=\"color: #008080;\">67</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">68</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p><br/>&#13;\n </p>&#13;\n<p> </p></div>',20,'2014-10-03 21:56:00','2016-07-31 10:21:01',12,'http://www.cnblogs.com/lvyahui/p/4009942.html',4009942),(463,'拓扑排序','输入：一个有向图&#13;\n','<div id=\"cnblogs_post_body\"><p><span style=\"font-family: Microsoft YaHei; color: green;\">输入：</span><span style=\"font-family: Microsoft YaHei; color: black;\">一个有向图</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: green;\">输出：</span><span style=\"font-family: Microsoft YaHei; color: black;\">顶点的拓扑序列</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><br/></span></p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: green;\">具体流程：</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(1) </span><span style=\"font-family: Microsoft YaHei; color: black;\">将所有入度为</span><span style=\"font-family: Microsoft YaHei; color: black;\">0</span><span style=\"font-family: Microsoft YaHei; color: black;\">的点加入</span><span style=\"font-family: Microsoft YaHei; color: red;\">队列</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(2) </span><span style=\"font-family: Microsoft YaHei; color: black;\">每次取出队首顶点</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(3) </span><span style=\"font-family: Microsoft YaHei; color: black;\">删除其连出的边，检查是否有新的入度为</span><span style=\"font-family: Microsoft YaHei; color: black;\">0</span><span style=\"font-family: Microsoft YaHei; color: black;\">的顶点，有则加入队列</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(4) </span><span style=\"font-family: Microsoft YaHei; color: black;\">重复</span><span style=\"font-family: Microsoft YaHei; color: black;\">(2)</span><span style=\"font-family: Microsoft YaHei; color: black;\">直到队列为空</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><br/></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">样例输入</span></p>&#13;\n<pre name=\"code\" class=\"plain\">5 5&#13;\n0 1 1&#13;\n0 2 1&#13;\n1 2 1&#13;\n2 3 1&#13;\n4 2 1</pre>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><br/></span></p>&#13;\n<p><span style=\"color: black;\"><span style=\"font-family: Microsoft YaHei;\">样例输出</span></span></p>&#13;\n<p><br/></p>&#13;\n<pre name=\"code\" class=\"plain\">0 4 1 2 3<br/><br/><br/><br/></pre>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;iostream&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;queue&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">using</span> <span style=\"color: #0000ff;\">namespace</span><span style=\"color: #000000;\"> std;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span> **<span style=\"color: #000000;\"> edges;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> in_degrees;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> out_degrees;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> v,e;&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> topSort(){&#13;\n</span><span style=\"color: #008080;\">11</span>     queue&lt;<span style=\"color: #0000ff;\">int</span>&gt;<span style=\"color: #000000;\"> q;&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> i=<span style=\"color: #800080;\">0</span>;i&lt;v;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">13</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">0</span> ==<span style=\"color: #000000;\"> in_degrees[i]){&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">            q.push(i);&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">while</span>(!<span style=\"color: #000000;\">q.empty()){&#13;\n</span><span style=\"color: #008080;\">18</span>         <span style=\"color: #0000ff;\">int</span> front =<span style=\"color: #000000;\"> q.front();&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">        q.pop();&#13;\n</span><span style=\"color: #008080;\">20</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d </span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,front);&#13;\n</span><span style=\"color: #008080;\">21</span>         <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> j=<span style=\"color: #800080;\">0</span>;j&lt;v;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">22</span>             <span style=\"color: #0000ff;\">if</span>(edges[front][j]!=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">23</span>                 edges[front][j] = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">24</span>                 in_degrees[j]--<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">25</span>                 <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">0</span> ==<span style=\"color: #000000;\"> in_degrees[j]){&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">                    q.push(j);&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">30</span>         &#13;\n<span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">33</span> &#13;\n<span style=\"color: #008080;\">34</span> <span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">35</span>     cin&gt;&gt;v&gt;&gt;<span style=\"color: #000000;\">e;&#13;\n</span><span style=\"color: #008080;\">36</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">init</span>&#13;\n<span style=\"color: #008080;\">37</span>     edges = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span>*<span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">38</span>     in_degrees = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">39</span>     out_degrees = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">40</span>     memset(in_degrees,<span style=\"color: #800080;\">0</span>,v*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">41</span>     memset(out_degrees,<span style=\"color: #800080;\">0</span>,v*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">42</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i;&#13;\n</span><span style=\"color: #008080;\">43</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;v;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">44</span>         edges[i] = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">45</span>         memset(edges[i],<span style=\"color: #800080;\">0</span>,v*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">47</span>     &#13;\n<span style=\"color: #008080;\">48</span> &#13;\n<span style=\"color: #008080;\">49</span> &#13;\n<span style=\"color: #008080;\">50</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">input</span>&#13;\n<span style=\"color: #008080;\">51</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;e;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">52</span>         <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a,b,w;&#13;\n</span><span style=\"color: #008080;\">53</span>         cin&gt;&gt;a&gt;&gt;b&gt;&gt;<span style=\"color: #000000;\">w;&#13;\n</span><span style=\"color: #008080;\">54</span>         edges[a][b] = w;        <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">从a到b有一条路</span>&#13;\n<span style=\"color: #008080;\">55</span>         in_degrees[b]++;        <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">b的入度加1</span>&#13;\n<span style=\"color: #008080;\">56</span>         out_degrees[a]++;        <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">a的出度加1</span>&#13;\n<span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">58</span> &#13;\n<span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">    topSort();&#13;\n</span><span style=\"color: #008080;\">60</span> &#13;\n<span style=\"color: #008080;\">61</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">huishou</span>&#13;\n<span style=\"color: #008080;\">62</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;v;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">63</span> <span style=\"color: #000000;\">        delete edges[i];&#13;\n</span><span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">65</span> <span style=\"color: #000000;\">    delete edges;&#13;\n</span><span style=\"color: #008080;\">66</span> <span style=\"color: #000000;\">    delete in_degrees;&#13;\n</span><span style=\"color: #008080;\">67</span> <span style=\"color: #000000;\">    delete out_degrees;&#13;\n</span><span style=\"color: #008080;\">68</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">69</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p><br/><br/></p>&#13;\n<p> </p></div>',11,'2014-10-04 23:01:00','2016-07-31 10:21:02',12,'http://www.cnblogs.com/lvyahui/p/4009941.html',4009941),(464,'拓扑排序-DFS','拓扑排序的DFS算法&#13;\n','<div id=\"cnblogs_post_body\"><div><span style=\"color: #080808;\">拓扑排序的</span><span style=\"color: #080808;\">DFS</span><span style=\"color: #080808;\">算法</span></div>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: green;\">输入：</span><span style=\"font-family: Microsoft YaHei; color: black;\">一个有向图</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: green;\">输出：</span><span style=\"font-family: Microsoft YaHei; color: black;\">顶点的拓扑序列</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: green;\">具体流程：</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(1) </span><span style=\"font-family: Microsoft YaHei; color: black;\">调用</span><span style=\"font-family: Microsoft YaHei; color: black;\">DFS</span><span style=\"font-family: Microsoft YaHei; color: black;\">算法计算每一个顶点</span><span style=\"font-family: Microsoft YaHei; color: black;\">v</span><span style=\"font-family: Microsoft YaHei; color: black;\">的遍历完成时间</span><span style=\"font-family: Microsoft YaHei; color: black;\">f[v]</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(2) </span><span style=\"font-family: Microsoft YaHei; color: black;\">当一个顶点完成遍历时，将该顶点放到一个链表的最前面</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">(3) </span><span style=\"font-family: Microsoft YaHei; color: black;\">返回链表（按照链表次序输出顶点即为顶点的拓扑序列）</span></p>&#13;\n<p><br/></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">样例输入</span></p>&#13;\n<pre name=\"code\" class=\"plain\">5 5&#13;\n0 1 1&#13;\n0 2 1&#13;\n1 2 1&#13;\n2 3 1&#13;\n4 2 1&#13;\n</pre>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">样例输出<br/></span></p>&#13;\n<pre name=\"code\" class=\"plain\">4 0 1 2 3</pre>&#13;\n<p><span style=\"color: #cc6600;\"><strong><br/></strong></span><span style=\"color: #cc6600;\"><strong>因为对有向无环图进行dfs遍历，得到的可能是森林，所以为了保证对所有点进行拓扑排序，我的做法是对所有入度为0的点进行dfs遍历</strong></span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;iostream&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;deque&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">using</span> <span style=\"color: #0000ff;\">namespace</span><span style=\"color: #000000;\"> std;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span> **<span style=\"color: #000000;\"> edges;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> visited;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> in_degrees;&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> v,e;&#13;\n</span><span style=\"color: #008080;\">10</span> deque&lt;<span style=\"color: #0000ff;\">int</span>&gt;<span style=\"color: #000000;\"> dq;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">void</span> dfs(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i){&#13;\n</span><span style=\"color: #008080;\">12</span>     visited[i] = <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> j=<span style=\"color: #800080;\">0</span>;j&lt;v;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">14</span>         <span style=\"color: #0000ff;\">if</span>(!visited[j] &amp;&amp; edges[i][j] != <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">            dfs(j);&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">    dq.push_front(i);&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">20</span> &#13;\n<span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span> <span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">23</span>     cin&gt;&gt;v&gt;&gt;<span style=\"color: #000000;\">e;&#13;\n</span><span style=\"color: #008080;\">24</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">init</span>&#13;\n<span style=\"color: #008080;\">25</span>     edges = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span>*<span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">26</span>     visited = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">27</span>     in_degrees = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">28</span>     memset(visited,<span style=\"color: #800080;\">0</span>,v*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">29</span>     memset(in_degrees,<span style=\"color: #800080;\">0</span>,v*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i;&#13;\n</span><span style=\"color: #008080;\">32</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;v;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">33</span>         edges[i] = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">[v];&#13;\n</span><span style=\"color: #008080;\">34</span>         memset(edges[i],<span style=\"color: #800080;\">0</span>,v*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">36</span>     &#13;\n<span style=\"color: #008080;\">37</span>     &#13;\n<span style=\"color: #008080;\">38</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">input</span>&#13;\n<span style=\"color: #008080;\">39</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;e;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">40</span>         <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a,b,w;&#13;\n</span><span style=\"color: #008080;\">41</span>         cin&gt;&gt;a&gt;&gt;b&gt;&gt;<span style=\"color: #000000;\">w;&#13;\n</span><span style=\"color: #008080;\">42</span>         edges[a][b] = w;        <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">从a到b有一条路</span>&#13;\n<span style=\"color: #008080;\">43</span>         in_degrees[b]++;        <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">b的入度加1</span>&#13;\n<span style=\"color: #008080;\">44</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">45</span> &#13;\n<span style=\"color: #008080;\">46</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;v;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">47</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">0</span>==in_degrees[i]){<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">从入度为0的点进行dfs遍历</span>&#13;\n<span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">            dfs(i);&#13;\n</span><span style=\"color: #008080;\">49</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">51</span>     <span style=\"color: #0000ff;\">while</span>(!<span style=\"color: #000000;\">dq.empty()){&#13;\n</span><span style=\"color: #008080;\">52</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d </span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,dq.front());&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">        dq.pop_front();&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">55</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">huishou</span>&#13;\n<span style=\"color: #008080;\">56</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;v;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">        delete edges[i];&#13;\n</span><span style=\"color: #008080;\">58</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">    delete edges;&#13;\n</span><span style=\"color: #008080;\">60</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">61</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p><br/><br/></p>&#13;\n<p> </p></div>',25,'2014-10-04 23:50:00','2016-07-31 10:21:02',12,'http://www.cnblogs.com/lvyahui/p/4009940.html',4009940),(465,'POJ3274-牛的属性-HASH-ACM','原题：POJ3274','<div id=\"cnblogs_post_body\"><p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-family: KaiTi_GB2312;\">原题</span>：<a href=\"http://poj.org/problem?id=3274\" target=\"_blank\">POJ3274</a></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><span style=\"font-family: KaiTi_GB2312;\">参考：<a href=\"http://www.cnblogs.com/junxie/p/3870148.html\" target=\"_blank\">进击的阿俊</a></span><a href=\"http://poj.org/problem?id=3274\" target=\"_blank\"><br/></a></span></p>&#13;\n<p> </p>&#13;\n<hr/><p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">已知有n头牛，用一个K位二进制数Ak,Ak-1,...,A1表示一头牛具有的特征，Ai=1表示具有特征i。现给定按顺序排列的N头牛的k位特征值，称某个连续范围内“特征平衡”，假如在这个范围内，拥有各个特征的牛的数量都相等。求最大“特征平衡”连续范围。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">分析：</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">用sum[i][j]( 1&lt;=i&lt;=n, 1&lt;=k&lt;=j)表示1到第i头牛中具有特征j的牛的数量。问题转化为求解满足sum[i][l] - sum[j][l] = sum[i][1] - sum[j][1](l = 1,2,..,k)的最大i - j的值。很容易想到最简单的方法，通过令d = n to 1，判断是否存在i，使得sum[i + d][j] - sum[i][j] = sum[i + d][1] - sum[i][j]，时间复杂度为O（n*n*k）。由于n的最大值能达到100000，必须选择一个更加优化的方法。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">1）容易验证，sum[i][l] - sum[j][l] = sum[i][1] - sum[j][1] ( l = 1,2,..,k ) 等价于sum[i][l] - sum[i][1] = sum[j][l] - sum[j][1] ( l = 1,2,...k )。因此令d[i][j] =  sum[i][j] - sum[i][1] ，问题就转化为求解使得d[i][j] = d[i + size][j]的最大size。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">2）为进一步简化算法，对于任意 1&lt;= i &lt;=n， 令sig[i] = (d[i][1] + d[i][2] + ... +d[i][k] ) % m (m为一个较大的质数)。这样，若对于i和j， sig[i] != sig[j]，那么必定不会满足d[i][] = d[j][]，就无需再对它进行验证；若满足sig[i] = sig[j]，才需要进一步确定是否有d[i][] = d[j][]。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">3）用h[k] (1 &lt;= k &lt;= m，m为以上取模运算的素数)记录满足sig[i] = k的i值。通过令 i = 1 to n，以此更新h[sig[i]]和largest，即可得到结果。</span></p>&#13;\n<p> </p>&#13;\n<hr/><p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">样例输入</span></p>&#13;\n<p> </p>&#13;\n<pre name=\"code\" class=\"cpp\">7 3&#13;\n7&#13;\n6&#13;\n7&#13;\n2&#13;\n1&#13;\n4&#13;\n2</pre>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\">样例输出<br/></span></p>&#13;\n<p><br/></p>&#13;\n<pre name=\"code\" class=\"plain\">4</pre>&#13;\n<p><br/><img src=\"http://img.blog.csdn.net/20141006191212788?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"图示\" align=\"middle\"/></p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<hr/><p> </p>&#13;\n<pre name=\"code\" class=\"cpp\">//&#13;\n#include &lt;iostream&gt;&#13;\n#include &lt;cstring&gt;&#13;\n#include &lt;cstdio&gt;&#13;\n#include &lt;vector&gt;&#13;\n#include &lt;cmath&gt;&#13;\n&#13;\nusing namespace std;&#13;\n&#13;\nconst int maxn = 100010;&#13;\nconst int maxk = 31;&#13;\nint n, k, tmp;&#13;\nbool cow[maxn][maxk];&#13;\nint sum[maxn][maxk];&#13;\nint d[maxn][maxk];	//d 和 sig辅助计算哈希值&#13;\nint s, size;&#13;\nconst int prime = 49117;&#13;\nint sig[maxn];&#13;\nint largest;&#13;\n&#13;\nvector &lt;int&gt; h[prime];		//哈希表&#13;\n&#13;\nvoid search(int i, int t)//0 1 \\ 2 2 \\ 2 3 \\ 3 4 \\ &#13;\n{&#13;\n    int size = h[i].size();&#13;\n    for (int j = 0; j &lt; size; j++) {&#13;\n        bool flag = 1;&#13;\n        for (int l = 0; l &lt; k; l++) {&#13;\n//printf(\"d[h[%d][%d]:%d][%d]:%d ==? d[%d][%d]:%d\\n\",i,j,h[i][j],l,d[h[i][j]][l],t,l,d[t][l]);&#13;\n            if ( d[ h[i][j] ][l] != d[t][l] ) {&#13;\n                flag = 0;&#13;\n                break;&#13;\n            }&#13;\n        }&#13;\n        if (flag) {&#13;\n            if (t - h[i][j] &gt; largest)&#13;\n                largest = t - h[i][j];&#13;\n            return;&#13;\n        }&#13;\n    }&#13;\n    h[i].push_back(t);&#13;\n//printf(\"i:%d push back t:%d\\n\",i,t);&#13;\n}&#13;\n&#13;\n&#13;\nint findLargest()&#13;\n{&#13;\n    largest = 0;&#13;\n    for (int i = 1; i &lt;= n; i++) {&#13;\n        search(sig[i], i);&#13;\n		printf(\"%d\\n\",largest);&#13;\n    }&#13;\n    return largest;&#13;\n}&#13;\n&#13;\nvoid init()&#13;\n{&#13;\n    memset(sum, 0, sizeof(sum));&#13;\n    memset(sig, 0, sizeof(sig));&#13;\n    for (int i = 0; i &lt; prime; i++) h[i].clear();&#13;\n    h[0].push_back(0);&#13;\n    for (i = 1; i &lt;= n; i++) {&#13;\n        for (int j = 0; j &lt; k; j++) {&#13;\n            sum[i][j] = sum[i - 1][j] + cow[i][j];&#13;\n            d[i][j] = sum[i][j] - sum[i][0];&#13;\n			sig[i] += d[i][j];&#13;\n//printf(\"%d \",d[i][j]);&#13;\n//printf(\"%d \",d[i][j]);&#13;\n        }&#13;\n//printf(\"%d\\n\",sig[i]);&#13;\n		/*&#13;\n        for (j = 0; j &lt; k; j++) {&#13;\n            sig[i] += d[i][j];&#13;\n        }&#13;\n		*/&#13;\n        sig[i] = abs(sig[i]) % prime;&#13;\n    }&#13;\n}&#13;\n&#13;\nint main()&#13;\n{&#13;\n    //while (1) {&#13;\n    scanf(\"%d%d\", &amp;n, &amp;k);&#13;\n    for (int i = 1; i &lt;= n; i++ ) {&#13;\n        scanf(\"%d\", &amp;tmp);&#13;\n        for (int j = 0; j &lt; k; j++) {&#13;\n            cow[i][j] = tmp % 2;&#13;\n            tmp /= 2;&#13;\n        }&#13;\n    }&#13;\n    init();&#13;\n    findLargest();&#13;\n    printf(\"%d\\n\", largest);&#13;\n    //}&#13;\n    return 0;&#13;\n}&#13;\n</pre>&#13;\n<p> </p></div>',15,'2014-10-05 23:09:00','2016-07-31 10:21:03',12,'http://www.cnblogs.com/lvyahui/p/4009939.html',4009939),(466,'POJ2524-宗教问题-并查集-ACM','太难的搞不过，只能来写简单的了&#13;\n &#13;\n','<div id=\"cnblogs_post_body\"><p><span style=\"font-family: KaiTi_GB2312; color: #999999;\">太难的搞不过，只能来写简单的了</span></p>&#13;\n<p> </p>&#13;\n<hr/><h2><a href=\"http://poj.org/problem?id=2524\" target=\"_blank\">POJ2524</a></h2>&#13;\n<p><br/></p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">无所不在的宗教</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; color: black;\">世界上宗教何其多。假设你对自己学校的学生总共有多少种宗教信仰很感兴趣。学校有</span><span style=\"font-family: Microsoft YaHei; color: black;\">n</span><span style=\"font-family: Microsoft YaHei; color: black;\">个学生，但是你不能直接问学生的信仰，不然他会感到很不舒服的。有另外一个方法是问</span><span style=\"font-family: Microsoft YaHei; color: black;\">m</span><span style=\"font-family: Microsoft YaHei; color: black;\">对同学，是否信仰同一宗教。根据这些数据，相信聪明的你是能够计算学校最多有多少种宗教信仰的。</span></p>&#13;\n<p><span style=\"color: black;\">【</span><span style=\"color: black;\">输入格式</span><span style=\"color: black;\">】</span></p>&#13;\n<p><span style=\"color: black;\">可以输入多个测试用例</span><span style=\"color: black;\">(Case)</span><span style=\"color: black;\">，每一个用例的第一行包含整数</span><span style=\"color: black;\">n</span><span style=\"color: black;\">和</span><span style=\"color: black;\">m</span><span style=\"color: black;\">，</span><span style=\"color: black;\">n</span><span style=\"color: black;\">表示学生编号</span><span style=\"color: black;\">(1-n)</span><span style=\"color: black;\">，在接下来的</span><span style=\"color: black;\">m</span><span style=\"color: black;\">行中，每一行包含两个整数，对应信仰同一宗教的两名学生的编号，输入结束行为</span><span style=\"color: black;\">n&#13;\n = m=0</span><span style=\"color: black;\">。</span></p>&#13;\n<p><span style=\"color: black;\">【</span><span style=\"color: black;\">输出格式</span><span style=\"color: black;\">】<br/></span></p>&#13;\n<p><span style=\"color: black;\">输出每一个测试用例中包含的学生信仰的最大宗教数量。</span></p>&#13;\n<p><br/></p>&#13;\n<h4><span style=\"font-family: Microsoft YaHei; color: black;\">样例输入</span></h4>&#13;\n<p><span style=\"font-family: Microsoft YaHei;\"><br/></span></p>&#13;\n<pre name=\"code\" class=\"plain\">10 9&#13;\n1 2&#13;\n1 3&#13;\n1 4&#13;\n1 5&#13;\n1 6&#13;\n1 7&#13;\n1 8&#13;\n1 9&#13;\n1 10&#13;\n10 4&#13;\n2 3&#13;\n4 5&#13;\n4 8&#13;\n5 8&#13;\n0 0&#13;\n</pre>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<h4><span style=\"color: black;\"><span style=\"font-family: Microsoft YaHei;\">样例输出</span></span></h4>&#13;\n<p> </p>&#13;\n<pre name=\"code\" class=\"plain\">Case 1: 1&#13;\nCase 2: 7&#13;\n</pre>&#13;\n<hr/><p> </p>&#13;\n<h4><span style=\"color: black;\"><span style=\"font-family: Microsoft YaHei;\">代码</span></span></h4>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;iostream&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">using</span> <span style=\"color: #0000ff;\">namespace</span><span style=\"color: #000000;\"> std;&#13;\n</span><span style=\"color: #008080;\"> 3</span> &#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">int</span> MAXN=<span style=\"color: #800080;\">50001</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> pa[MAXN];&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> rank[MAXN];&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">void</span> make_set(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> x){&#13;\n</span><span style=\"color: #008080;\"> 9</span>     pa[x] =<span style=\"color: #000000;\"> x;&#13;\n</span><span style=\"color: #008080;\">10</span>     rank[x] = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">12</span> &#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">int</span> find_set(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> x){&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">if</span>(x !=<span style=\"color: #000000;\"> pa[x]){&#13;\n</span><span style=\"color: #008080;\">15</span>         pa[x] =<span style=\"color: #000000;\"> find_set(pa[x]);&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> pa[x];&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">19</span> &#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #0000ff;\">void</span> union_set(<span style=\"color: #0000ff;\">int</span> x,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> y){&#13;\n</span><span style=\"color: #008080;\">21</span>     x =<span style=\"color: #000000;\"> find_set(x);&#13;\n</span><span style=\"color: #008080;\">22</span>     y =<span style=\"color: #000000;\"> find_set(y);&#13;\n</span><span style=\"color: #008080;\">23</span> &#13;\n<span style=\"color: #008080;\">24</span>     <span style=\"color: #0000ff;\">if</span>(rank[x] &gt;<span style=\"color: #000000;\">  rank[y]){&#13;\n</span><span style=\"color: #008080;\">25</span>         pa[y] =<span style=\"color: #000000;\"> x;&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">27</span>     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">28</span>         pa[x] =<span style=\"color: #000000;\"> y;&#13;\n</span><span style=\"color: #008080;\">29</span>         <span style=\"color: #0000ff;\">if</span>(rank[x] ==<span style=\"color: #000000;\"> rank[y]){&#13;\n</span><span style=\"color: #008080;\">30</span>             rank[y]++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">34</span> &#13;\n<span style=\"color: #008080;\">35</span> &#13;\n<span style=\"color: #008080;\">36</span> <span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">37</span>     <span style=\"color: #0000ff;\">int</span> n,m,kase=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">,count;&#13;\n</span><span style=\"color: #008080;\">38</span>     <span style=\"color: #0000ff;\">while</span>(scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d%d</span><span style=\"color: #800000;\">\"</span>,&amp;n,&amp;m) == <span style=\"color: #800080;\">2</span> &amp;&amp; n!=<span style=\"color: #800080;\">0</span> &amp;&amp; m!=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">39</span>         <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i;&#13;\n</span><span style=\"color: #008080;\">40</span>         <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">1</span>;i&lt;=n;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #000000;\">            make_set(i);&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">43</span>         <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;m;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">44</span>             <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a,b;&#13;\n</span><span style=\"color: #008080;\">45</span>             scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d%d</span><span style=\"color: #800000;\">\"</span>,&amp;a,&amp;<span style=\"color: #000000;\">b);&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">            union_set(a,b);    &#13;\n</span><span style=\"color: #008080;\">47</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">48</span>         count = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">49</span>         <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">1</span>;i&lt;=n;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">50</span>             <span style=\"color: #0000ff;\">if</span>(i ==<span style=\"color: #000000;\"> pa[i]){&#13;\n</span><span style=\"color: #008080;\">51</span>                 count++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">54</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Case %d: %d\\n</span><span style=\"color: #800000;\">\"</span>,++<span style=\"color: #000000;\">kase,count);&#13;\n</span><span style=\"color: #008080;\">55</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">56</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">57</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p><br/></p>&#13;\n<p> </p></div>',39,'2014-10-05 23:46:00','2016-07-31 10:21:03',12,'http://www.cnblogs.com/lvyahui/p/4009938.html',4009938),(467,'POJ1611-The Suspects-ACM','The Suspects&#13;\n&#13;\nTime Limit: 1000MS&#13;\n','<div id=\"cnblogs_post_body\"><div class=\"ptt\" lang=\"en-US\">The Suspects</div>&#13;\n<div class=\"plm\">&#13;\n<table align=\"center\"><tbody><tr><td><strong>Time Limit:</strong> 1000MS</td>&#13;\n<td width=\"10px\"> </td>&#13;\n<td><strong>Memory Limit:</strong> 20000K</td>&#13;\n</tr><tr><td><strong>Total Submissions:</strong> 23002</td>&#13;\n<td width=\"10px\"> </td>&#13;\n<td><strong>Accepted:</strong> 11171</td>&#13;\n</tr></tbody></table></div>&#13;\n<p class=\"pst\">Description</p>&#13;\n<div class=\"ptx\" lang=\"en-US\">Severe acute respiratory syndrome (SARS), an atypical pneumonia of unknown aetiology, was recognized as a global threat in mid-March 2003. To minimize transmission to others, the best strategy is to separate the suspects from others.<br/>&#13;\nIn the Not-Spreading-Your-Sickness University (NSYSU), there are many student groups. Students in the same group intercommunicate with each other frequently, and a student may join several groups. To prevent the possible transmissions of SARS, the NSYSU collects&#13;\n the member lists of all student groups, and makes the following rule in their standard operation procedure (SOP).<br/>&#13;\nOnce a member in a group is a suspect, all members in the group are suspects.<br/>&#13;\nHowever, they find that it is not easy to identify all the suspects when a student is recognized as a suspect. Your job is to write a program which finds all the suspects.</div>&#13;\n<p class=\"pst\">Input</p>&#13;\n<div class=\"ptx\" lang=\"en-US\">The input file contains several cases. Each test case begins with two integers n and m in a line, where n is the number of students, and m is the number of groups. You may assume that 0 &lt; n &lt;= 30000 and 0 &lt;= m &lt;= 500. Every student&#13;\n is numbered by a unique integer between 0 and n−1, and initially student 0 is recognized as a suspect in all the cases. This line is followed by m member lists of the groups, one line per group. Each line begins with an integer k by itself representing the&#13;\n number of members in the group. Following the number of members, there are k integers representing the students in this group. All the integers in a line are separated by at least one space.<br/>&#13;\nA case with n = 0 and m = 0 indicates the end of the input, and need not be processed.</div>&#13;\n<p class=\"pst\">Output</p>&#13;\n<div class=\"ptx\" lang=\"en-US\">For each case, output the number of suspects in one line.</div>&#13;\n<p class=\"pst\">Sample Input</p>&#13;\n<pre class=\"sio\">100 4&#13;\n2 1 2&#13;\n5 10 13 11 12 14&#13;\n2 0 1&#13;\n2 99 2&#13;\n200 2&#13;\n1 5&#13;\n5 1 2 3 4 5&#13;\n1 0&#13;\n0 0</pre>&#13;\n<p class=\"pst\">Sample Output</p>&#13;\n<pre class=\"sio\">4&#13;\n1&#13;\n1</pre>&#13;\n<p><br/></p>&#13;\n<p>提交一直出现Wrong Answer，主要代码出错在union_set方法。</p>&#13;\n<p>之前<br/></p>&#13;\n<pre name=\"code\" class=\"cpp\">void union_set(int x,int y){&#13;\n	x = find_set(x);&#13;\n	y = find_set(y);&#13;\n	if(rank[x] &gt;  rank[y]){&#13;\n		pa[y] = x;&#13;\n		count[x] += count[y];&#13;\n	}&#13;\n	else{&#13;\n		pa[x] = y;&#13;\n		if(rank[x] == rank[y]){&#13;\n			rank[y]++;&#13;\n		}&#13;\n		count[y] += count[x];&#13;\n	}&#13;\n&#13;\n}</pre>&#13;\n<p><br/>&#13;\n修改为</p>&#13;\n<pre name=\"code\" class=\"cpp\">void union_set(int x,int y){&#13;\n	x = find_set(x);&#13;\n	y = find_set(y);&#13;\n	if(x==y) return;	&#13;\n	if(rank[x] &gt; rank[y])&#13;\n	{&#13;\n		pa[y] = x;&#13;\n		count[x] += count[y];&#13;\n		rank[x]++;&#13;\n	}&#13;\n	else&#13;\n	{&#13;\n		pa[x] = y;&#13;\n		rank[y]++;&#13;\n		count[y] += count[x];&#13;\n	}&#13;\n}</pre>&#13;\n<p><br/>&#13;\n通过了</p>&#13;\n<pre name=\"code\" class=\"cpp\">#include &lt;cstdio&gt;&#13;\n&#13;\nconst int MAXN = 30001;&#13;\nint pa[MAXN];&#13;\nint rank[MAXN];&#13;\nint count[MAXN];&#13;\n&#13;\nvoid make_set(int x){&#13;\n	pa[x] = x;&#13;\n	rank[x] = 0;&#13;\n	count[x] = 1;&#13;\n}&#13;\n&#13;\nint find_set(int x){&#13;\n	if(x != pa[x]){&#13;\n		pa[x] = find_set(pa[x]);&#13;\n	}&#13;\n	return pa[x];&#13;\n}&#13;\n&#13;\nvoid union_set(int x,int y){&#13;\n	x = find_set(x);&#13;\n	y = find_set(y);&#13;\n	if(x==y) return;	&#13;\n	if(rank[x] &gt; rank[y])&#13;\n	{&#13;\n		pa[y] = x;&#13;\n		count[x] += count[y];&#13;\n		rank[x]++;&#13;\n	}&#13;\n	else&#13;\n	{&#13;\n		pa[x] = y;&#13;\n		rank[y]++;&#13;\n		count[y] += count[x];&#13;\n	}&#13;\n&#13;\n}&#13;\n&#13;\n&#13;\nint main(void){&#13;\n	int n,m;&#13;\n	while(1){&#13;\n		int i;&#13;\n		scanf(\"%d%d\",&amp;n,&amp;m);&#13;\n		if(0==n &amp;&amp; 0==m){&#13;\n			break;&#13;\n		}&#13;\n		for(i=0;i&lt;n;i++){&#13;\n			make_set(i);&#13;\n		}&#13;\n		for(i=0;i&lt;m;i++){&#13;\n			int k,first,j;&#13;\n			scanf(\"%d%d\",&amp;k,&amp;first);&#13;\n			for(j=1;j&lt;k;j++){&#13;\n				int next;&#13;\n				scanf(\"%d\",&amp;next);&#13;\n				union_set(first,next);&#13;\n			}&#13;\n		}&#13;\n		int p = find_set(0);&#13;\n		printf(\"%d\\n\",count[p]);&#13;\n	}&#13;\n	return 0;&#13;\n}</pre>&#13;\n<p><br/></p>&#13;\n<p><br/></p>&#13;\n<p> </p></div>',27,'2014-10-06 00:53:00','2016-07-31 10:21:04',12,'http://www.cnblogs.com/lvyahui/p/4009937.html',4009937),(468,'xamp配置多域名站点','&#13;\n&#13;\nxampp配置多站点出现，htdocs目录和虚拟目录二者只能选其一的情况，我的xampp安装在D:\\xampp\\，默认web根目录在D:\\xampp\\htdocs，然后我在D:\\magento安装了magento站点，之前做过配置，但配置完后出现个问题，我无法再访问到D:\\xampp\\htdocs下的网站，当我改','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>xampp配置多站点出现，htdocs目录和虚拟目录二者只能选其一的情况，我的xampp安装在D:\\xampp\\，默认web根目录在D:\\xampp\\htdocs，然后我在D:\\magento安装了magento站点，之前做过配置，但配置完后出现个问题，我无法再访问到D:\\xampp\\htdocs下的网站，当我改回配置，又不能访问D:\\magento站点。网上很多资料都写的不全，或者不针对我这样的问题。今晚花了个把小时，仔细研究了httpd.conf 和 http-vhost.conf这两个文件，终于配置好了，两者不再冲突</p>&#13;\n<p>解决步骤</p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">（在xampp</span>默认配置基础上）</p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">第一步：修改http-vhosts.conf</span>文件，添加如下代码</p>&#13;\n<p/><pre name=\"code\" class=\"html\">&lt;VirtualHost *:80&gt;\n   DocumentRoot \"D:/magento\"\n   ServerName www.yahuimagento.com\n&lt;/VirtualHost&gt;</pre><br/><br/><p><span style=\"color:#333333\">第二步：此时重启服务器，会发现403</span>无访问权限错误，这是xampp默认设置造成的，修改httpd.conf文件，找到&lt;Directory /&gt;修改如下</p>&#13;\n<p/><pre name=\"code\" class=\"html\">&lt;Directory/&gt;\n    #AllowOverride none\n    AllowOverride all\n    #Require all denied\n    Require all granted\n&lt;/Directory&gt;</pre><br/><br/><p><span style=\"color:rgb(51,51,51)\">第三步：这时再次重启apache</span>，会发现以域名<span style=\"color:#333333\"><a target=\"_blank\" href=\"http://www.yahuimagento.com/\">www.yahuimagento.com</a></span><span style=\"color:#333333\">访问可以访问本地站点了（当然，这个域名早就配置到了hosts</span>文件中），但问题时，当再次访问localhost/zm时，不能访问，显示404错误，当以localhost访问，url直接跳转到了<a target=\"_blank\" href=\"http://www.yahuimagento.com/\">www.yahuimagento.com</a>&#13;\n 。怎么办？再次修改httpd-vhosts.conf文件，添加如下代码</p>&#13;\n<p/><pre name=\"code\" class=\"html\">&lt;VirtualHost*:80&gt;\n   DocumentRoot \"D:/xampp/htdocs\"\n   ServerName localhost\n&lt;/VirtualHost&gt;</pre><br/><br/><p><span style=\"color:rgb(51,51,51)\">至此，再以localhost/zm</span>访问和<span style=\"color:#333333\"><a target=\"_blank\" href=\"http://www.yahuimagento.com/\">www.yahuimagento.com</a></span><span style=\"color:#333333\">就不再冲突了，当我需要再配置一个站点，比如<a target=\"_blank\" href=\"http://www.yahui.xn--com%20%2Chttpd-vhosts-1r79ap37bfy5dqb0mtlvc.conf/\">www.yahui.com,</a> &#13;\n</span>我只需要在httpd-vhosts.conf文件添加一条记录就可以了</p>&#13;\n<span style=\"color:#333333\">文章中涉及到的文件没写具体目录，找不到的使用everthing</span>神器搜索就可以了<br/></div>',41,'2014-10-17 00:27:00','2016-07-31 10:21:04',42,'http://www.cnblogs.com/lvyahui/p/4136483.html',4136483),(469,'Dedecms自定义sql 出现错误Safe Alert: Request Error step 2!','&#13;\n&#13;\nDedecms自定义执行sql： SELECT body FROM dede_addonarticle WHERE aid = (select max(aid) fromdede_addonarticle WHERE typeid=11) 时出现错误Safe Alert:Request Error step 2!','<div id=\"cnblogs_post_body\">&#13;\n&#13;\n<p>Dedecms自定义执行sql： SELECT body FROM dede_addonarticle WHERE aid = (select max(aid) fromdede_addonarticle WHERE typeid=11) 时出现错误Safe Alert:Request Error step 2!</p>&#13;\n<p/>&#13;\n<p><span style=\"color:rgb(51,51,51)\">这是dedecms</span>防sql注入的原因</p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">可以修改dedesql.class.php</span>文件，找到构造函数，将</p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">function__construct($pconnect=FALSE,$nconnect=FALSE)</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">    {</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">       $this-&gt;isClose = FALSE;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">       $this-&gt;safeCheck = TRUE;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">        $this-&gt;pconnect= $pconnect;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">       if($nconnect)</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">        {</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">           $this-&gt;Init($pconnect);</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">        }</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">}</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">修改为</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">function__construct($pconnect=FALSE,$nconnect=FALSE)</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">    {</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">       $this-&gt;isClose = FALSE;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">       </span><span style=\"color:red\"> $this-&gt;safeCheck = FALSE;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">        $this-&gt;pconnect= $pconnect;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">       if($nconnect)</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">        {</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">           $this-&gt;Init($pconnect);</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">        }</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">    }</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\"> </span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">或者为了安全性考虑，可以修改</span><span style=\"color:rgb(51,51,51)\">dedesql.class.php</span><span style=\"color:rgb(51,51,51)\">文件的if(!function_exists(\'CheckSql\'))</span>代码块，看情况注释相应的代码</p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">我这里注释的是</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">elseif (preg_match(\'~\\([^)]*?select~is\',$clean) != 0)</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">{</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">    $fail = TRUE;</span></p>&#13;\n<p><span style=\"color:rgb(51,51,51)\">    $error=\"sub select detect\";</span></p>&#13;\n<span style=\"color:rgb(51,51,51)\">}</span><br/></div>',35,'2014-11-12 04:27:00','2016-07-31 10:21:05',42,'http://www.cnblogs.com/lvyahui/p/4136482.html',4136482),(470,'Grnymotion模拟器和Android真机访问PC端Tomcat下的应用','&#13;\n最近因为要学安卓与服务器交互的知识，所以必须','<div id=\"cnblogs_post_body\"><p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><br/></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">最近因为要学安卓与服务器交互的知识，所以必须要让android程序能访问一个测试服务器。所以我就考虑让真机或者模拟器访问PC端的Tomcat或者Apache服务。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">在介绍步骤之前，有必要说点基础的。我们<span style=\"color: #cc0000;\">在本地访问本地web应用时，一般使用localhost或者127.0.0.1访问。但在android程序中我们决不能写这两个地址，因为android也是一款linux操作系统，使用这两个地址就会访问android机器本身了，所以我们必须在android程序中访问PC的IP地址</span>。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">首先，我考虑到是用真机访问Tomcat，<span style=\"color: #cc0000;\">将PC和Android手机放在同一个局域网，比如WLAN中，就可以直接用真机访问PC的静态IP访问到PC</span>。这个方法被我PASS掉了。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">接着，我就要考虑用模拟器来访问Tomcat了，这里先介绍介绍我用的模拟器-<span style=\"font-family: Microsoft YaHei;\">Grnymotion</span>，这是我用过最快的模拟器，在浏览器输入本地链接的IP地址192.168.1.3（我的Tomcat默认80端口），挂掉了。我应该现在PC浏览器里试试的，在PC浏览器里访问，还是挂掉了，难道我的静态IP不起作用，打开网络中心，原来是我网线没插。本地连接没起作用，插上网线，再来一次，PC端访问正常。再用模拟器访问，还是挂掉了。</span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">经过google，我知道了下面几点</span></p>&#13;\n<ul><li><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: #cc0000;\"><span style=\"font-family: Microsoft YaHei;\">Genymotion</span>安装后</span><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: #cc0000;\">VirtualBox Host-Only Network的IP为192.168.56.1，在PC端以这个地址能访问Tomcat</span></li>&#13;\n<li><span style=\"font-family: Microsoft YaHei; font-size: 12px; color: #cc0000;\"><span style=\"font-family: Microsoft YaHei; line-height: 17.804800033569336px;\">use 10.0.2.2 for default AVD and 10.0.3.2 for Genymotion</span>，<span style=\"font-family: Microsoft YaHei;\"><span style=\"font-family: Microsoft YaHei; line-height: 17.804800033569336px;\">Genymotion访问主机以10.0.3.2访问</span></span></span></li>&#13;\n</ul><p><span style=\"font-family: \'Microsoft YaHei\'; font-size: small;\">我用上面的两个地址在模拟器访问，一个都没成。会不会是<span style=\"font-family: Microsoft YaHei; font-size: 12px;\">VirtualBox Host-Only Network</span>没装好呢，我把它删了，VirtualBox应该会再生成一个？打开设备管理器，直接将它干掉。然后悲剧了，没生成，于是我就将<span style=\"font-family: Microsoft YaHei; font-size: 12px;\">VirtualBox&#13;\n</span>卸了装，装了卸，都没有再出现<span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">VirtualBox Host-Only Network</span></span><span style=\"font-size: 12px;\">，<span style=\"color: #cc0000;\">在</span><span style=\"font-size: 12px;\"><span style=\"color: #cc0000;\">VirtualBox,选择管理&#13;\n – 全局设定– 网络 – 添加仅主机(Host-Only)网络，提示“无法创建Host-Onlynetwork adapter”</span>。</span></span><br/></span></p>&#13;\n<p><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">google找到了解决方法，参考<a href=\"http://support.huawei.com/ecommunity/bbs/10224117.html\" target=\"_blank\"> http://support.huawei.com/ecommunity/bbs/10224117.html</a><br/></span></p>&#13;\n<p> </p>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"background: white;\">该问题一般是由于virtualbox&#13;\n</span>的网卡驱动未安装正确导致，解决办法是：</span></p>&#13;\n<ol><li>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"background: white;\">到控制面板里面去卸载VirtualBox</span>。</span></p>&#13;\n&#13;\n</li>&#13;\n<li>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"background: white;\">到 C:\\Windows\\System32\\drivers</span>目录下找到VBox开头的.sys文件，一般有VboxDrv.sy,VboxNetAdp.sys,VboxNetFlt.sys,VBoxUSBMon.sys,将这些文件删除。</span></p>&#13;\n&#13;\n</li>&#13;\n<li>&#13;\n<p><span style=\"font-size: 12px;\"><span style=\"background: white;\">重启电脑。</span></span></p>&#13;\n&#13;\n</li>&#13;\n<li>&#13;\n<p><span style=\"background: white;\">重新以管理员权限安装VirtualBox</span>，安装完成后，再次创建虚拟网卡，一般都会成功。</p>&#13;\n&#13;\n</li>&#13;\n</ol><p> </p>&#13;\n<p>按照上面的步骤，终于恢复了<span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\"><span style=\"font-family: Microsoft YaHei; font-size: 12px;\">VirtualBox Host-Only Network</span></span></span>，但是依然不能在模拟器中访问PC端，于是，我又回过头来看<span style=\"color: #cc0000;\">模拟器的配置，尝试性的将配置修改成如下图</span></p>&#13;\n<p><br/></p>&#13;\n<p> <img src=\"http://img.blog.csdn.net/20141113224042294?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"网络配置\" width=\"496\" height=\"91\" align=\"middle\"/></p>&#13;\n<p>再来以10.0.3.2访问，好了，可以正常访问了<span style=\"color: #cc0000;\">。但是，我以192.168.56.1访问，还是没有成功</span>，不知道为什么，有知道的告诉我一下。<br/></p>&#13;\n<p> </p>&#13;\n<p align=\"center\"><span style=\"font-size: 12px;\"><img src=\"http://img.blog.csdn.net/20141113215946085?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU2t5bHYxMTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"模拟器访问pctomcat\" align=\"middle\"/><br/></span></p>&#13;\n<p><span style=\"font-size: 12px;\"><br/></span></p>&#13;\n<p><span style=\"font-size: 12px;\"><br/></span></p>&#13;\n<p> </p></div>',114,'2014-11-13 01:41:00','2016-07-31 10:21:06',43,'http://www.cnblogs.com/lvyahui/p/4136481.html',4136481),(471,'dedecms织梦建站总结','说好要每月坚持写博客的，差一点就背弃自己的诺言了。&#13;\n这一个月，除了修改magento站点和学习android外，一心都投在了为一家建筑公司做网站上去了，使用的是dedecms，我主要做的是前端开发，着实体验了一把开源的力量---拿来用就是了(注：我所说的开源，就是指别人的代码^_^)。&#13;\n废','<div id=\"cnblogs_post_body\"><p>说好要每月坚持写博客的，差一点就背弃自己的诺言了。</p>&#13;\n<p>这一个月，除了修改magento站点和学习android外，一心都投在了为一家建筑公司做网站上去了，使用的是dedecms，我主要做的是前端开发，着实体验了一把开源的力量---拿来用就是了(注：我所说的开源，就是指别人的代码^_^)。</p>&#13;\n<p>废话不多说，先上成果</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images.cnitblog.com/blog/635249/201411/302148143561411.png\" alt=\"\"/></p>&#13;\n<p>页面中很少使用图片做背景，比如说搜索框，因为我觉得那样好low的感觉。</p>&#13;\n<h4><span style=\"color: #ff6600;\">其中折叠菜单如下所示</span></h4>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images.cnitblog.com/blog/635249/201411/302153004819897.png\" alt=\"\"/></p>&#13;\n<p>折叠使用纯CSS3制作，主要代码如下</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'e7ee7457-cfc7-48f2-a6d1-a14beaaeac03\')\"><img id=\"code_img_closed_e7ee7457-cfc7-48f2-a6d1-a14beaaeac03\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_e7ee7457-cfc7-48f2-a6d1-a14beaaeac03\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'e7ee7457-cfc7-48f2-a6d1-a14beaaeac03\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_e7ee7457-cfc7-48f2-a6d1-a14beaaeac03\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span>  <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">div </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"wrapper\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #008000;\">&lt;!--</span><span style=\"color: #008000;\">class=\"menu\"</span><span style=\"color: #008000;\">--&gt;</span>&#13;\n<span style=\"color: #008080;\"> 2</span>         <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">ul </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"navigation\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 3</span>             <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"menu-item\"</span><span style=\"color: #0000ff;\">&gt;&lt;</span><span style=\"color: #800000;\">a </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"top\"</span><span style=\"color: #ff0000;\"> href</span><span style=\"color: #0000ff;\">=\'{dede:global.cfg_basehost/}\'</span><span style=\"color: #0000ff;\">&gt;</span>网站首页<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">a</span><span style=\"color: #0000ff;\">&gt;&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">            {dede:channelartlist typeid=\'top\'}&#13;\n</span><span style=\"color: #008080;\"> 5</span>             <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"menu-item\"</span><span style=\"color: #0000ff;\">&gt;&lt;</span><span style=\"color: #800000;\">a </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"top\"</span><span style=\"color: #ff0000;\"> href</span><span style=\"color: #0000ff;\">=\"{dede:field name=\'typeurl\'/}\"</span><span style=\"color: #0000ff;\">&gt;</span>{dede:field name=\'typename\'/}<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">a</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 6</span>                 <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">                    {dede:channel type=\'son\' noself=\"yes\" }&#13;\n</span><span style=\"color: #008080;\"> 8</span>                     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"dropdown\"</span><span style=\"color: #0000ff;\">&gt;&lt;</span><span style=\"color: #800000;\">a </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"son\"</span><span style=\"color: #ff0000;\"> href</span><span style=\"color: #0000ff;\">=\'[field:typeurl/]\'</span><span style=\"color: #0000ff;\">&gt;</span>[field:typename/]<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">a</span><span style=\"color: #0000ff;\">&gt;&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">                    {/dede:channel}&#13;\n</span><span style=\"color: #008080;\">10</span>                 <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">11</span>             <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">            {/dede:channelartlist}&#13;\n</span><span style=\"color: #008080;\">13</span>         <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">div</span><span style=\"color: #0000ff;\">&gt;</span></pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">Html Code</span></div>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'619a14db-7207-4fba-9cc3-18873a8865f4\')\"><img id=\"code_img_closed_619a14db-7207-4fba-9cc3-18873a8865f4\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_619a14db-7207-4fba-9cc3-18873a8865f4\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'619a14db-7207-4fba-9cc3-18873a8865f4\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_619a14db-7207-4fba-9cc3-18873a8865f4\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #800000;\">@import url(http://fonts.googleapis.com/css?family=Titillium+Web:600);&#13;\n</span><span style=\"color: #008080;\">  2</span> <span style=\"color: #800000;\">* </span>{&#13;\n<span style=\"color: #008080;\">  3</span> <span style=\"color: #ff0000;\">  -moz-box-sizing</span>:<span style=\"color: #0000ff;\"> border-box</span>;&#13;\n<span style=\"color: #008080;\">  4</span> <span style=\"color: #ff0000;\">  -webkit-box-sizing</span>:<span style=\"color: #0000ff;\"> border-box</span>;&#13;\n<span style=\"color: #008080;\">  5</span> <span style=\"color: #ff0000;\">  box-sizing</span>:<span style=\"color: #0000ff;\"> border-box</span>;&#13;\n<span style=\"color: #008080;\">  6</span> }&#13;\n<span style=\"color: #008080;\">  7</span> &#13;\n<span style=\"color: #008080;\">  8</span> <span style=\"color: #800000;\">body </span>{&#13;\n<span style=\"color: #008080;\">  9</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #333333</span>;&#13;\n<span style=\"color: #008080;\"> 10</span> }&#13;\n<span style=\"color: #008080;\"> 11</span> &#13;\n<span style=\"color: #008080;\"> 12</span> <span style=\"color: #800000;\">.wrapper </span>{&#13;\n<span style=\"color: #008080;\"> 13</span> <span style=\"color: #ff0000;\">  width</span>:<span style=\"color: #0000ff;\"> 90%</span>;&#13;\n<span style=\"color: #008080;\"> 14</span> <span style=\"color: #ff0000;\">  margin</span>:<span style=\"color: #0000ff;\"> 0 auto</span>;&#13;\n<span style=\"color: #008080;\"> 15</span> <span style=\"color: #ff0000;\">  padding-top</span>:<span style=\"color: #0000ff;\"> 20px</span>;&#13;\n<span style=\"color: #008080;\"> 16</span> }&#13;\n<span style=\"color: #008080;\"> 17</span> &#13;\n<span style=\"color: #008080;\"> 18</span> <span style=\"color: #800000;\">.navigation </span>{&#13;\n<span style=\"color: #008080;\"> 19</span> <span style=\"color: #ff0000;\">  width</span>:<span style=\"color: #0000ff;\"> 100%</span>;&#13;\n<span style=\"color: #008080;\"> 20</span> <span style=\"color: #ff0000;\">  text-align</span>:<span style=\"color: #0000ff;\"> center</span>;&#13;\n<span style=\"color: #008080;\"> 21</span> <span style=\"color: #ff0000;\">  font</span>:<span style=\"color: #0000ff;\"> normal 1em/1.5em \"Titillium Web\", helvetica</span>;&#13;\n<span style=\"color: #008080;\"> 22</span> }&#13;\n<span style=\"color: #008080;\"> 23</span> &#13;\n<span style=\"color: #008080;\"> 24</span> <span style=\"color: #800000;\">.navigation li </span>{&#13;\n<span style=\"color: #008080;\"> 25</span> <span style=\"color: #ff0000;\">  float</span>:<span style=\"color: #0000ff;\"> left</span>;&#13;\n<span style=\"color: #008080;\"> 26</span> }&#13;\n<span style=\"color: #008080;\"> 27</span> &#13;\n<span style=\"color: #008080;\"> 28</span> <span style=\"color: #800000;\">.menu-item </span>{&#13;\n<span style=\"color: #008080;\"> 29</span> <span style=\"color: #ff0000;\">  width</span>:<span style=\"color: #0000ff;\"> 33.333%</span>;&#13;\n<span style=\"color: #008080;\"> 30</span> <span style=\"color: #ff0000;\">  position</span>:<span style=\"color: #0000ff;\"> relative</span>;&#13;\n<span style=\"color: #008080;\"> 31</span> <span style=\"color: #ff0000;\">  overflow</span>:<span style=\"color: #0000ff;\"> hidden</span>;&#13;\n<span style=\"color: #008080;\"> 32</span> <span style=\"color: #ff0000;\">  color</span>:<span style=\"color: #0000ff;\"> #ffffff</span>;&#13;\n<span style=\"color: #008080;\"> 33</span> }&#13;\n<span style=\"color: #008080;\"> 34</span> <span style=\"color: #800000;\">.menu-item ul </span>{&#13;\n<span style=\"color: #008080;\"> 35</span> <span style=\"color: #ff0000;\">  position</span>:<span style=\"color: #0000ff;\"> absolute</span>;&#13;\n<span style=\"color: #008080;\"> 36</span> <span style=\"color: #ff0000;\">  left</span>:<span style=\"color: #0000ff;\"> 9999px</span>;&#13;\n<span style=\"color: #008080;\"> 37</span> <span style=\"color: #ff0000;\">  opacity</span>:<span style=\"color: #0000ff;\"> 0</span>;&#13;\n<span style=\"color: #008080;\"> 38</span> <span style=\"color: #ff0000;\">  transition</span>:<span style=\"color: #0000ff;\"> all .2s ease-in-out</span>;&#13;\n<span style=\"color: #008080;\"> 39</span> <span style=\"color: #ff0000;\">  -webkit-transition</span>:<span style=\"color: #0000ff;\"> all .2s ease-in-out</span>;&#13;\n<span style=\"color: #008080;\"> 40</span> }&#13;\n<span style=\"color: #008080;\"> 41</span> &#13;\n<span style=\"color: #008080;\"> 42</span> <span style=\"color: #800000;\">a.menu-link </span>{&#13;\n<span style=\"color: #008080;\"> 43</span> <span style=\"color: #ff0000;\">  display</span>:<span style=\"color: #0000ff;\"> block</span>;&#13;\n<span style=\"color: #008080;\"> 44</span> <span style=\"color: #ff0000;\">  padding</span>:<span style=\"color: #0000ff;\"> 15px</span>;&#13;\n<span style=\"color: #008080;\"> 45</span> <span style=\"color: #ff0000;\">  margin-bottom</span>:<span style=\"color: #0000ff;\"> 6px</span>;&#13;\n<span style=\"color: #008080;\"> 46</span> }&#13;\n<span style=\"color: #008080;\"> 47</span> &#13;\n<span style=\"color: #008080;\"> 48</span> <span style=\"color: #800000;\">a.first </span>{&#13;\n<span style=\"color: #008080;\"> 49</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #c0392b</span>;&#13;\n<span style=\"color: #008080;\"> 50</span> }&#13;\n<span style=\"color: #008080;\"> 51</span> <span style=\"color: #800000;\">a.second </span>{&#13;\n<span style=\"color: #008080;\"> 52</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #c8462b</span>;&#13;\n<span style=\"color: #008080;\"> 53</span> }&#13;\n<span style=\"color: #008080;\"> 54</span> <span style=\"color: #800000;\">a.third </span>{&#13;\n<span style=\"color: #008080;\"> 55</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #d3592b</span>;&#13;\n<span style=\"color: #008080;\"> 56</span> }&#13;\n<span style=\"color: #008080;\"> 57</span> &#13;\n<span style=\"color: #008080;\"> 58</span> <span style=\"color: #800000;\">a.second </span>{&#13;\n<span style=\"color: #008080;\"> 59</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #C8462B</span>;&#13;\n<span style=\"color: #008080;\"> 60</span> }&#13;\n<span style=\"color: #008080;\"> 61</span> &#13;\n<span style=\"color: #008080;\"> 62</span> <span style=\"color: #800000;\">.dropdown </span>{&#13;\n<span style=\"color: #008080;\"> 63</span> <span style=\"color: #ff0000;\">  width</span>:<span style=\"color: #0000ff;\"> 100%</span>;&#13;\n<span style=\"color: #008080;\"> 64</span> <span style=\"color: #ff0000;\">  padding</span>:<span style=\"color: #0000ff;\"> 20px</span>;&#13;\n<span style=\"color: #008080;\"> 65</span> }&#13;\n<span style=\"color: #008080;\"> 66</span> <span style=\"color: #800000;\">.dropdown a, .dropdown a:hover, .dropdown a:visited, .dropdown a:focus </span>{&#13;\n<span style=\"color: #008080;\"> 67</span> <span style=\"color: #ff0000;\">  text-decoration</span>:<span style=\"color: #0000ff;\"> none</span>;&#13;\n<span style=\"color: #008080;\"> 68</span> <span style=\"color: #ff0000;\">  color</span>:<span style=\"color: #0000ff;\"> #222222</span>;&#13;\n<span style=\"color: #008080;\"> 69</span> }&#13;\n<span style=\"color: #008080;\"> 70</span> <span style=\"color: #800000;\">.dropdown:first-child </span>{&#13;\n<span style=\"color: #008080;\"> 71</span> <span style=\"color: #ff0000;\">  border-top</span>:<span style=\"color: #0000ff;\"> 1px solid rgba(0, 0, 0, 0.3)</span>;&#13;\n<span style=\"color: #008080;\"> 72</span> }&#13;\n<span style=\"color: #008080;\"> 73</span> <span style=\"color: #800000;\">.dropdown:nth-child(even) </span>{&#13;\n<span style=\"color: #008080;\"> 74</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #eeeeee</span>;&#13;\n<span style=\"color: #008080;\"> 75</span> <span style=\"color: #ff0000;\">  transform</span>:<span style=\"color: #0000ff;\"> perspective(1000px) rotateX(-20deg)</span>;&#13;\n<span style=\"color: #008080;\"> 76</span> <span style=\"color: #ff0000;\">  transform-origin</span>:<span style=\"color: #0000ff;\"> top</span>;&#13;\n<span style=\"color: #008080;\"> 77</span> <span style=\"color: #ff0000;\">  -webkit-transform</span>:<span style=\"color: #0000ff;\"> perspective(1000px) rotateX(-20deg)</span>;&#13;\n<span style=\"color: #008080;\"> 78</span> <span style=\"color: #ff0000;\">  -webkit-transform-origin</span>:<span style=\"color: #0000ff;\"> top</span>;&#13;\n<span style=\"color: #008080;\"> 79</span> }&#13;\n<span style=\"color: #008080;\"> 80</span> <span style=\"color: #800000;\">.dropdown:nth-child(odd) </span>{&#13;\n<span style=\"color: #008080;\"> 81</span> <span style=\"color: #ff0000;\">  background</span>:<span style=\"color: #0000ff;\"> #f5f5f5</span>;&#13;\n<span style=\"color: #008080;\"> 82</span> <span style=\"color: #ff0000;\">  transform</span>:<span style=\"color: #0000ff;\"> perspective(1000px) rotateX(20deg)</span>;&#13;\n<span style=\"color: #008080;\"> 83</span> <span style=\"color: #ff0000;\">  transform-origin</span>:<span style=\"color: #0000ff;\"> bottom</span>;&#13;\n<span style=\"color: #008080;\"> 84</span> <span style=\"color: #ff0000;\">  -webkit-transform</span>:<span style=\"color: #0000ff;\"> perspective(1000px) rotateX(20deg)</span>;&#13;\n<span style=\"color: #008080;\"> 85</span> <span style=\"color: #ff0000;\">  -webkit-transform-origin</span>:<span style=\"color: #0000ff;\"> bottom</span>;&#13;\n<span style=\"color: #008080;\"> 86</span> <span style=\"color: #ff0000;\">  margin-top</span>:<span style=\"color: #0000ff;\"> -11px</span>;&#13;\n<span style=\"color: #008080;\"> 87</span> }&#13;\n<span style=\"color: #008080;\"> 88</span> &#13;\n<span style=\"color: #008080;\"> 89</span> <span style=\"color: #800000;\">.menu-item:hover ul, .menu-item:focus ul </span>{&#13;\n<span style=\"color: #008080;\"> 90</span> <span style=\"color: #ff0000;\">  position</span>:<span style=\"color: #0000ff;\"> static</span>;&#13;\n<span style=\"color: #008080;\"> 91</span> <span style=\"color: #ff0000;\">  bottom</span>:<span style=\"color: #0000ff;\"> 200px</span>;&#13;\n<span style=\"color: #008080;\"> 92</span> <span style=\"color: #ff0000;\">  opacity</span>:<span style=\"color: #0000ff;\"> 1</span>;&#13;\n<span style=\"color: #008080;\"> 93</span> }&#13;\n<span style=\"color: #008080;\"> 94</span> &#13;\n<span style=\"color: #008080;\"> 95</span> <span style=\"color: #800000;\">@media only screen and (max-width: 37.5em) </span>{&#13;\n<span style=\"color: #008080;\"> 96</span> <span style=\"color: #ff0000;\">  .navigation li {&#13;\n</span><span style=\"color: #008080;\"> 97</span> <span style=\"color: #ff0000;\">    float</span>:<span style=\"color: #0000ff;\"> none</span>;&#13;\n<span style=\"color: #008080;\"> 98</span> <span style=\"color: #ff0000;\">    clear</span>:<span style=\"color: #0000ff;\"> both</span>;&#13;\n<span style=\"color: #008080;\"> 99</span>   }&#13;\n<span style=\"color: #008080;\">100</span> &#13;\n<span style=\"color: #008080;\">101</span> <span style=\"color: #800000;\">  .menu-item </span>{&#13;\n<span style=\"color: #008080;\">102</span> <span style=\"color: #ff0000;\">    width</span>:<span style=\"color: #0000ff;\"> 100%</span>;&#13;\n<span style=\"color: #008080;\">103</span>   }&#13;\n<span style=\"color: #008080;\">104</span> <span style=\"color: #800000;\">}</span></pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">CSS Code</span></div>&#13;\n<p><span style=\"color: #ff6600;\">焦点文字slider如下所示</span>，（没录好，滚的有点快）</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images.cnitblog.com/blog/635249/201411/302209269186834.gif\" alt=\"\"/></p>&#13;\n<p>焦点文字主要js，使用JQuery，需要引入jquery-1.7.2.min.js和common.js</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'ffc00e4d-c3f2-48ff-ab06-dacddf1d9ab6\')\"><img id=\"code_img_closed_ffc00e4d-c3f2-48ff-ab06-dacddf1d9ab6\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_ffc00e4d-c3f2-48ff-ab06-dacddf1d9ab6\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'ffc00e4d-c3f2-48ff-ab06-dacddf1d9ab6\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_ffc00e4d-c3f2-48ff-ab06-dacddf1d9ab6\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\">  2</span> <span style=\"color: #008000;\">* @author Alexander Farkas&#13;\n</span><span style=\"color: #008080;\">  3</span> <span style=\"color: #008000;\">* v. 1.22&#13;\n</span><span style=\"color: #008080;\">  4</span> <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">  5</span> (<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> ($)&#13;\n</span><span style=\"color: #008080;\">  6</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">  7</span>     <span style=\"color: #0000ff;\">if</span> (!document.defaultView || !<span style=\"color: #000000;\">document.defaultView.getComputedStyle)&#13;\n</span><span style=\"color: #008080;\">  8</span>     { <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> IE6-IE8</span>&#13;\n<span style=\"color: #008080;\">  9</span>         <span style=\"color: #0000ff;\">var</span> oldCurCSS =<span style=\"color: #000000;\"> $.curCSS;&#13;\n</span><span style=\"color: #008080;\"> 10</span>         $.curCSS = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> (elem, name, force)&#13;\n</span><span style=\"color: #008080;\"> 11</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\"> 12</span>             <span style=\"color: #0000ff;\">if</span> (name === \'background-position\'<span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\"> 13</span> <span style=\"color: #000000;\">            {&#13;\n</span><span style=\"color: #008080;\"> 14</span>                 name = \'backgroundPosition\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 15</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 16</span>             <span style=\"color: #0000ff;\">if</span> (name !== \'backgroundPosition\' || !elem.currentStyle ||<span style=\"color: #000000;\"> elem.currentStyle[name])&#13;\n</span><span style=\"color: #008080;\"> 17</span> <span style=\"color: #000000;\">            {&#13;\n</span><span style=\"color: #008080;\"> 18</span>                 <span style=\"color: #0000ff;\">return</span> oldCurCSS.apply(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">, arguments);&#13;\n</span><span style=\"color: #008080;\"> 19</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 20</span>             <span style=\"color: #0000ff;\">var</span> style =<span style=\"color: #000000;\"> elem.style;&#13;\n</span><span style=\"color: #008080;\"> 21</span>             <span style=\"color: #0000ff;\">if</span> (!force &amp;&amp; style &amp;&amp;<span style=\"color: #000000;\"> style[name])&#13;\n</span><span style=\"color: #008080;\"> 22</span> <span style=\"color: #000000;\">            {&#13;\n</span><span style=\"color: #008080;\"> 23</span>                 <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> style[name];&#13;\n</span><span style=\"color: #008080;\"> 24</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 25</span>             <span style=\"color: #0000ff;\">return</span> oldCurCSS(elem, \'backgroundPositionX\', force) + \' \' + oldCurCSS(elem, \'backgroundPositionY\'<span style=\"color: #000000;\">, force);&#13;\n</span><span style=\"color: #008080;\"> 26</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\"> 27</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 28</span> &#13;\n<span style=\"color: #008080;\"> 29</span>     <span style=\"color: #0000ff;\">var</span> oldAnim =<span style=\"color: #000000;\"> $.fn.animate;&#13;\n</span><span style=\"color: #008080;\"> 30</span>     $.fn.animate = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> (prop)&#13;\n</span><span style=\"color: #008080;\"> 31</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 32</span>         <span style=\"color: #0000ff;\">if</span> (\'background-position\' <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> prop)&#13;\n</span><span style=\"color: #008080;\"> 33</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\"> 34</span>             prop.backgroundPosition = prop[\'background-position\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 35</span>             <span style=\"color: #0000ff;\">delete</span> prop[\'background-position\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 36</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 37</span>         <span style=\"color: #0000ff;\">if</span> (\'backgroundPosition\' <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> prop)&#13;\n</span><span style=\"color: #008080;\"> 38</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\"> 39</span>             prop.backgroundPosition = \'(\' +<span style=\"color: #000000;\"> prop.backgroundPosition;&#13;\n</span><span style=\"color: #008080;\"> 40</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 41</span>         <span style=\"color: #0000ff;\">return</span> oldAnim.apply(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">, arguments);&#13;\n</span><span style=\"color: #008080;\"> 42</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\"> 43</span> &#13;\n<span style=\"color: #008080;\"> 44</span>     <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> toArray(strg)&#13;\n</span><span style=\"color: #008080;\"> 45</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 46</span>         strg = strg.replace(/left|top/g, \'0px\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 47</span>         strg = strg.replace(/right|bottom/g, \'100%\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 48</span>         strg = strg.replace(/([0-9\\.]+)(\\s|\\)|$)/g, \"$1px$2\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 49</span>         <span style=\"color: #0000ff;\">var</span> res = strg.match(/(-?[0-9\\.]+)(px|\\%|em|pt)\\s(-?[0-9\\.]+)(px|\\%|em|pt)/<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 50</span>         <span style=\"color: #0000ff;\">return</span> [parseFloat(res[1], 10), res[2], parseFloat(res[3], 10), res[3<span style=\"color: #000000;\">]];&#13;\n</span><span style=\"color: #008080;\"> 51</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 52</span> &#13;\n<span style=\"color: #008080;\"> 53</span>     $.fx.step.backgroundPosition = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> (fx)&#13;\n</span><span style=\"color: #008080;\"> 54</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 55</span>         <span style=\"color: #0000ff;\">if</span> (!<span style=\"color: #000000;\">fx.bgPosReady)&#13;\n</span><span style=\"color: #008080;\"> 56</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\"> 57</span>             <span style=\"color: #0000ff;\">var</span> start = $.curCSS(fx.elem, \'backgroundPosition\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 58</span>             <span style=\"color: #0000ff;\">if</span> (!<span style=\"color: #000000;\">start)&#13;\n</span><span style=\"color: #008080;\"> 59</span>             {<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">FF2 no inline-style fallback</span>&#13;\n<span style=\"color: #008080;\"> 60</span>                 start = \'0px 0px\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 61</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 62</span> &#13;\n<span style=\"color: #008080;\"> 63</span>             start =<span style=\"color: #000000;\"> toArray(start);&#13;\n</span><span style=\"color: #008080;\"> 64</span>             fx.start = [start[0], start[2<span style=\"color: #000000;\">]];&#13;\n</span><span style=\"color: #008080;\"> 65</span>             <span style=\"color: #0000ff;\">var</span> end =<span style=\"color: #000000;\"> toArray(fx.end);&#13;\n</span><span style=\"color: #008080;\"> 66</span>             fx.end = [end[0], end[2<span style=\"color: #000000;\">]];&#13;\n</span><span style=\"color: #008080;\"> 67</span> &#13;\n<span style=\"color: #008080;\"> 68</span>             fx.unit = [end[1], end[3<span style=\"color: #000000;\">]];&#13;\n</span><span style=\"color: #008080;\"> 69</span>             fx.bgPosReady = <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 70</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 71</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">return;</span>&#13;\n<span style=\"color: #008080;\"> 72</span>         <span style=\"color: #0000ff;\">var</span> nowPosX =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\"> 73</span>         nowPosX[0] = ((fx.end[0] - fx.start[0]) * fx.pos) + fx.start[0] + fx.unit[0<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 74</span>         nowPosX[1] = ((fx.end[1] - fx.start[1]) * fx.pos) + fx.start[1] + fx.unit[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 75</span>         fx.elem.style.backgroundPosition = nowPosX[0] + \' \' + nowPosX[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 76</span> &#13;\n<span style=\"color: #008080;\"> 77</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\"> 78</span> <span style=\"color: #000000;\">})(jQuery);&#13;\n</span><span style=\"color: #008080;\"> 79</span> &#13;\n<span style=\"color: #008080;\"> 80</span> &#13;\n<span style=\"color: #008080;\"> 81</span> &#13;\n<span style=\"color: #008080;\"> 82</span> ;(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">( $, window, document, undefined ){&#13;\n</span><span style=\"color: #008080;\"> 83</span>   &#13;\n<span style=\"color: #008080;\"> 84</span>   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> utility function that generates the \"dots\" navigation</span>&#13;\n<span style=\"color: #008080;\"> 85</span>   <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> generateNavigation($el, count, config) {&#13;\n</span><span style=\"color: #008080;\"> 86</span>     <span style=\"color: #0000ff;\">var</span> i, html = \"\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 87</span>         width = count * 32<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 88</span>     &#13;\n<span style=\"color: #008080;\"> 89</span>     html += \"&lt;ol class=\'\" + config.navigationClass + \"\' style=\'margin-left: -\" + width/2 + \"px; width: \" + width + \"px\'&gt;\";&#13;\n<span style=\"color: #008080;\"> 90</span>     <span style=\"color: #0000ff;\">for</span> (i = 0; i &lt; count; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\"> 91</span>       html += \"&lt;li&gt;&lt;a \" + (i === 0 ? \"class=\'selected\'\" : \"\" ) + \" href=\'#\" + (i) + \"\'&gt;slide&lt;/a&gt;&lt;/li&gt;\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 92</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 93</span>     html += \"&lt;/ol&gt;\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 94</span>     &#13;\n<span style=\"color: #008080;\"> 95</span> <span style=\"color: #000000;\">    $el.append(html);&#13;\n</span><span style=\"color: #008080;\"> 96</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\"> 97</span>   &#13;\n<span style=\"color: #008080;\"> 98</span>   <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sweepOut($el, windowWidth) {&#13;\n</span><span style=\"color: #008080;\"> 99</span>     <span style=\"color: #0000ff;\">var</span> dfr =<span style=\"color: #000000;\"> $.Deferred(),&#13;\n</span><span style=\"color: #008080;\">100</span>         pos =<span style=\"color: #000000;\"> $el.position(),&#13;\n</span><span style=\"color: #008080;\">101</span>         width =<span style=\"color: #000000;\"> $el.width(),&#13;\n</span><span style=\"color: #008080;\">102</span> <span style=\"color: #000000;\">        delta, final,&#13;\n</span><span style=\"color: #008080;\">103</span>         options = $el.data(\"tlrkAnimOptions\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">104</span>     &#13;\n<span style=\"color: #008080;\">105</span>     windowWidth = windowWidth || $(window).width(); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> check if the windowWidth is passed, if not - get it</span>&#13;\n<span style=\"color: #008080;\">106</span>     &#13;\n<span style=\"color: #008080;\">107</span>     delta = windowWidth -<span style=\"color: #000000;\"> pos.left;&#13;\n</span><span style=\"color: #008080;\">108</span>     final = -<span style=\"color: #000000;\">(delta);&#13;\n</span><span style=\"color: #008080;\">109</span>     &#13;\n<span style=\"color: #008080;\">110</span>     setTimeout(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">111</span>       $el.animate({left: final, opacity: \"toggle\"}, options.speed, options.easing, <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">112</span> <span style=\"color: #000000;\">        dfr.resolve();&#13;\n</span><span style=\"color: #008080;\">113</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">114</span> <span style=\"color: #000000;\">    }, options.delay);&#13;\n</span><span style=\"color: #008080;\">115</span>     &#13;\n<span style=\"color: #008080;\">116</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> dfr.promise();&#13;\n</span><span style=\"color: #008080;\">117</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\">118</span>   &#13;\n<span style=\"color: #008080;\">119</span>   <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sweepIn($el, windowWidth, frameLeft) {&#13;\n</span><span style=\"color: #008080;\">120</span>     <span style=\"color: #0000ff;\">var</span> dfr =<span style=\"color: #000000;\"> $.Deferred(),&#13;\n</span><span style=\"color: #008080;\">121</span>         options = $el.data(\"tlrkAnimOptions\"<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">122</span>         positionData = $el.data(\"tlrkOriginalPos\"<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">123</span>         final =<span style=\"color: #000000;\"> positionData.position.left,&#13;\n</span><span style=\"color: #008080;\">124</span> <span style=\"color: #000000;\">        rightEdge;&#13;\n</span><span style=\"color: #008080;\">125</span>     &#13;\n<span style=\"color: #008080;\">126</span>     windowWidth = windowWidth || $(window).width(); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> check if the windowWidth is passed, if not - get it</span>&#13;\n<span style=\"color: #008080;\">127</span>     &#13;\n<span style=\"color: #008080;\">128</span>     $el.css({opacity: 0, display: \"block\"}); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> move it outside the right edge of the screen</span>&#13;\n<span style=\"color: #008080;\">129</span>     $el.css(\"left\", <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(current){&#13;\n</span><span style=\"color: #008080;\">130</span>       <span style=\"color: #0000ff;\">return</span> current + windowWidth -<span style=\"color: #000000;\"> frameLeft;&#13;\n</span><span style=\"color: #008080;\">131</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\">132</span>     &#13;\n<span style=\"color: #008080;\">133</span>     setTimeout(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">134</span>       $el.animate({left: final, opacity: 1}, options.speed, options.easing, <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">135</span> <span style=\"color: #000000;\">        dfr.resolve();&#13;\n</span><span style=\"color: #008080;\">136</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">137</span> <span style=\"color: #000000;\">    }, options.delay);&#13;\n</span><span style=\"color: #008080;\">138</span>     &#13;\n<span style=\"color: #008080;\">139</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> dfr.promise();&#13;\n</span><span style=\"color: #008080;\">140</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\">141</span>   &#13;\n<span style=\"color: #008080;\">142</span>   &#13;\n<span style=\"color: #008080;\">143</span>   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> two pass function that first iterates all the elements and gets their position/width/height</span>&#13;\n<span style=\"color: #008080;\">144</span>   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> and then sets their position to absolute</span>&#13;\n<span style=\"color: #008080;\">145</span>   <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> absolutize($elements) {&#13;\n</span><span style=\"color: #008080;\">146</span>     &#13;\n<span style=\"color: #008080;\">147</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> todo - move it to separate function and do it just once</span>&#13;\n<span style=\"color: #008080;\">148</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> gather the original position/dimension data for all elements</span>&#13;\n<span style=\"color: #008080;\">149</span>     $elements.each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">150</span>       <span style=\"color: #0000ff;\">var</span> $t = $(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">151</span>       &#13;\n<span style=\"color: #008080;\">152</span>       <span style=\"color: #0000ff;\">if</span> ($t.data(\"tlrkOriginalPos\")) <span style=\"color: #0000ff;\">return</span>&#13;\n<span style=\"color: #008080;\">153</span>       &#13;\n<span style=\"color: #008080;\">154</span>       $t.data(\"tlrkOriginalPos\"<span style=\"color: #000000;\">, {&#13;\n</span><span style=\"color: #008080;\">155</span> <span style=\"color: #000000;\">        position: $t.position(),&#13;\n</span><span style=\"color: #008080;\">156</span> <span style=\"color: #000000;\">        width: $t.width(),&#13;\n</span><span style=\"color: #008080;\">157</span> <span style=\"color: #000000;\">        height: $t.height(),&#13;\n</span><span style=\"color: #008080;\">158</span>         css_pos: $t.css(\"position\"<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">159</span>         css_left: $t.css(\"left\"<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">160</span>         css_top: $t.css(\"top\"<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">161</span>         css_width: $t.css(\"width\") || \"auto\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">162</span>         css_height: $t.css(\"height\") || \"auto\"&#13;\n<span style=\"color: #008080;\">163</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">164</span>       &#13;\n<span style=\"color: #008080;\">165</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\">166</span>     &#13;\n<span style=\"color: #008080;\">167</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> set the absolute position</span>&#13;\n<span style=\"color: #008080;\">168</span>     $elements.each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">169</span>       <span style=\"color: #0000ff;\">var</span> $t = $(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">170</span>           opos = $t.data(\"tlrkOriginalPos\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">171</span>          &#13;\n<span style=\"color: #008080;\">172</span> <span style=\"color: #000000;\">      $t.css({&#13;\n</span><span style=\"color: #008080;\">173</span>         position: \"absolute\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">174</span> <span style=\"color: #000000;\">        left: opos.position.left,&#13;\n</span><span style=\"color: #008080;\">175</span>         &#13;\n<span style=\"color: #008080;\">176</span> <span style=\"color: #000000;\">        width: opos.width,&#13;\n</span><span style=\"color: #008080;\">177</span> <span style=\"color: #000000;\">        height: opos.height&#13;\n</span><span style=\"color: #008080;\">178</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">179</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\">180</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\">181</span>   &#13;\n<span style=\"color: #008080;\">182</span>   <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> restoreFrameElements($elements) {&#13;\n</span><span style=\"color: #008080;\">183</span>     $elements.each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">184</span>       <span style=\"color: #0000ff;\">var</span> $t = $(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">185</span>           opos = $t.data(\"tlrkOriginalPos\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">186</span>           &#13;\n<span style=\"color: #008080;\">187</span>       <span style=\"color: #0000ff;\">if</span> (!opos) <span style=\"color: #0000ff;\">return</span>&#13;\n<span style=\"color: #008080;\">188</span>           &#13;\n<span style=\"color: #008080;\">189</span> <span style=\"color: #000000;\">      $t.css({&#13;\n</span><span style=\"color: #008080;\">190</span> <span style=\"color: #000000;\">        position: opos.css_pos,&#13;\n</span><span style=\"color: #008080;\">191</span> <span style=\"color: #000000;\">        left: opos.css_left,&#13;\n</span><span style=\"color: #008080;\">192</span> <span style=\"color: #000000;\">        top: opos.css_top,&#13;\n</span><span style=\"color: #008080;\">193</span> <span style=\"color: #000000;\">        width: opos.css_width,&#13;\n</span><span style=\"color: #008080;\">194</span> <span style=\"color: #000000;\">        height: opos.css_height&#13;\n</span><span style=\"color: #008080;\">195</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">196</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\">197</span>     &#13;\n<span style=\"color: #008080;\">198</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\">199</span> &#13;\n<span style=\"color: #008080;\">200</span>   <span style=\"color: #0000ff;\">var</span> TlrkSlider = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">( elem, options ){&#13;\n</span><span style=\"color: #008080;\">201</span>       <span style=\"color: #0000ff;\">this</span>.elem =<span style=\"color: #000000;\"> elem;&#13;\n</span><span style=\"color: #008080;\">202</span>       <span style=\"color: #0000ff;\">this</span>.$elem =<span style=\"color: #000000;\"> $(elem);&#13;\n</span><span style=\"color: #008080;\">203</span>       <span style=\"color: #0000ff;\">this</span>.options =<span style=\"color: #000000;\"> options;&#13;\n</span><span style=\"color: #008080;\">204</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">205</span> &#13;\n<span style=\"color: #008080;\">206</span>   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> the plugin prototype</span>&#13;\n<span style=\"color: #008080;\">207</span>   TlrkSlider.prototype =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">208</span> <span style=\"color: #000000;\">    defaults: {&#13;\n</span><span style=\"color: #008080;\">209</span> &#13;\n<span style=\"color: #008080;\">210</span> &#13;\n<span style=\"color: #008080;\">211</span> <span style=\"color: #000000;\">      defaultElementOptions: {&#13;\n</span><span style=\"color: #008080;\">212</span>         speed: 1200<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">213</span>         easing: \"easeInOutBack\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">214</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> interval before the element starts moving when the fadeIn/Out functions are called</span>&#13;\n<span style=\"color: #008080;\">215</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> it\'s a good idea to give different delays for the different elements</span>&#13;\n<span style=\"color: #008080;\">216</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> if all have the same delay they\'ll start moving all together</span>&#13;\n<span style=\"color: #008080;\">217</span>         delay: 100 &#13;\n<span style=\"color: #008080;\">218</span> <span style=\"color: #000000;\">      },&#13;\n</span><span style=\"color: #008080;\">219</span>       &#13;\n<span style=\"color: #008080;\">220</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> dispose elements are these that are not included in the elements object</span>&#13;\n<span style=\"color: #008080;\">221</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> but affect the document flow and will be fadedIn/Out</span>&#13;\n<span style=\"color: #008080;\">222</span>       disposeDelay: 100, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> delay for the dispose elements</span>&#13;\n<span style=\"color: #008080;\">223</span>       disposeSpeed: 1000, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> how quickly they\'ll fadeOut/In</span>&#13;\n<span style=\"color: #008080;\">224</span>       &#13;\n<span style=\"color: #008080;\">225</span>       delayBetweenTransition: 1000, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> time between starting fadeOut and fadeIn</span>&#13;\n<span style=\"color: #008080;\">226</span>       delayAnimation: 7000, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> time between auto changing the current frame</span>&#13;\n<span style=\"color: #008080;\">227</span>       &#13;\n<span style=\"color: #008080;\">228</span>       loop: <span style=\"color: #0000ff;\">true</span>, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> if true when clicking next on the last frame the slider jumps to the first one</span>&#13;\n<span style=\"color: #008080;\">229</span>       &#13;\n<span style=\"color: #008080;\">230</span>       autoStart: <span style=\"color: #0000ff;\">true</span>, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> start the automatic looping through the frames on init</span>&#13;\n<span style=\"color: #008080;\">231</span>       &#13;\n<span style=\"color: #008080;\">232</span>       framesSelector: \"section\", <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> selector for the frames inside the slider</span>&#13;\n<span style=\"color: #008080;\">233</span>       &#13;\n<span style=\"color: #008080;\">234</span> <span style=\"color: #000000;\">      elements: {&#13;\n</span><span style=\"color: #008080;\">235</span>         \"p\": {delay: 100, speed: 1000, easing: \"easeInOutBack\"<span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">236</span> <span style=\"color: #000000;\">      },&#13;\n</span><span style=\"color: #008080;\">237</span>       &#13;\n<span style=\"color: #008080;\">238</span>       navigation: <span style=\"color: #0000ff;\">true</span>, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> the dots navigation on the bottom</span>&#13;\n<span style=\"color: #008080;\">239</span>       navigationClass: \"slider-nav\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">240</span>      &#13;\n<span style=\"color: #008080;\">241</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> callbacks</span>&#13;\n<span style=\"color: #008080;\">242</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> another way to \"catch\" these events is with</span>&#13;\n<span style=\"color: #008080;\">243</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> $(-slider-element-).bind(\"animationStart\")</span>&#13;\n<span style=\"color: #008080;\">244</span>       animationStart: <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">245</span>       animationEnd: <span style=\"color: #0000ff;\">null</span>&#13;\n<span style=\"color: #008080;\">246</span> <span style=\"color: #000000;\">    },&#13;\n</span><span style=\"color: #008080;\">247</span> &#13;\n<span style=\"color: #008080;\">248</span>     init: <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">() {&#13;\n</span><span style=\"color: #008080;\">249</span>       <span style=\"color: #0000ff;\">var</span><span style=\"color: #000000;\"> c, e, element, $element,&#13;\n</span><span style=\"color: #008080;\">250</span>           that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">251</span> <span style=\"color: #000000;\">          $firstFrame;&#13;\n</span><span style=\"color: #008080;\">252</span>       &#13;\n<span style=\"color: #008080;\">253</span>       c = <span style=\"color: #0000ff;\">this</span>.config = $.extend({}, <span style=\"color: #0000ff;\">this</span>.defaults, <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options);&#13;\n</span><span style=\"color: #008080;\">254</span>       &#13;\n<span style=\"color: #008080;\">255</span>       <span style=\"color: #0000ff;\">this</span>.elem.style.position = \"relative\"; <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> make the wrapping element relative</span>&#13;\n<span style=\"color: #008080;\">256</span>       &#13;\n<span style=\"color: #008080;\">257</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> basics</span>&#13;\n<span style=\"color: #008080;\">258</span>       <span style=\"color: #0000ff;\">this</span>.$frames = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.$elem.find(c.framesSelector);&#13;\n</span><span style=\"color: #008080;\">259</span>       <span style=\"color: #0000ff;\">this</span>.framesCount = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.$frames.length;&#13;\n</span><span style=\"color: #008080;\">260</span>       <span style=\"color: #0000ff;\">this</span>.currentFrame = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">261</span>       <span style=\"color: #0000ff;\">this</span>.queue =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">262</span>       &#13;\n<span style=\"color: #008080;\">263</span>       <span style=\"color: #0000ff;\">this</span>._$elementsByFrame =<span style=\"color: #000000;\"> {};&#13;\n</span><span style=\"color: #008080;\">264</span>       <span style=\"color: #0000ff;\">this</span>._$disposeElementsByFrame =<span style=\"color: #000000;\"> {};&#13;\n</span><span style=\"color: #008080;\">265</span>       &#13;\n<span style=\"color: #008080;\">266</span>       <span style=\"color: #0000ff;\">for</span> (i = 0; i &lt; <span style=\"color: #0000ff;\">this</span>.framesCount; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">267</span>         <span style=\"color: #0000ff;\">this</span>._$elementsByFrame[i] = <span style=\"color: #0000ff;\">this</span>._getFrameElements(i); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> cache the $elements by frame</span>&#13;\n<span style=\"color: #008080;\">268</span>         <span style=\"color: #0000ff;\">this</span>._$disposeElementsByFrame[i] = <span style=\"color: #0000ff;\">this</span>._getDisposeFrameElements(i); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> cache the rest of the tree for each frame</span>&#13;\n<span style=\"color: #008080;\">269</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">270</span>       &#13;\n<span style=\"color: #008080;\">271</span>       <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\"> (c.navigation) {&#13;\n</span><span style=\"color: #008080;\">272</span>         generateNavigation(<span style=\"color: #0000ff;\">this</span>.$elem, <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.framesCount, c);&#13;\n</span><span style=\"color: #008080;\">273</span>         <span style=\"color: #0000ff;\">this</span>.$navigation = <span style=\"color: #0000ff;\">this</span>.$elem.find(\".\"+<span style=\"color: #000000;\">c.navigationClass);&#13;\n</span><span style=\"color: #008080;\">274</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">275</span>       &#13;\n<span style=\"color: #008080;\">276</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> bindings</span>&#13;\n<span style=\"color: #008080;\">277</span>       <span style=\"color: #0000ff;\">this</span>.$elem.find(\".slider-nav\").delegate(\"a\", \"click\", <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(e){&#13;\n</span><span style=\"color: #008080;\">278</span>         <span style=\"color: #0000ff;\">var</span> frame = <span style=\"color: #0000ff;\">this</span>.getAttribute(\"href\").split(\"#\")[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">279</span> <span style=\"color: #000000;\">        that.go.call(that, frame);&#13;\n</span><span style=\"color: #008080;\">280</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">281</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">282</span>       &#13;\n<span style=\"color: #008080;\">283</span>       <span style=\"color: #0000ff;\">this</span>.$elem <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> internal bindings for the callbacks</span>&#13;\n<span style=\"color: #008080;\">284</span>         .bind(\"animationStart\", <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">285</span>           <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\"> ($.isFunction(c.animationStart)) {c.animationStart.apply(that, arguments);}&#13;\n</span><span style=\"color: #008080;\">286</span> <span style=\"color: #000000;\">        })&#13;\n</span><span style=\"color: #008080;\">287</span>         .bind(\"animationEnd\", <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">288</span>           <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\"> ($.isFunction(c.animationEnd)) {c.animationEnd.apply(that, arguments);}&#13;\n</span><span style=\"color: #008080;\">289</span> <span style=\"color: #000000;\">        })&#13;\n</span><span style=\"color: #008080;\">290</span> <span style=\"color: #000000;\">      ;&#13;\n</span><span style=\"color: #008080;\">291</span>       &#13;\n<span style=\"color: #008080;\">292</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> start animation?</span>&#13;\n<span style=\"color: #008080;\">293</span>       <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\"> (c.autoStart) {&#13;\n</span><span style=\"color: #008080;\">294</span>         <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.start();&#13;\n</span><span style=\"color: #008080;\">295</span>       } <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">296</span>         <span style=\"color: #0000ff;\">this</span>.running = <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">297</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">298</span> &#13;\n<span style=\"color: #008080;\">299</span>       <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">300</span> <span style=\"color: #000000;\">    },&#13;\n</span><span style=\"color: #008080;\">301</span>     &#13;\n<span style=\"color: #008080;\">302</span>     start: <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(instant) {&#13;\n</span><span style=\"color: #008080;\">303</span>       <span style=\"color: #0000ff;\">var</span> that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">304</span>       &#13;\n<span style=\"color: #008080;\">305</span>       <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #0000ff;\">this</span>.timer) { <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> we\'ll clear the current timer</span>&#13;\n<span style=\"color: #008080;\">306</span>         window.clearTimeout(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.timer);&#13;\n</span><span style=\"color: #008080;\">307</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">308</span>       &#13;\n<span style=\"color: #008080;\">309</span>       <span style=\"color: #0000ff;\">this</span>.running = <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">310</span>       &#13;\n<span style=\"color: #008080;\">311</span>       <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\"> (instant) {&#13;\n</span><span style=\"color: #008080;\">312</span> <span style=\"color: #000000;\">        that.nextFrame();&#13;\n</span><span style=\"color: #008080;\">313</span>       } <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">314</span>         <span style=\"color: #0000ff;\">this</span>.timer = window.setTimeout(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){ that.nextFrame.call(that) }, that.config.delayAnimation);&#13;\n</span><span style=\"color: #008080;\">315</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">316</span> <span style=\"color: #000000;\">    },&#13;\n</span><span style=\"color: #008080;\">317</span>     &#13;\n<span style=\"color: #008080;\">318</span>     stop: <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">() {&#13;\n</span><span style=\"color: #008080;\">319</span>       <span style=\"color: #0000ff;\">if</span> (!<span style=\"color: #0000ff;\">this</span>.running) <span style=\"color: #0000ff;\">return</span>; <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> we are not running</span>&#13;\n<span style=\"color: #008080;\">320</span>       &#13;\n<span style=\"color: #008080;\">321</span>       <span style=\"color: #0000ff;\">this</span>.running = <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">322</span>       window.clearTimeout(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.timer);&#13;\n</span><span style=\"color: #008080;\">323</span> <span style=\"color: #000000;\">    },&#13;\n</span><span style=\"color: #008080;\">324</span> &#13;\n<span style=\"color: #008080;\">325</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> main function for changing frames</span>&#13;\n<span style=\"color: #008080;\">326</span>     selectFrame: <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(frame, dfr) {&#13;\n</span><span style=\"color: #008080;\">327</span>       <span style=\"color: #0000ff;\">var</span> c = <span style=\"color: #0000ff;\">this</span>.config, <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> shorthand for the config</span>&#13;\n<span style=\"color: #008080;\">328</span>           that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">329</span>           dfr = dfr ||<span style=\"color: #000000;\"> $.Deferred(),&#13;\n</span><span style=\"color: #008080;\">330</span>           dFadeIn =<span style=\"color: #000000;\"> $.Deferred(),&#13;\n</span><span style=\"color: #008080;\">331</span>           dFadeOut =<span style=\"color: #000000;\"> $.Deferred();&#13;\n</span><span style=\"color: #008080;\">332</span>           &#13;\n<span style=\"color: #008080;\">333</span>       <span style=\"color: #0000ff;\">if</span> (isNaN(frame) || frame &lt; 0 || frame &gt; <span style=\"color: #0000ff;\">this</span>.framesCount || frame === <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.currentFrame) {&#13;\n</span><span style=\"color: #008080;\">334</span> <span style=\"color: #000000;\">        dfr.reject();&#13;\n</span><span style=\"color: #008080;\">335</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> dfr.promise();&#13;\n</span><span style=\"color: #008080;\">336</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">337</span> &#13;\n<span style=\"color: #008080;\">338</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> clear the animation loop interval if the animation is running</span>&#13;\n<span style=\"color: #008080;\">339</span>       <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #0000ff;\">this</span>.running &amp;&amp; <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.timer) { &#13;\n</span><span style=\"color: #008080;\">340</span>         window.clearTimeout(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.timer);&#13;\n</span><span style=\"color: #008080;\">341</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">342</span> &#13;\n<span style=\"color: #008080;\">343</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> check if we are currenly running an animation.</span>&#13;\n<span style=\"color: #008080;\">344</span>       <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #0000ff;\">this</span>.animated &amp;&amp; <span style=\"color: #0000ff;\">this</span>.queue.length &gt; 0<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">345</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> wait for the last item in the queue to finish</span>&#13;\n<span style=\"color: #008080;\">346</span>         <span style=\"color: #0000ff;\">this</span>.queue[<span style=\"color: #0000ff;\">this</span>.queue.length-1].done(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">347</span>           that.selectFrame(frame, dfr); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> and call again the selectFrame</span>&#13;\n<span style=\"color: #008080;\">348</span> <span style=\"color: #000000;\">        })&#13;\n</span><span style=\"color: #008080;\">349</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> dfr.promise();&#13;\n</span><span style=\"color: #008080;\">350</span> <span style=\"color: #000000;\">      }&#13;\n</span><span style=\"color: #008080;\">351</span>       &#13;\n<span style=\"color: #008080;\">352</span>       <span style=\"color: #0000ff;\">this</span>.animated = <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">353</span>       <span style=\"color: #0000ff;\">this</span>.$elem.trigger(\"animationStart\", [<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">, frame]);&#13;\n</span><span style=\"color: #008080;\">354</span>       &#13;\n<span style=\"color: #008080;\">355</span>       <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.queue.push(dfr);&#13;\n</span><span style=\"color: #008080;\">356</span>       &#13;\n<span style=\"color: #008080;\">357</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> fade the frames</span>&#13;\n<span style=\"color: #008080;\">358</span>       dFadeOut = <span style=\"color: #0000ff;\">this</span>._fadeOutFrame(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.currentFrame);&#13;\n</span><span style=\"color: #008080;\">359</span>       &#13;\n<span style=\"color: #008080;\">360</span>       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> hide the fadetout frame</span>&#13;\n<span style=\"color: #008080;\">361</span>       dFadeOut.done(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">362</span> <span style=\"color: #000000;\">        that.$frames.eq(that.currentFrame).hide();&#13;\n</span><span style=\"color: #008080;\">363</span> <span style=\"color: #000000;\">      });&#13;\n</span><span style=\"color: #008080;\">364</span>       &#13;\n<span style=\"color: #008080;\">365</span>       window.setTimeout(<span style=\"color: #0000ff;\">function</span>(){ <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> then wait delayBetweenTransition and fadeIn the new frame</span>&#13;\n<span style=\"color: #008080;\">366</span>         dFadeIn = that._fadeInFrame.call(that, frame).done(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">367</span>           <span style=\"',114,'2014-11-30 02:59:00','2016-07-31 10:21:07',9,'http://www.cnblogs.com/lvyahui/p/4133933.html',4133933),(472,'dedecms由子目录访问修改为根目录访问','现在我需要将原来位于xampp/htdocs/zm下的网站修改到D:/lyh/webhome目录下访问，原来的访问路径为http://localhost/zm,现在为http://www.yihui.com，则首先我需要在xampp下配置一个虚拟站点&#13;\n分别修改http.conf、http-vhosts.conf和','<div id=\"cnblogs_post_body\"><p>现在我需要将原来位于xampp/htdocs/zm下的网站修改到D:/lyh/webhome目录下访问，原来的访问路径为http://localhost/zm,现在为http://www.yihui.com，则首先我需要在xampp下配置一个虚拟站点</p>&#13;\n<p>分别修改http.conf、http-vhosts.conf和hosts文件，分别添加</p>&#13;\n<p>http.conf</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">VirtualHost </span><span style=\"color: #ff0000;\">*:80</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n    ServerAdmin webmaster@qq.com&#13;\n    DocumentRoot \"D:/lyh/webhome\"&#13;\n    ServerName yihui.com&#13;\n    ServerAlias www.yihui.com&#13;\n    ErrorLog \"logs/yihui.com-error.log\"&#13;\n    CustomLog \"logs/yihui.com-access.log\" common&#13;\n</span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">VirtualHost</span><span style=\"color: #0000ff;\">&gt;</span></pre>&#13;\n</div>&#13;\n<p>http-vhosts.conf</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">Directory </span><span style=\"color: #ff0000;\">\"D:/lyh/webhome\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n    Options Indexes FollowSymLinks Includes ExecCGI&#13;\n    AllowOverride All&#13;\n    Require all granted&#13;\n</span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">Directory</span><span style=\"color: #0000ff;\">&gt;</span></pre>&#13;\n</div>&#13;\n<p>hosts</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>127.0.0.1 www.yihui.com</pre>&#13;\n</div>&#13;\n<p>之后再可以正常访问dedecms后台了，但前台有问题，需要在后台修改内容</p>&#13;\n<p>在系统-〉系统基本参数-〉站点设置</p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/020918537649289.png\" alt=\"\"/></p>&#13;\n<p>在系统-〉系统基本参数-〉核心设置</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/020920320306103.jpg\" alt=\"\"/></p>&#13;\n<p>之后前台可以访问了，但是还有问题，所有的<span style=\"color: #ff0000;\">图片路径不对</span>，在路径前面依然还有一个<span style=\"color: #ff0000;\"><em id=\"__mceDel\">\"/zm/\"</em></span></p>&#13;\n<p>原来<span style=\"color: #ff0000;\">这些url都被写在了数据库里固化了，需要修改数据库的几张表</span>，他们分别是</p>&#13;\n<ul><li>图集缩略图表名dede_uploads字段url;</li>&#13;\n<li>频道文章列表的图片缩略图表名dede_archives字段litpic</li>&#13;\n<li>新闻文章内部的图片表名dede_addonarticle字段body</li>&#13;\n<li>图集文章内部的图片表名dede_addonimages字段imgurls</li>&#13;\n</ul><p>　　</p>&#13;\n<p>将这些字段中的\"/zm/uploads\" 替换成\"/uploads\"</p>&#13;\n<p>替换的方法有很多，可以在数据库中执行sql替换，也可以到dedecms后台核心-〉数据库内容替换中做。</p>&#13;\n<p>将这些字段替换完毕后，到后台重新生成网站，网站可以正常访问了</p></div>',34,'2014-12-02 01:28:00','2016-07-31 10:21:08',42,'http://www.cnblogs.com/lvyahui/p/4136642.html',4136642),(473,'JQuery焦点Table','','<div id=\"cnblogs_post_body\"><div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'289bc15b-4890-42b1-b467-218cb197838d\')\"><img id=\"code_img_closed_289bc15b-4890-42b1-b467-218cb197838d\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_289bc15b-4890-42b1-b467-218cb197838d\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'289bc15b-4890-42b1-b467-218cb197838d\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_289bc15b-4890-42b1-b467-218cb197838d\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #800000;\">.prod_description_sizechart table</span>{<span style=\"color: #ff0000;\">margin-bottom</span>:<span style=\"color: #0000ff;\">0</span>;<span style=\"color: #ff0000;\">width</span>:<span style=\"color: #0000ff;\">992px</span>;<span style=\"color: #ff0000;\">max-width</span>:<span style=\"color: #0000ff;\">none</span>;<span style=\"color: #ff0000;\">border-collapse</span>:<span style=\"color: #0000ff;\">collapse</span>;<span style=\"color: #ff0000;\">background-color</span>:<span style=\"color: #0000ff;\">transparent</span>;<span style=\"color: #ff0000;\">table-layout</span>:<span style=\"color: #0000ff;\">fixed</span>;<span style=\"color: #ff0000;\">border-spacing</span>:<span style=\"color: #0000ff;\">0</span>;}<span style=\"color: #800000;\">&#13;\n.table-bordered</span>{<span style=\"color: #ff0000;\">border</span>:<span style=\"color: #0000ff;\">1px solid #ddd</span>;<span style=\"color: #ff0000;\">border-left</span>:<span style=\"color: #0000ff;\">0</span>;<span style=\"color: #ff0000;\">-webkit-border-radius</span>:<span style=\"color: #0000ff;\">4px</span>;<span style=\"color: #ff0000;\">-moz-border-radius</span>:<span style=\"color: #0000ff;\">4px</span>;<span style=\"color: #ff0000;\">border-radius</span>:<span style=\"color: #0000ff;\">4px</span>;}<span style=\"color: #800000;\">&#13;\n.table</span>{<span style=\"color: #ff0000;\">margin-bottom</span>:<span style=\"color: #0000ff;\">20px</span>;<span style=\"color: #ff0000;\">width</span>:<span style=\"color: #0000ff;\">100%</span>;<span style=\"color: #ff0000;\">table-layout</span>:<span style=\"color: #0000ff;\">fixed</span>;}<span style=\"color: #800000;\">&#13;\ntbody</span>{<span style=\"color: #ff0000;\">display</span>:<span style=\"color: #0000ff;\">table-row-group</span>;<span style=\"color: #ff0000;\">border-color</span>:<span style=\"color: #0000ff;\">inherit</span>;<span style=\"color: #ff0000;\">vertical-align</span>:<span style=\"color: #0000ff;\">middle</span>;}<span style=\"color: #800000;\">&#13;\ntr</span>{<span style=\"color: #ff0000;\">display</span>:<span style=\"color: #0000ff;\">table-row</span>;<span style=\"color: #ff0000;\">border-color</span>:<span style=\"color: #0000ff;\">inherit</span>;<span style=\"color: #ff0000;\">vertical-align</span>:<span style=\"color: #0000ff;\">inherit</span>;}<span style=\"color: #800000;\">&#13;\ntable</span>{<span style=\"color: #ff0000;\">margin-bottom</span>:<span style=\"color: #0000ff;\">0</span>;<span style=\"color: #ff0000;\">width</span>:<span style=\"color: #0000ff;\">992px</span>;<span style=\"color: #ff0000;\">max-width</span>:<span style=\"color: #0000ff;\">none</span>;<span style=\"color: #ff0000;\">border-collapse</span>:<span style=\"color: #0000ff;\">collapse</span>;<span style=\"color: #ff0000;\">background-color</span>:<span style=\"color: #0000ff;\">transparent</span>;<span style=\"color: #ff0000;\">table-layout</span>:<span style=\"color: #0000ff;\">fixed</span>;<span style=\"color: #ff0000;\">border-spacing</span>:<span style=\"color: #0000ff;\">0</span>;}<span style=\"color: #800000;\">&#13;\n.prod_description_sizechart table td,.prod_description_sizechart table th</span>{<span style=\"color: #ff0000;\">text-align</span>:<span style=\"color: #0000ff;\">center</span>;<span style=\"color: #ff0000;\">word-wrap</span>:<span style=\"color: #0000ff;\">break-word</span>;}<span style=\"color: #800000;\">&#13;\n.table-bordered th,.table-bordered td</span>{<span style=\"color: #ff0000;\">border-left</span>:<span style=\"color: #0000ff;\">1px solid #ddd</span>;}<span style=\"color: #800000;\">&#13;\n.table-bordered th,.table-bordered td</span>{<span style=\"color: #ff0000;\">border-left</span>:<span style=\"color: #0000ff;\">1px solid #ddd</span>;}<span style=\"color: #800000;\">&#13;\n.table th,.table td</span>{<span style=\"color: #ff0000;\">padding</span>:<span style=\"color: #0000ff;\">8px</span>;<span style=\"color: #ff0000;\">width</span>:<span style=\"color: #0000ff;\">120px</span>;<span style=\"color: #ff0000;\">border-top</span>:<span style=\"color: #0000ff;\">1px solid #ddd</span>;<span style=\"color: #ff0000;\">vertical-align</span>:<span style=\"color: #0000ff;\">top</span>;<span style=\"color: #ff0000;\">text-align</span>:<span style=\"color: #0000ff;\">center</span>;<span style=\"color: #ff0000;\">word-wrap</span>:<span style=\"color: #0000ff;\">break-word</span>;<span style=\"color: #ff0000;\">font-size</span>:<span style=\"color: #0000ff;\">12px</span>;<span style=\"color: #ff0000;\">line-height</span>:<span style=\"color: #0000ff;\">20px</span>;}<span style=\"color: #800000;\">&#13;\n.prod_description_sizechart .prod_size em</span>{<span style=\"color: #ff0000;\">margin</span>:<span style=\"color: #0000ff;\">0 4px</span>;<span style=\"color: #ff0000;\">font-style</span>:<span style=\"color: #0000ff;\">normal</span>;<span style=\"color: #ff0000;\">font-size</span>:<span style=\"color: #0000ff;\">16px</span>;}<span style=\"color: #800000;\">&#13;\nul,li</span>{<span style=\"color: #ff0000;\">margin</span>:<span style=\"color: #0000ff;\">0</span>;<span style=\"color: #ff0000;\">padding</span>:<span style=\"color: #0000ff;\">0</span>;<span style=\"color: #ff0000;\">list-style</span>:<span style=\"color: #0000ff;\">none</span>;}<span style=\"color: #800000;\">&#13;\n#p-li</span>{<span style=\"color: #ff0000;\">margin</span>:<span style=\"color: #0000ff;\">0 auto</span>;<span style=\"color: #ff0000;\">margin-top</span>:<span style=\"color: #0000ff;\">10px</span>;<span style=\"color: #ff0000;\">width</span>:<span style=\"color: #0000ff;\">630px</span>;}<span style=\"color: #800000;\">&#13;\n#p-li div</span>{<span style=\"color: #ff0000;\">clear</span>:<span style=\"color: #0000ff;\">both</span>;<span style=\"color: #ff0000;\">display</span>:<span style=\"color: #0000ff;\">none</span>;}<span style=\"color: #800000;\">&#13;\nli</span>{<span style=\"color: #ff0000;\">float</span>:<span style=\"color: #0000ff;\">left</span>;<span style=\"color: #ff0000;\">margin-right</span>:<span style=\"color: #0000ff;\">2px</span>;<span style=\"color: #ff0000;\">padding</span>:<span style=\"color: #0000ff;\">10px</span>;<span style=\"color: #ff0000;\">background</span>:<span style=\"color: #0000ff;\">#b9bec2</span>;<span style=\"color: #ff0000;\">color</span>:<span style=\"color: #0000ff;\">#FFF</span>;<span style=\"color: #ff0000;\">cursor</span>:<span style=\"color: #0000ff;\">default</span>;}<span style=\"color: #800000;\">&#13;\n.tagIn,#p-li .conIn</span>{<span style=\"color: #ff0000;\">display</span>:<span style=\"color: #0000ff;\">block</span>;<span style=\"color: #ff0000;\">color</span>:<span style=\"color: #0000ff;\">#FFF</span>;}<span style=\"color: #800000;\">&#13;\n.tagIn</span>{<span style=\"color: #ff0000;\">background</span>:<span style=\"color: #0000ff;\">#cb2027</span>;}<span style=\"color: #800000;\">&#13;\n.mouseover</span>{<span style=\"color: #ff0000;\">background</span>:<span style=\"color: #0000ff;\">#cb2027</span>;<span style=\"color: #ff0000;\">color</span>:<span style=\"color: #0000ff;\">#fff</span>;}</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">Css Code</span></div>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'bfd420bb-9a4a-4d35-9ccb-5453e2d30a22\')\"><img id=\"code_img_closed_bfd420bb-9a4a-4d35-9ccb-5453e2d30a22\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_bfd420bb-9a4a-4d35-9ccb-5453e2d30a22\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'bfd420bb-9a4a-4d35-9ccb-5453e2d30a22\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_bfd420bb-9a4a-4d35-9ccb-5453e2d30a22\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">div </span><span style=\"color: #ff0000;\">id</span><span style=\"color: #0000ff;\">=\"p-li\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n    <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"tagIn level-top\"</span><span style=\"color: #0000ff;\">&gt;</span> Inches <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"level-top\"</span><span style=\"color: #0000ff;\">&gt;</span> Centimeters <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n    <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n    <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">div </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"conIn level-content\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">table </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"table table-bordered\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tbody</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Size&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Bust&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Waist&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Hips&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Hollow to Floor&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size litb-hover\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"2\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                2&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"83\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                32&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"65\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                25&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"91\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                35&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"147\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                57&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"4\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                4&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"85\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                33&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"68\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                26&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"93\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                36&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"147\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                57&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"6\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                6&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"88\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                34&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"70\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                27&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"96\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                37&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"150\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                59&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"8\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                8&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"90\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                35&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"72\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                28&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"98\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                38&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"150\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                59&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"10\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                10&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"93\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                36&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"75\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                29&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"101\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                39&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"152\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                59&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"12\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                12&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"97\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                38&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"79\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                31&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"105\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                41&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"152\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                59&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"14\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                14&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"100\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                39&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"83\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                32&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"109\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                43&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"16\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                16&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"104\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                41&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"86\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                33&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"112\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                44&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"16w\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                16w&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"109\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                43&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"92\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                36&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"116\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                45&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"18w\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                18w&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"114\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                45&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"98\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                38&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"121\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                47&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"20w\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                20w&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"119\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                46&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"104\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                41&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"126\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                49&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"22w\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                22w&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"124\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                48&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"109\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                43&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"131\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                51&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"24w\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                24w&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"130\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                51&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"115\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                45&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"136\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                53&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"26w\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                26w&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"135\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                53&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¼<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"121\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                47&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>¾<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"141\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                55&#13;\n                </span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>½<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">em</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"prod_size\"</span><span style=\"color: #ff0000;\"> data-orig</span><span style=\"color: #0000ff;\">=\"155\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                61&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tbody</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">table</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n    <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">div</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n    <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">div </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"level-content\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">table </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"table table-bordered\"</span><span style=\"color: #ff0000;\"> data-chart-unit</span><span style=\"color: #0000ff;\">=\"\"</span><span style=\"color: #ff0000;\"> data-unit</span><span style=\"color: #0000ff;\">=\"[&amp;quot;&amp;quot;,&amp;quot;cm&amp;quot;,&amp;quot;cm&amp;quot;,&amp;quot;cm&amp;quot;,&amp;quot;cm&amp;quot;]\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tbody</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n        <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Size&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Bust&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Waist&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"litb-hover\"</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n                Hips&#13;\n            </span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n            <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">th</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n       ',50,'2014-12-07 04:03:00','2016-07-31 10:21:09',9,'http://www.cnblogs.com/lvyahui/p/4149239.html',4149239),(474,'如何参与github上的开源项目','今晚比较闲，于是乎装修了一下博客，顺便将一块心病（怎么参加github上的开源项目）解决了，最后发个文章总结下&#13;\n这些是参考的链接&#13;\nhttp://blog.csdn.net/five3/article/details/9307041&#13;\n要在gihub上参与开源项目，比较','<div id=\"cnblogs_post_body\"><p>今晚比较闲，于是乎装修了一下博客，顺便将一块心病（怎么参加github上的开源项目）解决了，最后发个文章总结下</p>&#13;\n<p>这些是参考的链接</p>&#13;\n<p>http://blog.csdn.net/five3/article/details/9307041</p>&#13;\n<p>要在gihub上参与开源项目，比较方便的是下载github的客户端，但是我去官网上下载安装怎么都不成功，FQ也不行。于是想到找离线安装包，还真找到了，http://download.csdn.net/download/dreamhunter_/5256176这是下载链接。下在完了之后解压然后启动github.exe，之后会让你登录github。一切准备好了之后就可以开始找开源项目来做了。</p>&#13;\n<p> </p>&#13;\n<p>找到你喜欢的项目，fork到你的仓库</p>&#13;\n<p> <img src=\"http://images.cnitblog.com/blog/635249/201412/102110547126562.jpg\" alt=\"\"/></p>&#13;\n<p>之后就可以在gihub客户端中看到这个项目了，可能要先刷新，点击clone到本地</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/102116316502799.jpg\" alt=\"\"/></p>&#13;\n<p>然后就可以修改提交了，代码位置可以在参数里面配置</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/102117087599968.jpg\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/102117234153980.jpg\" alt=\"\"/></p>&#13;\n<p>仓库的维护可以安装git bash 或者 git gui管理，至于git命令的学习可以参考这篇文章</p>&#13;\n<p>http://blog.csdn.net/jackystudio/article/details/12249303</p>&#13;\n<p> </p></div>',88,'2014-12-10 01:20:00','2016-07-31 10:21:10',11,'http://www.cnblogs.com/lvyahui/p/4156306.html',4156306),(475,'如何将eclipse里的项目发布到github','首先，给eclipse安装上EGit&#13;\n在“Help &gt; Install new software”中添加&#13;\n http://download.eclipse.org/egit/upda','<div id=\"cnblogs_post_body\"><p>首先，给eclipse安装上EGit</p>&#13;\n<p>在“Help &gt; Install new software”中添加</p>&#13;\n<p> <a href=\"http://download.eclipse.org/egit/updates\">http://download.eclipse.org/egit/updates</a> </p>&#13;\n<p>两个都选上</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232129118435637.png\" alt=\"\" width=\"614\" height=\"508\"/></p>&#13;\n<p>之后首先在github上创建一个仓库</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232130466408809.png\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232131477805265.png\" alt=\"\" width=\"526\" height=\"325\"/></p>&#13;\n<p>创建完成之后会得到一个https地址</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232133462497105.png\" alt=\"\" width=\"659\" height=\"265\"/></p>&#13;\n<p>之后复制这个地址，在eclipse中你要发布的项目上右键</p>&#13;\n<p>\"Team-&gt;Share Project\"，选择Git，然后</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232140574213912.png\" alt=\"\" width=\"568\" height=\"392\"/></p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232141130462972.png\" alt=\"\" width=\"566\" height=\"390\"/></p>&#13;\n<p>点击Finish</p>&#13;\n<p>之后再在项目上右键点击</p>&#13;\n<p>\"Team-&gt;Commits\"</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232146000151802.png\" alt=\"\" width=\"567\" height=\"574\"/></p>&#13;\n<p>将之前的Https地址粘贴到此处。填好密码</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232146098588594.png\" alt=\"\"/></p>&#13;\n<p>最后一路next、finish、ok，就可以在github上看到代码发布上去了</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/232245061406007.png\" alt=\"\" width=\"594\" height=\"552\"/></p>&#13;\n<p><a title=\"项目地址\" href=\"https://github.com/lvyahui8/AndroidDownLoader\" target=\"_blank\">项目地址</a></p>&#13;\n<p> </p></div>',59,'2014-12-23 02:48:00','2016-07-31 10:21:11',43,'http://www.cnblogs.com/lvyahui/p/4181349.html',4181349),(476,'Win8.1 64bit安装Genymotion模拟器','\n其实安装并不复杂，只要环境正常，此事并不难。但估计最坏的情况都被我撞上了，才折腾了差不多一天的\n\n那我有哪些环境不正常呢？\n破解了系统','<div id=\"cnblogs_post_body\" class=\"cnblogs-markdown\"><blockquote>\n<p>其实安装并不复杂，只要环境正常，此事并不难。但估计最坏的情况都被我撞上了，才折腾了差不多一天的</p>\n</blockquote>\n<hr/><h3 id=\"那我有哪些环境不正常呢\">那我有哪些环境不正常呢？</h3>\n<ul><li><strong>破解了系统主题</strong></li>\n<li><strong>Device Install Service服务未启动</strong></li>\n</ul><h4 id=\"下面来具体讲讲这两点带来的后果\">下面来具体讲讲这两点带来的后果</h4>\n<h5 id=\"破解了系统主题\">破解了系统主题</h5>\n<p>这个问题，如果你安装的不是VirtualBox最新版VirtualBox-4.3.20-96997-Win或者直接使用Genymotion的带Vbox的安装包，都不会遇到这个问题，破解系统主题文件后，修改了部分widows的.dll文件，这样直接导致了在VBox里启动虚拟机的时候，出现了这样的错误 <code>Unable to load R3 module</code>，提示不能加载<code>VBoxDD.dll</code>文件。这个问题要么换个低版本的VBox，要么还原系统主题文件。我是用软妹魔方破解的，所以直接用软媒魔方还原了。这样做了之后，在VBox里能够启动Android虚拟机了。</p>\n<h5 id=\"device-install-service服务未启动\">Device Install Service服务未启动</h5>\n<p>这直接导致了两个问题</p>\n<ul><li><p>安装VBox时，不能勾选<code>virtualbox usb support</code>，否则安装完会有致命错误</p>\n<p><img src=\"http://images.cnitblog.com/blog/635249/201412/301709432941715.jpg\"/></p></li>\n<li><p>不能在网络里创建 <code>VBox Host-Only Network</code>，这间接导致在Genymotion里启动Android虚拟机时，会提示<code>unable to load virtualbox engine</code>，这也是耽搁我最久的问题，其实我早就发现了网络里缺少<code>VBox Host-Only Network</code>，只是我一直以为这是Win8.1特性。至于这个问题网上很多人说<code>打开C:\\Users\\USER\\AppData\\Local\\Genymobile\\Genymotion.log，Ctrl+F查找字符串“found in settings”，会看到一个路径，接著请按照上面的路径重新安装virtual box即可。</code>，其实根本不管用，这个文件里连这个found字符串都没有，误人子弟。其实只要启动<code>Device Install Service服务</code>，再重新安装就好<br/><img src=\"http://images.cnitblog.com/blog/635249/201412/301710494031851.png\"/></p></li>\n</ul><hr/><p>将上面的问题都解决后，终于成功启动了。之所以花这多时间搞这个，是因为google自带的模拟器经常挂掉，真机又没有模拟器方便（个人觉得），下面是成果<br/><img src=\"http://images.cnitblog.com/blog/635249/201412/301711441841681.png\"/></p>\n</div>',681,'2014-12-29 21:15:00','2016-07-31 10:21:12',43,'http://www.cnblogs.com/lvyahui/p/4194090.html',4194090),(477,'个人学习历程','今天接触到一个新东西-思维导图，觉的这东西很不错，我用的是Xmind，于是将3年来的学习历程借这款工具整理了一下','<div id=\"cnblogs_post_body\" class=\"cnblogs-markdown\"><p>今天接触到一个新东西-<code>思维导图</code>，觉的这东西很不错，我用的是<code>Xmind</code>，于是将3年来的学习历程借这款工具整理了一下<br/><img src=\"http://images.cnitblog.com/blog/635249/201501/032249114346419.png\"/><br/>\n这些知识，还有很多，现在依然还在学。还有半年，为了我的目标，我必须走下去</p>\n</div>',78,'2015-01-03 02:54:00','2016-07-31 10:21:13',11,'http://www.cnblogs.com/lvyahui/p/4200115.html',4200115),(478,'impress.js学习总结','\nimpress.js是一个很有趣的用来替代PPT的展示用的js工具，它的灵感来自prezi\n\n如果你要学习使用它，这里有很好的','<div id=\"cnblogs_post_body\" class=\"cnblogs-markdown\"><blockquote>\n<p>impress.js是一个很有趣的用来替代PPT的展示用的js工具，它的灵感来自<code>prezi</code></p>\n</blockquote>\n<p>如果你要学习使用它，这里有很好的<a href=\"http://bartaz.github.com/impress.js\">演示模板</a></p>\n<hr/><p>使用它的第一步，下载 <a href=\"http://files.cnblogs.com/lvyahui/impress.js\">impress.js</a>,引入到你的代码里，并执行impress().init();<br/>\n或者你可以直接写下面的代码,这部分代码最好放在<code>&lt;/body&gt;</code>前面</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\"><span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"http://files.cnblogs.com/lvyahui/impress.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span>\n<span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"kw\">&gt;</span><span class=\"at\">impress</span>().<span class=\"at\">init</span>()<span class=\"op\">;&lt;</span><span class=\"ss\">/script&gt;</span></code></pre></div>\n<p>然后记得给<code>body</code>加上<code>class=\"impress-not-supported\"</code>,也就默认浏览器不支持如果浏览器支持，这个class会被去除的。<br/>\n接下来，在body里面放置一个<code>id=\"impress\"</code>的容器，我这里就用<code>div</code>了</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\">    <span class=\"kw\">&lt;div</span><span class=\"ot\"> id=</span><span class=\"st\">\"impress\"</span><span class=\"kw\">&gt;</span>\n    <span class=\"kw\">&lt;/div&gt;</span></code></pre></div>\n<p>下一步，在<code>id=\"impress\"</code>的容器里放置<code>class=\"step\"</code>的容器，我这里还是用<code>div</code>,每一个<code>class=\"step\"</code>的容器，就代表了一页幻灯片。这样的容易可以有下面这样的属性</p>\n<table><thead><tr class=\"header\"><th align=\"left\">属性名称</th>\n<th align=\"left\">属性说明</th>\n</tr></thead><tbody><tr class=\"odd\"><td align=\"left\">data-x</td>\n<td align=\"left\">幻灯片中心距离浏览器中心的x方向的像素值</td>\n</tr><tr class=\"even\"><td align=\"left\">data-y</td>\n<td align=\"left\">幻灯片中心距离浏览器中心的y方向的像素值</td>\n</tr><tr class=\"odd\"><td align=\"left\">data-z</td>\n<td align=\"left\">幻灯片的深度，距离你的距离</td>\n</tr><tr class=\"even\"><td align=\"left\">data-scale</td>\n<td align=\"left\">通过指定一个值来进行缩放，data-scale为5则将会在你幻灯片原始尺寸基础放大5倍</td>\n</tr><tr class=\"odd\"><td align=\"left\">data-rotate</td>\n<td align=\"left\">通过一个数字度数来确定旋转你的幻灯片</td>\n</tr><tr class=\"even\"><td align=\"left\">data-rotate-x</td>\n<td align=\"left\">为3D用，这个数字度数是它应该相对x轴旋转多少度。（前倾/后仰）</td>\n</tr><tr class=\"odd\"><td align=\"left\">data-rotate-y</td>\n<td align=\"left\">为3D用，这个数字度数是它应该相对y轴旋转多少度。 （左摆/右摆）</td>\n</tr><tr class=\"even\"><td align=\"left\">data-rotate-z</td>\n<td align=\"left\">为3D用，这个数字度数是它应该相对z轴旋转多少度。跟data-rotate相同</td>\n</tr></tbody></table><p>这些属性，前面的都好理解，后面三个我是这么理解的，比如下面代码应该表示如图</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\">        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"0\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-rotate-x=</span><span class=\"st\">\"30\"</span><span class=\"ot\"> data-rotate-y=</span><span class=\"st\">\"40\"</span><span class=\"ot\"> data-rotate-z=</span><span class=\"st\">\"50\"</span><span class=\"kw\">&gt;</span>\n            第五页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span></code></pre></div>\n<p><img src=\"http://images.cnitblog.com/blog/635249/201501/131700375424825.png\"/></p>\n<p>当然也可以加上当浏览器不支持时的提示信息</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\">    <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"fallback-message\"</span><span class=\"kw\">&gt;</span>\n        <span class=\"kw\">&lt;p&gt;</span>浏览器太low了，请换个逼格高点的，最次也得欧朋火狐什么的<span class=\"kw\">&lt;/p&gt;</span>\n    <span class=\"kw\">&lt;/div&gt;</span></code></pre></div>\n<p>再在css定义样式</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode css\"><code class=\"sourceCode css\"><span class=\"fl\">.fallback-message</span><span class=\"kw\">{</span>\n    <span class=\"kw\">display:</span><span class=\"dt\">none</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">#impress-not-supported</span> &gt; <span class=\"fl\">.fallback-message</span><span class=\"kw\">{</span>\n    <span class=\"kw\">display:</span><span class=\"dt\">block</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span></code></pre></div>\n<p>至此<code>impress</code>就算掌握了，下面就看创造力了，下面是我的实例代码</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\"><span class=\"dt\">&lt;!DOCTYPE </span>html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"<span class=\"dt\">&gt;</span>\n<span class=\"kw\">&lt;html</span><span class=\"ot\"> xmlns=</span><span class=\"st\">\"http://www.w3.org/1999/xhtml\"</span><span class=\"kw\">&gt;</span>\n<span class=\"kw\">&lt;head&gt;</span>\n<span class=\"kw\">&lt;meta</span><span class=\"ot\"> http-equiv=</span><span class=\"st\">\"Content-Type\"</span><span class=\"ot\"> content=</span><span class=\"st\">\"text/html; charset=utf-8\"</span> <span class=\"kw\">/&gt;</span>\n<span class=\"kw\">&lt;title&gt;</span>无标题文档<span class=\"kw\">&lt;/title&gt;</span>\n\n<span class=\"kw\">&lt;link</span><span class=\"ot\"> href=</span><span class=\"st\">\"css/test.css\"</span><span class=\"ot\"> rel=</span><span class=\"st\">\"stylesheet\"</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/css\"</span> <span class=\"kw\">/&gt;</span>\n<span class=\"kw\">&lt;/head&gt;</span>\n\n<span class=\"kw\">&lt;body</span><span class=\"ot\">  class=</span><span class=\"st\">\"impress-not-supported\"</span><span class=\"kw\">&gt;</span>\n    <span class=\"co\">&lt;!--浏览器不支持，提示信息--&gt;</span>\n    \n    <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"fallback-message\"</span><span class=\"kw\">&gt;</span>\n        <span class=\"kw\">&lt;p&gt;</span>浏览器太low了，请换个逼格高点的，最次也得欧朋火狐什么的<span class=\"kw\">&lt;/p&gt;</span>\n    <span class=\"kw\">&lt;/div&gt;</span>\n   \n    <span class=\"kw\">&lt;div</span><span class=\"ot\"> id=</span><span class=\"st\">\"impress\"</span><span class=\"kw\">&gt;</span>\n    \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"-300\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"-300\"</span><span class=\"kw\">&gt;</span>\n            第八页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n    \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"0\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"-300\"</span><span class=\"ot\"> data-scale=</span><span class=\"st\">\"0.5\"</span><span class=\"ot\"> data-rotate=</span><span class=\"st\">\"45\"</span><span class=\"kw\">&gt;</span>\n            第一页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"-300\"</span><span class=\"ot\"> data-rotate-x=</span><span class=\"st\">\"45\"</span><span class=\"kw\">&gt;</span>\n            第二页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"0\"</span><span class=\"ot\">  data-rotate-y=</span><span class=\"st\">\"45\"</span><span class=\"kw\">&gt;</span>\n            第三页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-rotate-z=</span><span class=\"st\">\"45\"</span><span class=\"kw\">&gt;</span>\n            第四页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"0\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-rotate-x=</span><span class=\"st\">\"30\"</span><span class=\"ot\"> data-rotate-y=</span><span class=\"st\">\"40\"</span><span class=\"ot\"> data-rotate-z=</span><span class=\"st\">\"50\"</span><span class=\"kw\">&gt;</span>\n            第五页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"-300\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"300\"</span><span class=\"ot\"> data-scale=</span><span class=\"st\">\"0.8\"</span><span class=\"kw\">&gt;</span>\n            第六页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n        <span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"step\"</span><span class=\"ot\"> data-x=</span><span class=\"st\">\"-300\"</span><span class=\"ot\"> data-y=</span><span class=\"st\">\"0\"</span><span class=\"ot\"> data-z=</span><span class=\"st\">\"300\"</span><span class=\"kw\">&gt;</span>\n            第七页幻灯片\n        <span class=\"kw\">&lt;/div&gt;</span>\n        \n         \n    <span class=\"kw\">&lt;/div&gt;</span>\n    \n    \n<span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"js/impress.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span>\n<span class=\"kw\">&lt;script&gt;</span><span class=\"at\">impress</span>().<span class=\"at\">init</span>()<span class=\"op\">;&lt;</span><span class=\"ss\">/script&gt;</span>\n<span class=\"ss\">&lt;/body</span><span class=\"op\">&gt;</span>\n<span class=\"op\">&lt;</span><span class=\"ss\">/html&gt;</span></code></pre></div>\n</div>',119,'2015-01-12 21:09:00','2016-07-31 10:21:13',9,'http://www.cnblogs.com/lvyahui/p/4221828.html',4221828),(479,'前端代码集合','前端代码集合\n\n这是本人在网上搜集整理的各种前端代码仓库，对于刚刚接手前端工作的人，我想会有很大帮助\n有兴趣的可以到这里下载','<div id=\"cnblogs_post_body\" class=\"cnblogs-markdown\"><h3 id=\"前端代码集合\">前端代码集合</h3>\n<blockquote>\n<p>这是本人在网上搜集整理的各种前端代码仓库，对于刚刚接手前端工作的人，我想会有很大帮助<br/>\n有兴趣的可以到这里<a href=\"http://pan.baidu.com/s/1bn0adqf\">下载</a></p>\n</blockquote>\n<p><img src=\"http://images.cnitblog.com/blog/635249/201501/211016181569340.png\"/></p>\n<pre class=\"other\"><code>404友好\n |-----html5-css3-404-animation\nbiji.txt\nbuffer.html\ncss.css\ncss.html\ncssDemo.html\nday01.html\ndiv.css\next-5.1.0\n |-----.sencha\n |-----build\n |-----build.xml\n |-----cmd\n |-----examples\n |-----ext-bootstrap.js\n |-----index.html\n |-----LICENSE\n |-----licenses\n |-----overrides\n |-----package.json\n |-----packages\n |-----plugins\n |-----Readme.md\n |-----release-notes.html\n |-----src\n |-----version.properties\n |-----welcome\next-5.1.0-gpl.zip\nfloat_test图文混排.html\ngithub.gif\ngithub.jpg\nicon.bmp\nimpress.js\n |-----css\n |-----images\n |-----index.html\n |-----js\nindex.html\nindex.js\nJquery_table\n |-----jqueryFirst.htm\n |-----js\nJquery_table.rar\njs\n |-----jquery.corner.js\n |-----jquery.jqzoom-core.js\n |-----jquery.js\nlist.txt\nmaoboli.html\nmm.jpg\nsidebar-follow-master.zip\nsidebar-follow.js\nspan.css\ntable\n |-----jquery.corner.js\n |-----jquery.js\n |-----效果.html\n |-----说明.txt\nwindow.html\nxuanxiangka.html\nziti.html\n倒计时\n |-----css3-clock-count\n图片对比\n |-----html5-css3-image-compare\n图片播放幻灯片\n |-----3DGallery\n |-----css3-3d-image-coverflow\n |-----css3-image-caption-animation\n |-----css3-image-slider-icon\n |-----CSS3FilterFunctionality\n |-----easyslider1.5\n |-----easySlider1.5.zip\n |-----html5-3d-carousel\n |-----html5-3d-cube-image-player\n |-----html5-3d-gallery-animation\n |-----html5-3d-image-block\n |-----html5-3d-lightbox\n |-----html5-css3-3d-image-transform\n |-----html5-css3-carousel\n |-----html5-css3-grid-image-effect\n |-----html5-css3-image-selector\n |-----html5-css3-image-slider-nex-pre-button\n |-----html5-css3-navigation-slider\n |-----html5-full-3d-image-show\n |-----html5-slicebox-image\n |-----jiaoben2161\n |-----jiaoben2329\n |-----jiaoben258\n |-----jiaoben282\n |-----jiaoben6\n |-----jquery-css3-simple-gallery\n |-----jquery-hor-image-slider\n |-----jquery.bxslider.zip\n |-----myslider\n |-----portfolio\n |-----SlidingImagePanels\n图表\n |-----Animated3DBarChart\n |-----chartjs\n |-----html5-d3-chart\n |-----jiaoben132\n对话框\n |-----css3-notification\n |-----html5-css3-notification\n |-----Prompt轻量级提示框弹出层\n导航菜单\n |-----css3-3d-navigation-menu\n |-----css3-3d-paper-menu\n |-----css3-animation-bg-menu\n |-----css3-flat-menu\n |-----css3-ribbon-dropdown-menu\n |-----css3-ribbon-menu-1\n |-----css3-top-bg-menu\n |-----html5-css3-face-menu\n |-----jiaoben86\n |-----jquery-ver-tab-menu\n |-----折叠菜单css3-multiple-accordion-menu\n |-----缩放菜单\n按钮\n |-----css3-3d-button-border\n |-----css3-button-with-tooltip\n |-----css3-reakustuc-button\n |-----CSSButtonsPseudoElements\n |-----html5-css3-switch-button\n |-----jiaoben1964\n搜索框\n |-----css3-show-search-form\n播放器\n |-----CassettePlayer\n |-----html5-3d-card-video\n |-----html5-audio-player-wedgit\n |-----html5-circle-audio-player\n |-----html5-circle-music-player\n |-----html5-mini-video-player\n |-----html5-video-api\n |-----projekktor-1.3.09\n |-----projekktor-1.3.09.zip\n |-----video-js\n文字和图片连续滚动.url\n文字滚动.html\n文字特效\n |-----css3-jquery-drag-window\n |-----css3-text-type-effect\n |-----html5-canvas-side-text\n |-----火焰文字\n |-----火焰文字css3-svg-text-bg-animation - 副本\n日历时钟\n |-----html5-css3-calendar\n |-----html5-css3-safari-logo\n浏览器高度或宽度.gif\n游戏\n |-----flappy-bird\n滑动条\n |-----css3-paging-with-bar\n |-----html5-chrome-slider\n滑动门\n |-----css3-tab-with-icon\n |-----html5-svg-tab-slider\n登录表单\n |-----css3-batman-login-form\n |-----css3-batman-login-form.rar\n |-----css3-unfold-login-form\n |-----css3-unfold-login-form.rar\n |-----html5-css3-contact-form-map\n |-----html5-css3-facebook-login-form.rar\n |-----minimal-login-ui\n |-----minimal-login-ui.rar\n程序员表白系列\n |-----12ews\n |-----biaobai\n |-----blessingWall\n |-----i\n |-----情人节礼物_需修改\n |-----程序员像妹子表白专用代码\n纯特效\n |-----html5-3d-cube-image\n |-----html5-3d-real-map\n |-----html5-canvas-fire-animation\n |-----html5-canvas-fire-falling\n |-----html5-canvas-fireworks\n |-----html5-canvas-leida-animation\n |-----html5-canvas-particle-effect\n |-----html5-canvas-roll\n |-----html5-canvas-video\n |-----html5-circle-rotate-animation\n |-----html5-cloth-tear\n |-----html5-css3-swords\n |-----html5-cube-any-face\n |-----html5-google-38-logo\n |-----html5-gravity-gallery\n |-----html5-svg-iphone-shutter\n |-----html5-whale\n |-----jiaoben1144\n |-----jiaoben1467\n |-----jiaoben1984\n |-----jiaoben2304\n |-----jiaoben2304.rar\n |-----jiaoben86\n |-----pure-css3-3d-air-ship\n |-----pure-css3-running\n |-----voxels-liquid\n |-----webgl-water\n编辑框\n |-----html5-css3-json-editor\n说明.htm\n进度条\n |-----10-css3-progress-bar.rar\n |-----css3-loading-1\n |-----html5-canvas-loading.rar\n |-----html5-canvas-shine-loading\n |-----html5-css3-bar-chart\n |-----html5-progress-bar-themes.rar\n |-----LoginRegistrationForm.rar\n</code></pre>\n</div>',100,'2015-01-21 02:21:00','2016-07-31 10:21:14',9,'http://www.cnblogs.com/lvyahui/p/4238153.html',4238153),(480,'jQuery幻灯片skitter-slider插件学习总结','@(关键词)[skitter|jquery|网页幻灯片|slider]\n\nSkitter 是一个非常酷炫的jQuery网页幻灯片插件，支持非常多种酷炫幻灯片切换方式，下载前往','<div id=\"cnblogs_post_body\" class=\"cnblogs-markdown\"><p>@(关键词)[skitter|jquery|网页幻灯片|slider]</p>\n<blockquote>\n<p>Skitter 是一个非常酷炫的jQuery网页幻灯片插件，支持非常多种酷炫幻灯片切换方式，下载前往<a href=\"http://www.skitter-slider.net/\">官网</a>,另有<a href=\"http://www.skitter-slider.net/documentation\">参考文档</a></p>\n</blockquote>\n<p><strong>下面简单介绍它的几个属性</strong></p>\n<ul><li>mouseOverButton: 类型为function，表示鼠标移到控制按钮上做的事情</li>\n<li>mouseOutButton: 类型为function，表示鼠标从控制按钮移开要做的事情</li>\n<li>numbers:类型为bool型，表示是否显示数字编号列表，如果你有3张图片，则会出现”1 2 3“这样的字样</li>\n<li>animation: 类型为字符串，表示动画类型，这个有很多，可以去看参考文档，默认为空或者a标签的class值，我一般设置为\'random\',表示随机</li>\n<li>thumb_width: 碎片宽度，像素值</li>\n<li>thumb_height: 碎片高度，像素值，这两个值越小，动画越细碎</li>\n<li>interval:切换速度，时间毫秒值</li>\n<li>navigation:bool型，表示是否显示prev，next按钮</li>\n<li>structure:结构代码（html代码），这个插件会将你的ul li img代码隐藏，用结构代码来构造显示</li>\n</ul><p><strong>下面是我写的一个示例demo</strong><br/>\nhtml代码+javascript代码，注意需要引入<code>jquery-2.1.1.min.js</code>,<code>jquery.easing.1.3.js</code>,<code>js/jquery.skitter.min.js</code>文件</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\"><span class=\"kw\">&lt;div</span><span class=\"ot\"> id=</span><span class=\"st\">\"wapper\"</span><span class=\"kw\">&gt;</span>\n    <span class=\"kw\">&lt;div</span><span class=\"ot\"> id=</span><span class=\"st\">\"slideshow\"</span><span class=\"ot\"> class=</span><span class=\"st\">\"box_skitter fn-clear\"</span><span class=\"kw\">&gt;</span>\n        <span class=\"kw\">&lt;ul&gt;</span>\n            <span class=\"kw\">&lt;li&gt;&lt;img</span><span class=\"ot\"> alt=</span><span class=\"st\">\"\"</span><span class=\"ot\"> class=</span><span class=\"st\">\"cubeRandom\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"images/slider01.jpg\"</span><span class=\"kw\">&gt;&lt;/li&gt;</span>                          \n            <span class=\"kw\">&lt;li&gt;&lt;img</span><span class=\"ot\"> alt=</span><span class=\"st\">\"\"</span><span class=\"ot\"> class=</span><span class=\"st\">\"cubeRandom\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"images/slider02.jpg\"</span><span class=\"kw\">&gt;</span>/li&gt;                           \n            <span class=\"kw\">&lt;li&gt;&lt;img</span><span class=\"ot\"> alt=</span><span class=\"st\">\"\"</span><span class=\"ot\"> class=</span><span class=\"st\">\"cubeRandom\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"images/slider03.jpg\"</span><span class=\"kw\">&gt;&lt;/li&gt;</span>                          \n        <span class=\"kw\">&lt;/ul&gt;</span>\n    <span class=\"kw\">&lt;/div&gt;</span>\n    <span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> language=</span><span class=\"st\">\"javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"js/jquery-2.1.1.min.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span>\n<span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> language=</span><span class=\"st\">\"javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"js/jquery.easing.1.3.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span>\n    <span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> language=</span><span class=\"st\">\"javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"js/jquery.skitter.min.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span>   \n    <span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"kw\">&gt;</span>\n               <span class=\"at\">$</span>(document).<span class=\"at\">ready</span>(<span class=\"kw\">function</span>() <span class=\"op\">{</span>\n                    <span class=\"at\">$</span>(<span class=\"st\">\'.box_skitter\'</span>).<span class=\"at\">skitter</span>(<span class=\"op\">{</span>\n                        <span class=\"dt\">mouseOverButton</span><span class=\"op\">:</span>        <span class=\"kw\">function</span>() <span class=\"op\">{</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">stop</span>().<span class=\"at\">animate</span>(<span class=\"op\">{</span><span class=\"dt\">opacity</span><span class=\"op\">:</span><span class=\"fl\">0.5</span><span class=\"op\">},</span> <span class=\"dv\">200</span>)<span class=\"op\">;</span> <span class=\"op\">},</span>\n                        <span class=\"dt\">mouseOutButton</span><span class=\"op\">:</span>         <span class=\"kw\">function</span>() <span class=\"op\">{</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">stop</span>().<span class=\"at\">animate</span>(<span class=\"op\">{</span><span class=\"dt\">opacity</span><span class=\"op\">:</span><span class=\"dv\">1</span><span class=\"op\">},</span> <span class=\"dv\">200</span>)<span class=\"op\">;</span> <span class=\"op\">},</span>\n                        <span class=\"dt\">numbers</span><span class=\"op\">:</span><span class=\"kw\">false</span><span class=\"op\">,</span>\n                        <span class=\"dt\">animation</span><span class=\"op\">:</span> <span class=\"st\">\'random\'</span><span class=\"op\">,</span>\n            <span class=\"dt\">thumb_width</span><span class=\"op\">:</span> <span class=\"st\">\'70px\'</span><span class=\"op\">,</span> <span class=\"dt\">thumb_height</span><span class=\"op\">:</span> <span class=\"st\">\'40px\'</span><span class=\"op\">,</span>\n            <span class=\"dt\">interval</span><span class=\"op\">:</span><span class=\"dv\">1000</span><span class=\"op\">,</span>\n            <span class=\"dt\">navigation</span><span class=\"op\">:</span><span class=\"kw\">true</span>\n                    <span class=\"op\">}</span>)<span class=\"op\">;</span>\n                <span class=\"op\">}</span>)<span class=\"op\">;</span>\n    <span class=\"op\">&lt;</span><span class=\"ss\">/script&gt;</span>\n<span class=\"ss\">&lt;/div</span><span class=\"op\">&gt;</span></code></pre></div>\n<p>下面还要结合css代码，否则做不出效果来，一会在页面看到它把所有的碎图片输出到了页面</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode css\"><code class=\"sourceCode css\"><span class=\"dv\">@charset</span> <span class=\"st\">\"utf-8\"</span>;\n<span class=\"co\">/* CSS Document */</span>\n<span class=\"fl\">#wapper</span><span class=\"kw\">{</span>\n    <span class=\"kw\">width:</span><span class=\"dt\">75.66999474513925%</span><span class=\"kw\">;</span>\n    <span class=\"kw\">height:</span><span class=\"dt\">504px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">overflow:</span><span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">position:</span><span class=\"dt\">relative</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">#slideshow</span> <span class=\"kw\">{</span>\n    <span class=\"kw\">zoom:</span> <span class=\"dt\">1</span><span class=\"kw\">;</span>\n    <span class=\"kw\">left:</span> <span class=\"dt\">50%</span><span class=\"kw\">;</span>\n    <span class=\"kw\">width:</span> <span class=\"dt\">1440px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">height:</span> <span class=\"dt\">504px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">overflow:</span> <span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">margin-left:</span> <span class=\"dt\">-720px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">absolute</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">.prev_button</span> <span class=\"kw\">{</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">absolute</span><span class=\"kw\">;</span>\n    <span class=\"kw\">top:</span> <span class=\"dt\">50%</span><span class=\"kw\">;</span>\n    <span class=\"kw\">left:</span> <span class=\"dt\">35px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">width:</span> <span class=\"dt\">57px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">height:</span> <span class=\"dt\">62px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">margin-top:</span> <span class=\"dt\">-31px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">overflow:</span> <span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">background:</span> <span class=\"dt\">url(..</span>/images/prev<span class=\"dt\">.</span>png<span class=\"dt\">)</span> <span class=\"dt\">no-repeat</span> <span class=\"dt\">left</span> <span class=\"dt\">top</span><span class=\"kw\">!important;</span>\n    <span class=\"kw\">z-index:</span> <span class=\"dt\">999</span><span class=\"kw\">;</span>\n    <span class=\"kw\">text-indent:</span> <span class=\"dt\">-9999em</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">.next_button</span> <span class=\"kw\">{</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">absolute</span><span class=\"kw\">;</span>\n    <span class=\"kw\">top:</span> <span class=\"dt\">50%</span><span class=\"kw\">;</span>\n    <span class=\"kw\">right:</span> <span class=\"dt\">35px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">width:</span> <span class=\"dt\">57px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">height:</span> <span class=\"dt\">62px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">margin-top:</span> <span class=\"dt\">-31px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">overflow:</span> <span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">z-index:</span> <span class=\"dt\">999</span><span class=\"kw\">;</span>\n    <span class=\"kw\">text-indent:</span> <span class=\"dt\">-9999em</span><span class=\"kw\">;</span>\n    <span class=\"kw\">background:</span> <span class=\"dt\">url(..</span>/images/next<span class=\"dt\">.</span>png<span class=\"dt\">)</span> <span class=\"dt\">no-repeat</span> <span class=\"dt\">left</span> <span class=\"dt\">top</span><span class=\"kw\">!important;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">.container_skitter</span> <span class=\"kw\">{</span>\n    <span class=\"kw\">overflow:</span> <span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">relative</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">.image</span> <span class=\"kw\">{</span>\n    <span class=\"kw\">overflow:</span> <span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">relative</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">.box_clone</span> <span class=\"kw\">{</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">absolute</span><span class=\"kw\">;</span>\n    <span class=\"kw\">top:</span> <span class=\"dt\">0</span><span class=\"kw\">;</span>\n    <span class=\"kw\">left:</span> <span class=\"dt\">0</span><span class=\"kw\">;</span>\n    <span class=\"kw\">width:</span> <span class=\"dt\">100px</span><span class=\"kw\">;</span>\n    <span class=\"kw\">overflow:</span> <span class=\"dt\">hidden</span><span class=\"kw\">;</span>\n    <span class=\"kw\">display:</span> <span class=\"dt\">none</span><span class=\"kw\">;</span>\n    <span class=\"kw\">z-index:</span> <span class=\"dt\">20</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span>\n\n<span class=\"fl\">.box_clone</span> img <span class=\"kw\">{</span>\n    <span class=\"kw\">position:</span> <span class=\"dt\">absolute</span><span class=\"kw\">;</span>\n    <span class=\"kw\">top:</span> <span class=\"dt\">0</span><span class=\"kw\">;</span>\n    <span class=\"kw\">left:</span> <span class=\"dt\">0</span><span class=\"kw\">;</span>\n    <span class=\"kw\">z-index:</span> <span class=\"dt\">20</span><span class=\"kw\">;</span>\n<span class=\"kw\">}</span></code></pre></div>\n<p>有兴趣学学的可以<a href=\"http://files.cnblogs.com/lvyahui/skitter.zip\">下载代码</a></p>\n</div>',99,'2015-01-21 19:09:00','2016-07-31 10:21:15',9,'http://www.cnblogs.com/lvyahui/p/4241735.html',4241735),(481,'JQuery zoom插件学习','\njquery zoom是一款图片放大插件，经常用在商城商品页面里。\n\n使用JQuery zoom插件，除了需要引入JQuery.js外，还要引入JQuery.zoom.js','<div id=\"cnblogs_post_body\" class=\"cnblogs-markdown\"><blockquote>\n<p>jquery zoom是一款图片放大插件，经常用在商城商品页面里。</p>\n</blockquote>\n<p>使用JQuery zoom插件，除了需要引入<code>JQuery.js</code>外，还要引入<code>JQuery.zoom.js</code>文件及<code>jqzoom.css</code>文件</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\"><span class=\"kw\">&lt;link</span><span class=\"ot\"> rel=</span><span class=\"st\">\"stylesheet\"</span><span class=\"ot\"> href=</span><span class=\"st\">\"css/jqzoom.css\"</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/css\"</span><span class=\"ot\"> media=</span><span class=\"st\">\"screen\"</span><span class=\"kw\">&gt;</span>\n<span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> language=</span><span class=\"st\">\"javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"js/jquery-2.1.1.min.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span>\n<span class=\"kw\">&lt;script</span><span class=\"ot\"> type=</span><span class=\"st\">\"text/javascript\"</span><span class=\"ot\"> src=</span><span class=\"st\">\"js/jquery.jqzoom.min.js\"</span><span class=\"kw\">&gt;&lt;/script&gt;</span></code></pre></div>\n<p>下面是要操作的图片节点</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode html\"><code class=\"sourceCode html\"><span class=\"kw\">&lt;div</span><span class=\"ot\"> class=</span><span class=\"st\">\"jqzoom\"</span><span class=\"kw\">&gt;&lt;img</span><span class=\"ot\"> src=</span><span class=\"st\">\"images/shoe4_small.jpg\"</span><span class=\"ot\">  alt=</span><span class=\"st\">\"shoe\"</span><span class=\"ot\">  jqimg=</span><span class=\"st\">\"images/shoe4_big.jpg\"</span><span class=\"kw\">&gt;&lt;/div&gt;</span></code></pre></div>\n<p>最后加上初始化的js代码，不出意外就成了</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode javascript\"><code class=\"sourceCode javascript\"><span class=\"at\">$</span>(document).<span class=\"at\">ready</span>(<span class=\"kw\">function</span>()<span class=\"op\">{</span>\n    <span class=\"at\">$</span>(<span class=\"st\">\".jqzoom\"</span>).<span class=\"at\">jqueryzoom</span>()<span class=\"op\">;</span>\n<span class=\"op\">}</span>)<span class=\"op\">;</span></code></pre></div>\n<p>但事情总不会这么顺利，这个问题害我忙活了半天，搞的我还以为<code>jquery.zoom.js</code>文件有错呢，结果把整个js文件研究了一遍，好在代码不多，用chrome调试运行一遍还是能看的懂得。</p>\n<p>问题是这样的，当放大镜放大图片时，应该在原来的图像旁边创建一个div显示，可到我这里，这个div却偏离了原图几百个像素，图片在左上角，放大后却跑到了右下角，也就是这个div的left和top偏了几百个像素。所以我就把代码研究了一遍，最后发现没有问题，而且我也大概知道了问题的原因，下面的图是我根据代码的意思画的图<br/><img src=\"http://images.cnitblog.com/blog/635249/201501/281511248785958.png\"/><br/>\n这个是<code>jquery.zoom.js</code>里面用来为这个div定位的代码</p>\n<div class=\"sourceCode\"><pre class=\"sourceCode javascript\"><code class=\"sourceCode javascript\">\n\n\n<span class=\"kw\">var</span> imageLeft <span class=\"op\">=</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">offset</span>().<span class=\"at\">left</span><span class=\"op\">;</span>\n<span class=\"kw\">var</span> imageTop <span class=\"op\">=</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">offset</span>().<span class=\"at\">top</span><span class=\"op\">;</span>\n<span class=\"va\">console</span>.<span class=\"at\">log</span>(<span class=\"st\">\"imageLeft:\"</span><span class=\"op\">+</span>imageLeft<span class=\"op\">+</span><span class=\"st\">\",imageTop:\"</span><span class=\"op\">+</span>imageTop)<span class=\"op\">;</span>\n\n<span class=\"kw\">var</span> imageWidth <span class=\"op\">=</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">children</span>(<span class=\"st\">\'img\'</span>).<span class=\"at\">get</span>(<span class=\"dv\">0</span>).<span class=\"at\">offsetWidth</span><span class=\"op\">;</span>\n<span class=\"kw\">var</span> imageHeight <span class=\"op\">=</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">children</span>(<span class=\"st\">\'img\'</span>).<span class=\"at\">get</span>(<span class=\"dv\">0</span>).<span class=\"at\">offsetHeight</span><span class=\"op\">;</span>\n\n\n\nnoalt <span class=\"op\">=</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">children</span>(<span class=\"st\">\"img\"</span>).<span class=\"at\">attr</span>(<span class=\"st\">\"alt\"</span>)<span class=\"op\">;</span>\n\n<span class=\"kw\">var</span> bigimage <span class=\"op\">=</span> <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">children</span>(<span class=\"st\">\"img\"</span>).<span class=\"at\">attr</span>(<span class=\"st\">\"jqimg\"</span>)<span class=\"op\">;</span>\n\n<span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">children</span>(<span class=\"st\">\"img\"</span>).<span class=\"at\">attr</span>(<span class=\"st\">\"alt\"</span><span class=\"op\">,</span> <span class=\"st\">\'\'</span>)<span class=\"op\">;</span>\n\n<span class=\"cf\">if</span> (<span class=\"at\">$</span>(<span class=\"st\">\"div.zoomdiv\"</span>).<span class=\"at\">get</span>().<span class=\"at\">length</span> <span class=\"op\">==</span> <span class=\"dv\">0</span>) <span class=\"op\">{</span>\n\n    <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">after</span>(<span class=\"st\">\"&lt;div class=\'zoomdiv\'&gt;&lt;img class=\'bigimg\' src=\'\"</span> <span class=\"op\">+</span> bigimage <span class=\"op\">+</span> <span class=\"st\">\"\'/&gt;&lt;/div&gt;\"</span>)<span class=\"op\">;</span>\n\n\n    <span class=\"at\">$</span>(<span class=\"kw\">this</span>).<span class=\"at\">append</span>(<span class=\"st\">\"&lt;div class=\'jqZoomPup\'&gt;&amp;nbsp;&lt;/div&gt;\"</span>)<span class=\"op\">;</span>\n\n<span class=\"op\">}</span>\n\n\n<span class=\"cf\">if</span> (<span class=\"va\">settings</span>.<span class=\"at\">position</span> <span class=\"op\">==</span> <span class=\"st\">\"right\"</span>) <span class=\"op\">{</span>\n    <span class=\"cf\">if</span> (imageLeft <span class=\"op\">+</span> imageWidth <span class=\"op\">+</span> <span class=\"va\">settings</span>.<span class=\"at\">offset</span> <span class=\"op\">+</span> <span class=\"va\">settings</span>.<span class=\"at\">xzoom</span> <span class=\"op\">&gt;</span> <span class=\"va\">screen</span>.<span class=\"at\">width</span>) <span class=\"op\">{</span>\n\n        leftpos <span class=\"op\">=</span> imageLeft <span class=\"op\">-</span> <span class=\"va\">settings</span>.<span class=\"at\">offset</span> <span class=\"op\">-</span> <span class=\"va\">settings</span>.<span class=\"at\">xzoom</span><span class=\"op\">;</span>\n\n    <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"op\">{</span>\n\n        leftpos <span class=\"op\">=</span> imageLeft <span class=\"op\">+</span> imageWidth <span class=\"op\">+</span> <span class=\"va\">settings</span>.<span class=\"at\">offset</span><span class=\"op\">;</span> <span class=\"co\">//452 = </span>\n    <span class=\"op\">}</span>\n<span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"op\">{</span>\n    leftpos <span class=\"op\">=</span> imageLeft <span class=\"op\">-</span> <span class=\"va\">settings</span>.<span class=\"at\">xzoom</span> <span class=\"op\">-</span> <span class=\"va\">settings</span>.<span class=\"at\">offset</span><span class=\"op\">;</span>\n    <span class=\"cf\">if</span> (leftpos <span class=\"op\">&lt;</span> <span class=\"dv\">0</span>) <span class=\"op\">{</span>\n\n        leftpos <span class=\"op\">=</span> imageLeft <span class=\"op\">+</span> imageWidth <span class=\"op\">+</span> <span class=\"va\">settings</span>.<span class=\"at\">offset</span><span class=\"op\">;</span>\n\n    <span class=\"op\">}</span>\n\n<span class=\"op\">}</span>\n\n<span class=\"at\">$</span>(<span class=\"st\">\"div.zoomdiv\"</span>).<span class=\"at\">css</span>(<span class=\"op\">{</span>\n    <span class=\"dt\">top</span><span class=\"op\">:</span> imageTop<span class=\"op\">,</span>\n    <span class=\"dt\">left</span><span class=\"op\">:</span> leftpos\n<span class=\"op\">}</span>)<span class=\"op\">;</span></code></pre></div>\n<p>我想对前端比较熟悉的应该知道问题出在哪里了，没错，<code>*这个div定位应该相对浏览器才行，而我这里却是相对于父节点*</code>。那接下来就简单多了，原来，在我这个div的祖先节点存在多个position:relative，要知道对于position：absolute；的节点，父元素如果出现relative，则是相对于父元素进行定位，否则才是相对于浏览器原点。所以为只要将这些relative去掉，或者覆盖掉，就没有问题了</p>\n</div>',162,'2015-01-27 19:20:00','2016-07-31 10:21:16',9,'http://www.cnblogs.com/lvyahui/p/4255962.html',4255962),(482,'dedecms模版制作活动的折叠菜单','&#13;\n需要做成这种样式&#13;\nurl请求为这样：&#13;\n&#13;','<div id=\"cnblogs_post_body\"><p><img src=\"http://images.cnitblog.com/blog/635249/201501/291355154727931.gif\" alt=\"\"/></p>&#13;\n<p>需要做成这种样式</p>&#13;\n<p>url请求为这样：</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> http://m03.com/plus/list.php?tid=19</pre>&#13;\n</div>&#13;\n<p>这些菜单项都有对应的tid项，页面刷新后，应该将所有的菜单折叠起来，对于tid=19的菜单项，要判断他是否是子菜单，如果是子菜单，应该讲它所在的整个菜单项打开并将它自身加上active样式，否则不用打开整个菜单，直接加active样式。并且如果当前菜单下没有子菜单，应该讲菜单项前的按钮去除。</p>&#13;\n<p>这里准备了两张图片</p>&#13;\n<p>right_g.png和bottom_g.png</p>&#13;\n<h5>首先结合dedecms模板代码生成折叠菜单</h5>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">ul </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"flod_menu\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #000000;\">    {dede:channelartlist row=5 typeid=10} &#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li </span><span style=\"color: #ff0000;\">{dede:field name</span><span style=\"color: #0000ff;\">=\'typeid\' </span><span style=\"color: #ff0000;\">runphp</span><span style=\"color: #0000ff;\">=\"yes\"</span><span style=\"color: #ff0000;\">}@me </span><span style=\"color: #0000ff;\">= (@me==$_GET[\'tid\'] </span><span style=\"color: #ff0000;\">&amp;&amp; @me!</span><span style=\"color: #0000ff;\">=10 </span><span style=\"color: #ff0000;\">? \'class</span><span style=\"color: #0000ff;\">=\"flod_menu_item active_top\"</span><span style=\"color: #ff0000;\">\' : \'class</span><span style=\"color: #0000ff;\">=\"flod_menu_item\"</span><span style=\"color: #ff0000;\">\');{/dede:field}</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 4</span>         <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">img </span><span style=\"color: #ff0000;\">src</span><span style=\"color: #0000ff;\">=\"{dede:global.cfg_templets_skin/}/images/arrow/right_g.png\"</span><span style=\"color: #ff0000;\"> class</span><span style=\"color: #0000ff;\">=\"btn\"</span><span style=\"color: #0000ff;\">/&gt;</span>&#13;\n<span style=\"color: #008080;\"> 5</span>         <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">a </span><span style=\"color: #ff0000;\">href</span><span style=\"color: #0000ff;\">=\"{dede:field name=\'typeurl\'/}\"</span><span style=\"color: #0000ff;\">&gt;</span>{dede:field name=\'typename\'/}<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">a</span><span style=\"color: #0000ff;\">&gt;&lt;/</span><span style=\"color: #800000;\">span</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 6</span>         <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">ul </span><span style=\"color: #ff0000;\">class</span><span style=\"color: #0000ff;\">=\"flod_menu_sub\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">            {dede:sql sql=\'Select * from dede_arctype where reid=~id~  ORDER BY id limit 0,7\'}&#13;\n</span><span style=\"color: #008080;\"> 8</span>             <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">li  </span><span style=\"color: #ff0000;\">[field:id runphp</span><span style=\"color: #0000ff;\">=\"yes\"</span><span style=\"color: #ff0000;\">]@me </span><span style=\"color: #0000ff;\">= (@me==$_GET[\'tid\'] </span><span style=\"color: #ff0000;\">&amp;&amp; @me!</span><span style=\"color: #0000ff;\">=10 </span><span style=\"color: #ff0000;\">? \'class</span><span style=\"color: #0000ff;\">=\"flod_menu_item_sub active\"</span><span style=\"color: #ff0000;\">\' : \'class</span><span style=\"color: #0000ff;\">=\"flod_menu_item_sub\"</span><span style=\"color: #ff0000;\">\');[/field:id]</span><span style=\"color: #0000ff;\">&gt;&lt;</span><span style=\"color: #800000;\">a </span><span style=\"color: #ff0000;\">href</span><span style=\"color: #0000ff;\">=\'[field:typedir </span><span style=\"color: #ff0000;\">function</span><span style=\"color: #0000ff;\">=\'str_replace(\"{cmspath}\",\"\",@me)\'/]\' </span><span style=\"color: #ff0000;\">target</span><span style=\"color: #0000ff;\">=\'_blank\'</span><span style=\"color: #0000ff;\">&gt;</span>[field:typename/]<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">a</span><span style=\"color: #0000ff;\">&gt;&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">            {/dede:sql}&#13;\n</span><span style=\"color: #008080;\">10</span>         <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">li</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">    {/dede:channelartlist}&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">ul</span><span style=\"color: #0000ff;\">&gt;</span></pre>&#13;\n</div>&#13;\n<p>这里有些知识，比如如何在dedecms模板中生成三级菜单，以及如何获取url中的请求参数（$_GET[\'XXX\']）。</p>&#13;\n<h5>然后再通过JavaScript代码折叠或打开菜单，去除多余的按钮</h5>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">对于没有下级菜单的，将按钮隐藏</span>&#13;\n<span style=\"color: #008080;\"> 2</span> $(\".flod_menu .flod_menu_item &gt; .btn\").each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(index,element){&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">var</span> hasLi = $(<span style=\"color: #0000ff;\">this</span>).nextAll(\".flod_menu_sub\").children().is(\"li\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #000000;\">hasLi){&#13;\n</span><span style=\"color: #008080;\"> 5</span>         $(<span style=\"color: #0000ff;\">this</span>).css(\"display\",\"none\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">找到当前活动的节点</span>&#13;\n<span style=\"color: #008080;\"> 9</span> $(\".flod_menu_sub\").each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(index,element){&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">var</span> isActive = $(<span style=\"color: #0000ff;\">this</span>).children(\".active\").is(\"li\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(isActive){&#13;\n</span><span style=\"color: #008080;\">12</span>         $(<span style=\"color: #0000ff;\">this</span>).css(\"display\",\"block\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">为按钮绑定单击事件</span>&#13;\n<span style=\"color: #008080;\">16</span> $(\".flod_menu .flod_menu_item &gt; .btn\").click(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){        &#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">var</span> cSrc = $(<span style=\"color: #0000ff;\">this</span>).attr(\"src\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">18</span> &#13;\n<span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">if</span>(cSrc.indexOf(\"right\")&gt;=0<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">20</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">处于折叠状态,进行打开</span>&#13;\n<span style=\"color: #008080;\">21</span>         $(<span style=\"color: #0000ff;\">this</span>).attr(\"src\",cSrc.replace(\"right\",\"bottom\"<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">22</span>         $(<span style=\"color: #0000ff;\">this</span>).nextAll(\".flod_menu_sub\").css(\"display\",\"block\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">24</span>     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">25</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">处于打开状态,进行折叠</span>&#13;\n<span style=\"color: #008080;\">26</span>         $(<span style=\"color: #0000ff;\">this</span>).attr(\"src\",cSrc.replace(\"bottom\",\"right\"<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">27</span>         $(<span style=\"color: #0000ff;\">this</span>).nextAll(\".flod_menu_sub\").css(\"display\",\"none\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span> });</pre>&#13;\n</div>&#13;\n<p> </p></div>',101,'2015-01-28 18:09:00','2016-07-31 10:21:17',9,'http://www.cnblogs.com/lvyahui/p/4259714.html',4259714),(483,'为我的博客园做一个多彩tag','在一些网站上看到多彩tag，觉得很好看，就像着给自己的博客做一个，做之前是这样的&#13;\n&#13;\n单一且枯燥，先来看看这里的结构代码','<div id=\"cnblogs_post_body\"><p>在一些网站上看到多彩tag，觉得很好看，就像着给自己的博客做一个，做之前是这样的</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201502/192339411118703.png\" alt=\"\"/></p>&#13;\n<p>单一且枯燥，先来看看这里的结构代码</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201502/192343295026160.png\" alt=\"\"/></p>&#13;\n<p>于是，为了做出多彩字，我在博客的自定义js里添加了这样的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> $(\".catListTag a\").each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(index,element){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">color</span>&#13;\n<span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">var</span> color = \"\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">var</span> i = 0;i&lt;3;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 5</span>         <span style=\"color: #0000ff;\">var</span> d = Math.floor(Math.random() * 255<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 6</span>         <span style=\"color: #0000ff;\">var</span> h = Number(d).toString(16<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 7</span>         <span style=\"color: #0000ff;\">if</span>(h.length&lt;2<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 8</span>             h = \"0\" +<span style=\"color: #000000;\"> h;&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">10</span>         color +=<span style=\"color: #000000;\"> h;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">12</span>     color = \"#\" +<span style=\"color: #000000;\"> color;&#13;\n</span><span style=\"color: #008080;\">13</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">console.log(color);</span>&#13;\n<span style=\"color: #008080;\">14</span>     $(<span style=\"color: #0000ff;\">this</span>).css(\"color\"<span style=\"color: #000000;\">,color);&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">size</span>&#13;\n<span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">var</span> s = Math.floor(Math.random()*5+12<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">var</span> size = s + \"px\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">18</span>     $(<span style=\"color: #0000ff;\">this</span>).css(\"font-size\"<span style=\"color: #000000;\">,size);&#13;\n</span><span style=\"color: #008080;\">19</span> });</pre>&#13;\n</div>&#13;\n<p>很不幸，没有成功，经过调试发现，选择器$(\".catListTag a\")根本没有查找到元素，这是怎么回事呢?通过翻看博客园的部分源代码找到了原因</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201502/192349280174666.png\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201502/192351041272637.png\" alt=\"\"/></p>&#13;\n<p>没错，就像你看到的这样，这一块<span style=\"color: #ff0000;\">节点是在ajax请求完成之后通过js动态添加上去的，而我的自定义js代码，绝对要在ajax请求完成之前就执行完了，当然就查找不到任何匹配的元素</span>，怎么办呢？</p>&#13;\n<p>这个问题困扰了我很久，博客园的代码我是不可能改的，不然在后面稍微加点代码就OK了，可事实是不能改。最后，得高人指点（QQ群里的不好留名），想到<span style=\"color: #ff0000;\">可以覆写回调方法，但这里回调方法是匿名方法，所以不能直接覆写回调方法，只有间接的覆写loadBlogSideBlocks方法</span>，于是我讲原来的loadBlogSideBlocks的代码拷贝出来写在自定义的js里，方法结束前加上自己的代码，终于成功了</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> loadBlogSideBlocks() {&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">var</span> n =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\"> 3</span>     document.getElementById(\"RecentCommentsBlock\") &amp;&amp; n.push(\"ShowRecentComment\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 4</span>     document.getElementById(\"TopViewPostsBlock\") &amp;&amp; n.push(\"ShowTopViewPosts\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 5</span>     document.getElementById(\"TopFeedbackPostsBlock\") &amp;&amp; n.push(\"ShowTopFeedbackPosts\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 6</span>     document.getElementById(\"TopDiggPostsBlock\") &amp;&amp; n.push(\"ShowTopDiggPosts\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 7</span>     $.ajax({url: \"/mvc/Blog/GetBlogSideBlocks.aspx\",data: {blogApp: currentBlogApp,showFlag: n.join(\",\")},type: \"get\",dataType: \"json\",success: <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(n) {&#13;\n</span><span style=\"color: #008080;\"> 8</span>             n &amp;&amp; (n.RecentComments ? $(\"#RecentCommentsBlock\").html(n.RecentComments) : $(\"#recent_comments_wrap\").hide(), n.TopViewPosts ? $(\"#TopViewPostsBlock\").html(n.TopViewPosts) : $(\"#topview_posts_wrap\").hide(), n.TopFeedbackPosts ? $(\"#TopFeedbackPostsBlock\").html(n.TopFeedbackPosts) : $(\"#topfeedback_posts_wrap\").hide(), n.TopDiggPosts ? $(\"#TopDiggPostsBlock\").html(n.TopDiggPosts) : $(\"#topdigg_posts_wrap\"<span style=\"color: #000000;\">).hide())&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">        }})&#13;\n</span><span style=\"color: #008080;\">10</span>         &#13;\n<span style=\"color: #008080;\">11</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">my code</span>&#13;\n<span style=\"color: #008080;\">12</span>         &#13;\n<span style=\"color: #008080;\">13</span>         $(\".catListTag a\").each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(index,element){&#13;\n</span><span style=\"color: #008080;\">14</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">color</span>&#13;\n<span style=\"color: #008080;\">15</span>             <span style=\"color: #0000ff;\">var</span> color = \"\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span>             <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">var</span> i = 0;i&lt;3;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">17</span>                 <span style=\"color: #0000ff;\">var</span> d = Math.floor(Math.random() * 255<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">18</span>                 <span style=\"color: #0000ff;\">var</span> h = Number(d).toString(16<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">19</span>                 <span style=\"color: #0000ff;\">if</span>(h.length&lt;2<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">20</span>                     h = \"0\" +<span style=\"color: #000000;\"> h;&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">22</span>                 color +=<span style=\"color: #000000;\"> h;&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">24</span>             color = \"#\" +<span style=\"color: #000000;\"> color;&#13;\n</span><span style=\"color: #008080;\">25</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">console.log(color);</span>&#13;\n<span style=\"color: #008080;\">26</span>             $(<span style=\"color: #0000ff;\">this</span>).css(\"color\"<span style=\"color: #000000;\">,color);&#13;\n</span><span style=\"color: #008080;\">27</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">size</span>&#13;\n<span style=\"color: #008080;\">28</span>             <span style=\"color: #0000ff;\">var</span> s = Math.floor(Math.random()*5+12<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">29</span>             <span style=\"color: #0000ff;\">var</span> size = s + \"px\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">30</span>             $(<span style=\"color: #0000ff;\">this</span>).css(\"font-size\"<span style=\"color: #000000;\">,size);&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\">32</span> }</pre>&#13;\n</div>&#13;\n<p>最后效果</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog/635249/201502/192359075333122.png\" alt=\"\"/></p>&#13;\n<p> </p></div>',790,'2015-02-20 04:02:00','2016-07-31 10:21:22',9,'http://www.cnblogs.com/lvyahui/p/4296369.html',4296369),(484,'《JavaScript高级程序设计 第3版》-学习笔记-1','P1-P30页&#13;\n1、&lt;script&gt;标签的属性&#13;\nasync：async（html）  | async=\"async\"（xhtml），表示立即下载脚本，但不马上执行（执行没有了先后顺序），不会暂停构建文档。 &#13;\ndefer：defer（html）| defe','<div id=\"cnblogs_post_body\"><p>P1-P30页</p>&#13;\n<p>1、&lt;script&gt;标签的属性</p>&#13;\n<p>async：async（html）  | async=\"async\"（xhtml），表示立即下载脚本，但不马上执行（执行没有了先后顺序），不会暂停构建文档。 </p>&#13;\n<p>defer：defer（html）| defer（XHTML），表示立即下载脚本，但延迟到解析到&lt;/html&gt;标签才执行脚本。</p>&#13;\n<p> </p>&#13;\n<p>2、在xhtml中嵌入js代码加CDATA</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>&lt;script&gt;&#13;\n<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">&lt;![CDATA[</span>&#13;\n<span style=\"color: #000000;\">    ...code... &#13;\n    </span><span style=\"color: #0000ff;\">if</span>(a &lt;<span style=\"color: #000000;\"> b){&#13;\n        ...code... &#13;\n    }&#13;\n    ...code... &#13;\n</span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">]]</span>&#13;\n&lt;/script&gt;</pre>&#13;\n</div>&#13;\n<p>在xhtml中，a &lt; b这种小于号会被当做一个新的标签解析，但作为标签而言，&lt;后不能有空格，因此会有语法错误，所以为了解决这种问题，最好引入CDATA片段，但又有浏览器兼容XHTML，不支持CDATA，所以要将CDATA标记注释掉。</p>&#13;\n<p> </p>&#13;\n<p>3、使用“use strict”开启解析引擎的严格模式</p>&#13;\n<p> </p>&#13;\n<p>4、省略var操作符可定义全局变量，但最好不要这么做</p>&#13;\n<p> </p>&#13;\n<p>5、自动boolean类型转换</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">var</span> message = \"hello\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(message){&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #000000;\">    console.log(message);&#13;\n</span><span style=\"color: #008080;\">4</span> }</pre>&#13;\n</div>&#13;\n<p>这里的if(message) 等价于if(Boolean(message))</p>&#13;\n<p>6、IEE754数值浮点计算的通病，参见博客<a title=\"0.1+0.2!=0.3, why? how to solve? -- 简议javascript的浮点运算\" href=\"http://blog.csdn.net/xujiaxuliang/article/details/5939573\" target=\"_blank\"> 0.1+0.2!=0.3, why? how to solve? -- 简议javascript的浮点运算</a></p>&#13;\n<h1> </h1></div>',33,'2015-03-04 02:37:00','2016-07-31 10:21:26',9,'http://www.cnblogs.com/lvyahui/p/4314528.html',4314528),(485,'《JavaScript高级程序设计 第3版》-学习笔记-2','P31-P82页&#13;\n1、相等不相等与全等不全等&#13;\n相等不相等：先转换后比较。对于只有一个对象，调用valueOf方法得到基本类型值再按基本类型转换；如果两个都是对象，则比较他们是否是同一个对象（引用或指针值比较）；null与undefined是相等的，至少有一个为NaN则相等为false，不相','<div id=\"cnblogs_post_body\"><p>P31-P82页</p>&#13;\n<p>1、相等不相等与全等不全等</p>&#13;\n<p>相等不相等：先转换后比较。对于只有一个对象，调用valueOf方法得到基本类型值再按基本类型转换；如果两个都是对象，则比较他们是否是同一个对象（引用或指针值比较）；null与undefined是相等的，至少有一个为NaN则相等为false，不相等为true；</p>&#13;\n<p>全等不全等：只比较。只在两个操作数未经转换就相等的情况下返回true，特别的，null与undefined不全等，因为连类型都不同</p>&#13;\n<p>2、未指定返回值类型的函数返回的是一个特殊的值-undefined</p>&#13;\n<p>3、只能给引用类型动态的添加属性</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> obj = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Object();&#13;\n</span><span style=\"color: #008080;\">2</span> obj.name = \"lisimi\";<span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">动态添加name属性</span><span style=\"color: #008000;\">*/</span></pre>&#13;\n</div>&#13;\n<p>4、复制变量和传递参数都是值复制、值传递，对于基本数据类型，复制或传递是将值的副本放到新的变量里，对于引用数据类型，其实也是值传递，不过这个值比较特殊，是一个引用值（或者说指针），引用指向的对象并没有参与复制，也就是说最后两个引用变量指向同一个对象</p>&#13;\n<p>5、每个执行环境都有一个与之关联的变量对象，环境中定义的所有变量和函数都保存在这个对象中。执行环境有很多种，有全局环境、函数环境、with环境等等，这些环境的变量对象一起构成了作用域链。作用域越小，对应的变量对象在链上越靠前，作用域越大，变量对象在链上越靠后，全局执行环境的变量对象始终都是作用域链中最后一个对象</p>&#13;\n<p>6、没有块级作用域，不声明直接使用则被当做全局变量（最好不要这么写）。</p>&#13;\n<p>7、目前的JavaScript垃圾回收机制多采用标记清除的方式</p>&#13;\n<p> </p></div>',34,'2015-03-09 01:09:00','2016-07-31 10:21:30',9,'http://www.cnblogs.com/lvyahui/p/4324520.html',4324520),(486,'《JavaScript高级程序设计 第3版》-学习笔记-3','P84-P137页，&#13;\n这一章看的真久，这个月事太多了。有些内容在代码注释里没提出来了&#13;\n1、JS强大的数组类型，元素类型任意，提供了非常多的操作数组的方法和属性&#13;\n','<div id=\"cnblogs_post_body\"><p>P84-P137页，</p>&#13;\n<p>这一章看的真久，这个月事太多了。有些内容在代码注释里没提出来了</p>&#13;\n<p>1、JS强大的数组类型，元素类型任意，提供了非常多的操作数组的方法和属性</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'e136dadd-0d50-4257-885d-88499999bc19\')\"><img id=\"code_img_closed_e136dadd-0d50-4257-885d-88499999bc19\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_e136dadd-0d50-4257-885d-88499999bc19\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'e136dadd-0d50-4257-885d-88499999bc19\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_e136dadd-0d50-4257-885d-88499999bc19\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">  2</span> <span style=\"color: #008000;\">数组类型&#13;\n</span><span style=\"color: #008080;\">  3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">  4</span> &#13;\n<span style=\"color: #008080;\">  5</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">stack</span>&#13;\n<span style=\"color: #008080;\">  6</span> <span style=\"color: #0000ff;\">var</span> colors = [\'red\',\'blue\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">  7</span> colors.push(\'brown\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">  8</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\">  9</span> <span style=\"color: #000000;\">console.log(colors.length);&#13;\n</span><span style=\"color: #008080;\"> 10</span> <span style=\"color: #0000ff;\">var</span> item =<span style=\"color: #000000;\"> colors.pop();&#13;\n</span><span style=\"color: #008080;\"> 11</span> <span style=\"color: #000000;\">console.log(item);&#13;\n</span><span style=\"color: #008080;\"> 12</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\"> 13</span> &#13;\n<span style=\"color: #008080;\"> 14</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">队列</span>&#13;\n<span style=\"color: #008080;\"> 15</span> colors =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\"> 16</span> <span style=\"color: #0000ff;\">var</span> count = colors.push(\'red\',\'green\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 17</span> <span style=\"color: #000000;\">console.log(count);&#13;\n</span><span style=\"color: #008080;\"> 18</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\"> 19</span> count = colors.push(\'black\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 20</span> <span style=\"color: #000000;\">console.log(count);&#13;\n</span><span style=\"color: #008080;\"> 21</span> item =<span style=\"color: #000000;\"> colors.shift();&#13;\n</span><span style=\"color: #008080;\"> 22</span> <span style=\"color: #000000;\">console.log(item);&#13;\n</span><span style=\"color: #008080;\"> 23</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\"> 24</span> <span style=\"color: #000000;\">console.log(colors.length);&#13;\n</span><span style=\"color: #008080;\"> 25</span> &#13;\n<span style=\"color: #008080;\"> 26</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">pop 与 unshift搭配可以实现反向队列</span>&#13;\n<span style=\"color: #008080;\"> 27</span> &#13;\n<span style=\"color: #008080;\"> 28</span> &#13;\n<span style=\"color: #008080;\"> 29</span> &#13;\n<span style=\"color: #008080;\"> 30</span> &#13;\n<span style=\"color: #008080;\"> 31</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">重新排序</span>&#13;\n<span style=\"color: #008080;\"> 32</span> <span style=\"color: #0000ff;\">var</span> values = [1,2,3,4,5,6<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 33</span> <span style=\"color: #000000;\">values.reverse();&#13;\n</span><span style=\"color: #008080;\"> 34</span> <span style=\"color: #000000;\">console.log(values);&#13;\n</span><span style=\"color: #008080;\"> 35</span> &#13;\n<span style=\"color: #008080;\"> 36</span> values = [0,1,5,10,15<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 37</span> values.sort();<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">sort方法默认进行字符串比较，即调用toString方法比较结果</span>&#13;\n<span style=\"color: #008080;\"> 38</span> <span style=\"color: #000000;\">console.log(values);&#13;\n</span><span style=\"color: #008080;\"> 39</span> &#13;\n<span style=\"color: #008080;\"> 40</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">为了实现自定义排序，可以这样</span>&#13;\n<span style=\"color: #008080;\"> 41</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> comp(var1,var2){&#13;\n</span><span style=\"color: #008080;\"> 42</span>     <span style=\"color: #0000ff;\">return</span> var1 -<span style=\"color: #000000;\"> var2;&#13;\n</span><span style=\"color: #008080;\"> 43</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 44</span> &#13;\n<span style=\"color: #008080;\"> 45</span> <span style=\"color: #000000;\">values.sort(comp);&#13;\n</span><span style=\"color: #008080;\"> 46</span> <span style=\"color: #000000;\">console.log(values);&#13;\n</span><span style=\"color: #008080;\"> 47</span> &#13;\n<span style=\"color: #008080;\"> 48</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\"> 49</span> <span style=\"color: #008000;\">数组操作方法&#13;\n</span><span style=\"color: #008080;\"> 50</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 51</span> &#13;\n<span style=\"color: #008080;\"> 52</span> &#13;\n<span style=\"color: #008080;\"> 53</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">数组复制合并</span>&#13;\n<span style=\"color: #008080;\"> 54</span> <span style=\"color: #0000ff;\">var</span> colors1 = [\'red\',\'green\',\'blue\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 55</span> <span style=\"color: #0000ff;\">var</span> colors2 = colors1.concat(\'yellow\',[\'black\',\'brown\'<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\"> 56</span> <span style=\"color: #000000;\">console.log(colors1);&#13;\n</span><span style=\"color: #008080;\"> 57</span> <span style=\"color: #000000;\">console.log(colors2);&#13;\n</span><span style=\"color: #008080;\"> 58</span> &#13;\n<span style=\"color: #008080;\"> 59</span> &#13;\n<span style=\"color: #008080;\"> 60</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">slice方法，这个方法的操作不会影响原来的数组</span>&#13;\n<span style=\"color: #008080;\"> 61</span> colors = [\'red\',\'green\',\'blue\',\'yellow\',\'purple\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 62</span> colors2 = colors.slice(1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 63</span> <span style=\"color: #0000ff;\">var</span> colors3 = colors.slice(1,4<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 64</span> <span style=\"color: #000000;\">console.log(colors2);&#13;\n</span><span style=\"color: #008080;\"> 65</span> <span style=\"color: #000000;\">console.log(colors3);&#13;\n</span><span style=\"color: #008080;\"> 66</span> &#13;\n<span style=\"color: #008080;\"> 67</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">splice方法，最强的数组操作方法</span>&#13;\n<span style=\"color: #008080;\"> 68</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">删除</span>&#13;\n<span style=\"color: #008080;\"> 69</span> colors.splice(0,2);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">要删除的第一项的位置和要删除的项数</span>&#13;\n<span style=\"color: #008080;\"> 70</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\"> 71</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">插入</span>&#13;\n<span style=\"color: #008080;\"> 72</span> colors.splice(2,0,\'red\',\'green\');<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">起始位置、0（要删除的项）和要插入的项-‘red’，‘green’</span>&#13;\n<span style=\"color: #008080;\"> 73</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\"> 74</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">替换</span>&#13;\n<span style=\"color: #008080;\"> 75</span> colors.splice(2,1,\'white\');<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">起始位置，删除项数，插入项</span>&#13;\n<span style=\"color: #008080;\"> 76</span> <span style=\"color: #000000;\">console.log(colors);&#13;\n</span><span style=\"color: #008080;\"> 77</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">这个方法的返回值是被删除的数组，如果没有删除，返回一个空数组</span>&#13;\n<span style=\"color: #008080;\"> 78</span> &#13;\n<span style=\"color: #008080;\"> 79</span> console.log(colors.indexOf(\'green\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 80</span> console.log(colors.lastIndexOf(\'green\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 81</span> &#13;\n<span style=\"color: #008080;\"> 82</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">数组迭代方法</span>&#13;\n<span style=\"color: #008080;\"> 83</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">every，都返回ture才返回true</span>&#13;\n<span style=\"color: #008080;\"> 84</span> numbers = [1,2,3,4,5,4,3,2,1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 85</span> <span style=\"color: #0000ff;\">var</span> everyRes = numbers.every(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(val,index,arr){&#13;\n</span><span style=\"color: #008080;\"> 86</span>     <span style=\"color: #0000ff;\">return</span> (val &gt; 2<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 87</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\"> 88</span> <span style=\"color: #000000;\">console.log(everyRes);&#13;\n</span><span style=\"color: #008080;\"> 89</span> &#13;\n<span style=\"color: #008080;\"> 90</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">some，只要有一项为true，则结果为true</span>&#13;\n<span style=\"color: #008080;\"> 91</span> <span style=\"color: #0000ff;\">var</span> someRes = numbers.some(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(val,index,arr){&#13;\n</span><span style=\"color: #008080;\"> 92</span>     <span style=\"color: #0000ff;\">return</span> val &gt; 2<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 93</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\"> 94</span> <span style=\"color: #000000;\">console.log(someRes);&#13;\n</span><span style=\"color: #008080;\"> 95</span> &#13;\n<span style=\"color: #008080;\"> 96</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">filter，返回该函数会返回true的项构成的数组</span>&#13;\n<span style=\"color: #008080;\"> 97</span> <span style=\"color: #0000ff;\">var</span> filterRes = numbers.filter(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(val ,index,arr){&#13;\n</span><span style=\"color: #008080;\"> 98</span>     <span style=\"color: #0000ff;\">return</span> val &gt; 2<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 99</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\">100</span> <span style=\"color: #000000;\">console.log(filterRes);&#13;\n</span><span style=\"color: #008080;\">101</span> &#13;\n<span style=\"color: #008080;\">102</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">map，返回函数调用结果形成的数组;</span>&#13;\n<span style=\"color: #008080;\">103</span> <span style=\"color: #0000ff;\">var</span> mapRes = numbers.map(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(val,index,arr){&#13;\n</span><span style=\"color: #008080;\">104</span>     <span style=\"color: #0000ff;\">return</span> val * 2<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">105</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\">106</span> <span style=\"color: #000000;\">console.log(mapRes);&#13;\n</span><span style=\"color: #008080;\">107</span> &#13;\n<span style=\"color: #008080;\">108</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">forEach，这个方法没有返回值</span>&#13;\n<span style=\"color: #008080;\">109</span> numbers.forEach(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(val,index,arr){&#13;\n</span><span style=\"color: #008080;\">110</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">执行操作</span>&#13;\n<span style=\"color: #008080;\">111</span> });</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">Array Demo Code</span></div>&#13;\n<p>2、Date类型</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'c960832b-2062-4a0e-ad12-2b5a8cc0bcca\')\"><img id=\"code_img_closed_c960832b-2062-4a0e-ad12-2b5a8cc0bcca\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_c960832b-2062-4a0e-ad12-2b5a8cc0bcca\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'c960832b-2062-4a0e-ad12-2b5a8cc0bcca\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_c960832b-2062-4a0e-ad12-2b5a8cc0bcca\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\">Date类型&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">var</span> now = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Date();&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">console.log(now);&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">var</span> someDate = <span style=\"color: #0000ff;\">new</span> Date(Date.parse(\'May 25,2005\'));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">与new Date(\'May 25,2005)等价</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">console.log(someDate);&#13;\n</span><span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">var</span> y2k = <span style=\"color: #0000ff;\">new</span> Date(Date.UTC(2012,5,8));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">2012年6月8日</span>&#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">console.log(y2k);&#13;\n</span><span style=\"color: #008080;\">13</span> &#13;\n<span style=\"color: #008080;\">14</span> <span style=\"color: #0000ff;\">var</span> start =<span style=\"color: #000000;\"> Date.now();&#13;\n</span><span style=\"color: #008080;\">15</span> start = +<span style=\"color: #0000ff;\">new</span> Date();<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">这样是为不支持Date.now的浏览器兼容，把Date对象转换成字符串</span>&#13;\n<span style=\"color: #008080;\">16</span> &#13;\n<span style=\"color: #008080;\">17</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">日期类支持大于小于操作符</span>&#13;\n<span style=\"color: #008080;\">18</span> console.log(now &gt;<span style=\"color: #000000;\"> start);&#13;\n</span><span style=\"color: #008080;\">19</span> &#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">日期格式化</span>&#13;\n<span style=\"color: #008080;\">21</span> <span style=\"color: #0000ff;\">var</span> date = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Date();&#13;\n</span><span style=\"color: #008080;\">22</span> &#13;\n<span style=\"color: #008080;\">23</span> console.log(date.toLocaleDateString());<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">2015-03-29;</span>&#13;\n<span style=\"color: #008080;\">24</span> console.log(date.getFullYear()+\'...\'+(date.getMonth()+1)+\'...\'+date.getDate());</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">Date Demo Code</span></div>&#13;\n<p>3、强大的正则类型</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'56f15535-d9f2-4e69-a05e-f5542ffed657\')\"><img id=\"code_img_closed_56f15535-d9f2-4e69-a05e-f5542ffed657\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_56f15535-d9f2-4e69-a05e-f5542ffed657\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'56f15535-d9f2-4e69-a05e-f5542ffed657\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_56f15535-d9f2-4e69-a05e-f5542ffed657\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\">RegExp类型&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">var</span> exp = /^\\d+$/ig;<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">必须转义(\\)的元字符 ( [ { \\ ^ $ | ) ? * + . ] }</span>&#13;\n<span style=\"color: #008080;\"> 6</span> console.log(exp.test(\'12324234a\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">var</span> expEmail = /^\\w+@\\w+\\.\\w+\\.?\\w*$/<span style=\"color: #000000;\">i;&#13;\n</span><span style=\"color: #008080;\"> 9</span> console.log(expEmail.test(\'lvyahui8@126.com\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">10</span> console.log(expEmail.test(\'lvyahui8@126.com.\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">11</span> console.log(expEmail.test(\'lvyahui8@126.com.cn\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">12</span> console.log(expEmail.test(\'lvyahui8@126.co-\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">var</span> expEmail2 = <span style=\"color: #0000ff;\">new</span> RegExp(\'^\\\\w+@\\\\w+\\\\.\\\\w+\\\\.?\\\\w*$\',\'i\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">14</span> console.log(expEmail2.test(\'lvyahui8@126.com\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">15</span> console.log(expEmail2.test(\'lvyahui8@126.com.\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">16</span> console.log(expEmail2.test(\'lvyahui8@126.com.cn\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">17</span> console.log(expEmail2.test(\'lvyahui8@126.co-\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">18</span> &#13;\n<span style=\"color: #008080;\">19</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">exec方法</span>&#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #0000ff;\">var</span> text = \'mom and dad and baby\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #0000ff;\">var</span> pattern = /mom( and dad( and baby)?)?/<span style=\"color: #000000;\">gi;&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #0000ff;\">var</span> matches =<span style=\"color: #000000;\"> pattern.exec(text);&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">console.log(matches.index);&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">console.log(matches.input);&#13;\n</span><span style=\"color: #008080;\">25</span> console.log(matches[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">26</span> console.log(matches[1<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">27</span> console.log(matches[2<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">28</span> &#13;\n<span style=\"color: #008080;\">29</span> text = \'cat, bat, sat, fat\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">30</span> pattern = /.at/<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">31</span> matches =<span style=\"color: #000000;\"> pattern.exec(text);&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">console.log(matches.index);&#13;\n</span><span style=\"color: #008080;\">33</span> console.log(matches[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">console.log(pattern.lastIndex);&#13;\n</span><span style=\"color: #008080;\">35</span> &#13;\n<span style=\"color: #008080;\">36</span> matches =<span style=\"color: #000000;\"> pattern.exec(text);&#13;\n</span><span style=\"color: #008080;\">37</span> <span style=\"color: #000000;\">console.log(matches.index);&#13;\n</span><span style=\"color: #008080;\">38</span> console.log(matches[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">console.log(pattern.lastIndex);&#13;\n</span><span style=\"color: #008080;\">40</span> &#13;\n<span style=\"color: #008080;\">41</span> pattern = /.at/<span style=\"color: #000000;\">g;&#13;\n</span><span style=\"color: #008080;\">42</span> matches =<span style=\"color: #000000;\"> pattern.exec(text);&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">console.log(matches.index);&#13;\n</span><span style=\"color: #008080;\">44</span> console.log(matches[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">45</span> <span style=\"color: #000000;\">console.log(pattern.lastIndex);&#13;\n</span><span style=\"color: #008080;\">46</span> &#13;\n<span style=\"color: #008080;\">47</span> matches =<span style=\"color: #000000;\"> pattern.exec(text);&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">console.log(matches.index);&#13;\n</span><span style=\"color: #008080;\">49</span> console.log(matches[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">50</span> console.log(pattern.lastIndex);</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">RegExp Demo Code</span></div>&#13;\n<p>4、函数类型，函数类型也是对象，也有属性和方法</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'10b6a010-e791-448f-8c08-6d5e324b8b57\')\"><img id=\"code_img_closed_10b6a010-e791-448f-8c08-6d5e324b8b57\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_10b6a010-e791-448f-8c08-6d5e324b8b57\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'10b6a010-e791-448f-8c08-6d5e324b8b57\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_10b6a010-e791-448f-8c08-6d5e324b8b57\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">  2</span> <span style=\"color: #008000;\">Function 类型&#13;\n</span><span style=\"color: #008080;\">  3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">  4</span> &#13;\n<span style=\"color: #008080;\">  5</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sum(num1,num2){&#13;\n</span><span style=\"color: #008080;\">  6</span>     <span style=\"color: #0000ff;\">return</span> num1+<span style=\"color: #000000;\">num2;&#13;\n</span><span style=\"color: #008080;\">  7</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">  8</span> <span style=\"color: #0000ff;\">var</span> sum2 = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(num1,num2){&#13;\n</span><span style=\"color: #008080;\">  9</span>     <span style=\"color: #0000ff;\">return</span> num1+<span style=\"color: #000000;\">num2;&#13;\n</span><span style=\"color: #008080;\"> 10</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 11</span> &#13;\n<span style=\"color: #008080;\"> 12</span> <span style=\"color: #0000ff;\">var</span> otherName =<span style=\"color: #000000;\"> sum2;&#13;\n</span><span style=\"color: #008080;\"> 13</span> console.log(otherName(3,2<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 14</span> &#13;\n<span style=\"color: #008080;\"> 15</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">函数并不能重载的根本原因在于函数名只是个指针，重新申明一个函数只是修改了函数指针的值</span>&#13;\n<span style=\"color: #008080;\"> 16</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> factorial(num){&#13;\n</span><span style=\"color: #008080;\"> 17</span>     <span style=\"color: #0000ff;\">if</span>(num&lt;=1<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 18</span>         <span style=\"color: #0000ff;\">return</span> 1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 19</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 20</span>     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 21</span>         <span style=\"color: #0000ff;\">return</span> num * arguments.callee(num-1);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">将函数的执行过程与函数名解耦</span>&#13;\n<span style=\"color: #008080;\"> 22</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 23</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 24</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\"> 25</span> <span style=\"color: #008000;\">window.color = \'red\';&#13;\n</span><span style=\"color: #008080;\"> 26</span> <span style=\"color: #008000;\">var o = {color:\'blue\'};&#13;\n</span><span style=\"color: #008080;\"> 27</span> <span style=\"color: #008000;\">function sayColor(){&#13;\n</span><span style=\"color: #008080;\"> 28</span> <span style=\"color: #008000;\">    console.log(this.color);&#13;\n</span><span style=\"color: #008080;\"> 29</span> <span style=\"color: #008000;\">}&#13;\n</span><span style=\"color: #008080;\"> 30</span> <span style=\"color: #008000;\">sayColor();//\'red\' 当在网页的全局作用域调用函数时，t在该函数里，this对象指向window&#13;\n</span><span style=\"color: #008080;\"> 31</span> <span style=\"color: #008000;\">o.sayColor = sayColor;&#13;\n</span><span style=\"color: #008080;\"> 32</span> <span style=\"color: #008000;\">o.sayColor();//\'blue\'&#13;\n</span><span style=\"color: #008080;\"> 33</span> <span style=\"color: #008000;\">//函数名只是个指针，全局sayCOlor和o.sayCOlor指向的是同一个函数&#13;\n</span><span style=\"color: #008080;\"> 34</span> <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 35</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sayName(name){}&#13;\n</span><span style=\"color: #008080;\"> 36</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> cp(a,b){}&#13;\n</span><span style=\"color: #008080;\"> 37</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> pt(){}&#13;\n</span><span style=\"color: #008080;\"> 38</span> console.log(sayName.length);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">1</span>&#13;\n<span style=\"color: #008080;\"> 39</span> console.log(cp.length);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">2</span>&#13;\n<span style=\"color: #008080;\"> 40</span> console.log(pt.length);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">0</span>&#13;\n<span style=\"color: #008080;\"> 41</span> &#13;\n<span style=\"color: #008080;\"> 42</span> &#13;\n<span style=\"color: #008080;\"> 43</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\"> 44</span> <span style=\"color: #008000;\"> 函数属性和方法&#13;\n</span><span style=\"color: #008080;\"> 45</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 46</span> &#13;\n<span style=\"color: #008080;\"> 47</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">属性，length，prototype</span>&#13;\n<span style=\"color: #008080;\"> 48</span> &#13;\n<span style=\"color: #008080;\"> 49</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> person(name,age){&#13;\n</span><span style=\"color: #008080;\"> 50</span>     <span style=\"color: #0000ff;\">this</span>.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\"> 51</span>     <span style=\"color: #0000ff;\">this</span>.age =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\"> 52</span>     <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> getName(){&#13;\n</span><span style=\"color: #008080;\"> 53</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name;&#13;\n</span><span style=\"color: #008080;\"> 54</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 55</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 56</span> &#13;\n<span style=\"color: #008080;\"> 57</span> console.log(person.length);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">1</span>&#13;\n<span style=\"color: #008080;\"> 58</span> console.log(person.prototype);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">{}</span>&#13;\n<span style=\"color: #008080;\"> 59</span> &#13;\n<span style=\"color: #008080;\"> 60</span> &#13;\n<span style=\"color: #008080;\"> 61</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">function apply，call</span>&#13;\n<span style=\"color: #008080;\"> 62</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> callSum1(num1,num2){&#13;\n</span><span style=\"color: #008080;\"> 63</span>     <span style=\"color: #0000ff;\">return</span> sum.apply(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,arguments);&#13;\n</span><span style=\"color: #008080;\"> 64</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 65</span> &#13;\n<span style=\"color: #008080;\"> 66</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> callSum2(num1,num2){&#13;\n</span><span style=\"color: #008080;\"> 67</span>     <span style=\"color: #0000ff;\">return</span> sum.apply(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,[num1,num2]);&#13;\n</span><span style=\"color: #008080;\"> 68</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 69</span> &#13;\n<span style=\"color: #008080;\"> 70</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> callSum3(num1,num2){&#13;\n</span><span style=\"color: #008080;\"> 71</span>     <span style=\"color: #0000ff;\">return</span> sum.call(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,num1,num2);&#13;\n</span><span style=\"color: #008080;\"> 72</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 73</span> &#13;\n<span style=\"color: #008080;\"> 74</span> console.log(callSum1(10,10));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">因为在全局作用域中调用，所以</span>&#13;\n<span style=\"color: #008080;\"> 75</span> console.log(callSum2(10,10<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 76</span> console.log(callSum3(10,10<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 77</span> &#13;\n<span style=\"color: #008080;\"> 78</span> <span style=\"color: #0000ff;\">var</span> o = {color:\'blue\'<span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 79</span> &#13;\n<span style=\"color: #008080;\"> 80</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sayColor(){&#13;\n</span><span style=\"color: #008080;\"> 81</span>     console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.color);&#13;\n</span><span style=\"color: #008080;\"> 82</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 83</span> &#13;\n<span style=\"color: #008080;\"> 84</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">这里输出为undefined 是因为当前运行环境不在浏览器，也就是不在window的作用域，this指针并不指向window</span>&#13;\n<span style=\"color: #008080;\"> 85</span> console.log(<span style=\"color: #0000ff;\">this</span>);  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">{}</span>&#13;\n<span style=\"color: #008080;\"> 86</span> sayColor();             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">red</span>&#13;\n<span style=\"color: #008080;\"> 87</span> sayColor.call(<span style=\"color: #0000ff;\">this</span>);    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">red</span>&#13;\n<span style=\"color: #008080;\"> 88</span> sayColor.call(window);  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">red</span>&#13;\n<span style=\"color: #008080;\"> 89</span> &#13;\n<span style=\"color: #008080;\"> 90</span> sayColor.call(o);       <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">blue</span>&#13;\n<span style=\"color: #008080;\"> 91</span> &#13;\n<span style=\"color: #008080;\"> 92</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">bind方法</span>&#13;\n<span style=\"color: #008080;\"> 93</span> <span style=\"color: #0000ff;\">var</span> window = {color:\'red\'<span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 94</span> <span style=\"color: #0000ff;\">var</span> o = {color:\'blue\'<span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 95</span> &#13;\n<span style=\"color: #008080;\"> 96</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sayColor(){&#13;\n</span><span style=\"color: #008080;\"> 97</span>     console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.color);&#13;\n</span><span style=\"color: #008080;\"> 98</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 99</span> &#13;\n<span style=\"color: #008080;\">100</span> <span style=\"color: #0000ff;\">var</span> objSayColor =<span style=\"color: #000000;\"> sayColor.bind(o);&#13;\n</span><span style=\"color: #008080;\">101</span> objSayColor();</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">Function Demo Code</span></div>&#13;\n<p>5、基本包装类型</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'7ab0b3a5-ca46-46b2-ab09-f2a0a31b7469\')\"><img id=\"code_img_closed_7ab0b3a5-ca46-46b2-ab09-f2a0a31b7469\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_7ab0b3a5-ca46-46b2-ab09-f2a0a31b7469\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'7ab0b3a5-ca46-46b2-ab09-f2a0a31b7469\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_7ab0b3a5-ca46-46b2-ab09-f2a0a31b7469\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">  2</span> <span style=\"color: #008000;\">    基本包装类型&#13;\n</span><span style=\"color: #008080;\">  3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">  4</span> &#13;\n<span style=\"color: #008080;\">  5</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">String</span>&#13;\n<span style=\"color: #008080;\">  6</span> <span style=\"color: #0000ff;\">var</span> s1 = \'come.text\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">  7</span> <span style=\"color: #0000ff;\">var</span> s2 = s1.substring(2<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">  8</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">使用new关键字创建的实例，在执行流离开当前作用域之前都一直保存在内存中。而自动创建的基本包装类的对象，</span>&#13;\n<span style=\"color: #008080;\">  9</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">则只存在于一行代码的执行瞬间，然后立刻被销毁，所以不能动态为基本类型值添加属性和方法</span>&#13;\n<span style=\"color: #008080;\"> 10</span> s1 = \'come text\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 11</span> s1.color = \'red\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 12</span> console.log(s1.color);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">undefined</span>&#13;\n<span style=\"color: #008080;\"> 13</span> &#13;\n<span style=\"color: #008080;\"> 14</span> <span style=\"color: #0000ff;\">var</span> obj = <span style=\"color: #0000ff;\">new</span> Object(\'some test\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 15</span> console.log(obj <span style=\"color: #0000ff;\">instanceof</span> String);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">true</span>&#13;\n<span style=\"color: #008080;\"> 16</span> &#13;\n<span style=\"color: #008080;\"> 17</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">注意，使用new 调用构造函数与直接调用同名的转型函数是不一样的</span>&#13;\n<span style=\"color: #008080;\"> 18</span> <span style=\"color: #0000ff;\">var</span> value = \'25\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 19</span> <span style=\"color: #0000ff;\">var</span> number =<span style=\"color: #000000;\"> Number(value);&#13;\n</span><span style=\"color: #008080;\"> 20</span> console.log(<span style=\"color: #0000ff;\">typeof</span> number);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">number</span>&#13;\n<span style=\"color: #008080;\"> 21</span> &#13;\n<span style=\"color: #008080;\"> 22</span> <span style=\"color: #0000ff;\">var</span> obj = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Number(value);&#13;\n</span><span style=\"color: #008080;\"> 23</span> console.log(<span style=\"color: #0000ff;\">typeof</span>  obj);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">object</span>&#13;\n<span style=\"color: #008080;\"> 24</span> &#13;\n<span style=\"color: #008080;\"> 25</span> &#13;\n<span style=\"color: #008080;\"> 26</span> &#13;\n<span style=\"color: #008080;\"> 27</span> &#13;\n<span style=\"color: #008080;\"> 28</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">--Boolean</span>&#13;\n<span style=\"color: #008080;\"> 29</span> <span style=\"color: #0000ff;\">var</span> falseObj = <span style=\"color: #0000ff;\">new</span> Boolean(<span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 30</span> <span style=\"color: #0000ff;\">var</span> result = falseObj &amp;&amp; <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 31</span> &#13;\n<span style=\"color: #008080;\"> 32</span> <span style=\"color: #000000;\">console.log(result);&#13;\n</span><span style=\"color: #008080;\"> 33</span> &#13;\n<span style=\"color: #008080;\"> 34</span> <span style=\"color: #0000ff;\">var</span> falseValue = <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 35</span> result = falseValue &amp;&amp; <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 36</span> <span style=\"color: #000000;\">console.log(result);&#13;\n</span><span style=\"color: #008080;\"> 37</span> &#13;\n<span style=\"color: #008080;\"> 38</span> console.log(<span style=\"color: #0000ff;\">typeof</span> falseObj);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">object</span>&#13;\n<span style=\"color: #008080;\"> 39</span> console.log(<span style=\"color: #0000ff;\">typeof</span><span style=\"color: #000000;\"> falseValue);&#13;\n</span><span style=\"color: #008080;\"> 40</span> console.log(falseObj <span style=\"color: #0000ff;\">instanceof</span><span style=\"color: #000000;\"> Boolean);&#13;\n</span><span style=\"color: #008080;\"> 41</span> console.log(falseValue <span style=\"color: #0000ff;\">instanceof</span><span style=\"color: #000000;\"> Boolean);&#13;\n</span><span style=\"color: #008080;\"> 42</span> &#13;\n<span style=\"color: #008080;\"> 43</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">--Number</span>&#13;\n<span style=\"color: #008080;\"> 44</span> <span style=\"color: #0000ff;\">var</span> numberObject = <span style=\"color: #0000ff;\">new</span> Number(10<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 45</span> console.log(numberObject.toString());<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">10</span>&#13;\n<span style=\"color: #008080;\"> 46</span> console.log(numberObject.toString(2));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">1010</span>&#13;\n<span style=\"color: #008080;\"> 47</span> console.log(numberObject.toString(8));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">12</span>&#13;\n<span style=\"color: #008080;\"> 48</span> console.log(numberObject.toString(16));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">a</span>&#13;\n<span style=\"color: #008080;\"> 49</span> console.log(numberObject.toFixed(2<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 50</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">如果长度过长，以最大接近小数位进行舍入</span>&#13;\n<span style=\"color: #008080;\"> 51</span> console.log((<span style=\"color: #0000ff;\">new</span> Number(10.0047)).toFixed(2));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">10.00</span>&#13;\n<span style=\"color: #008080;\"> 52</span> console.log((<span style=\"color: #0000ff;\">new</span> Number(10.005)).toFixed(2));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">10.01</span>&#13;\n<span style=\"color: #008080;\"> 53</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">String</span>&#13;\n<span style=\"color: #008080;\"> 54</span> <span style=\"color: #0000ff;\">var</span> strValue =  \"我是lvyahui\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 55</span> console.log(strValue.length);   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">即使是双字节字符也算一个字符</span>&#13;\n<span style=\"color: #008080;\"> 56</span> &#13;\n<span style=\"color: #008080;\"> 57</span> console.log(\'String Start\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 58</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">String 类型</span>&#13;\n<span style=\"color: #008080;\"> 59</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">模式匹配</span>&#13;\n<span style=\"color: #008080;\"> 60</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">match方法，找到第一个匹配的</span>&#13;\n<span style=\"color: #008080;\"> 61</span> <span style=\"color: #0000ff;\">var</span> text = \"hello world,lvyahui\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 62</span> <span style=\"color: #0000ff;\">var</span> pattern = /.l/<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 63</span> <span style=\"color: #0000ff;\">var</span> matches =<span style=\"color: #000000;\"> text.match(pattern);&#13;\n</span><span style=\"color: #008080;\"> 64</span> console.log(matches.index);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">1</span>&#13;\n<span style=\"color: #008080;\"> 65</span> matches.every(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(i){&#13;\n</span><span style=\"color: #008080;\"> 66</span> <span style=\"color: #000000;\">    console.log(i);&#13;\n</span><span style=\"color: #008080;\"> 67</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\"> 68</span> console.log(pattern.lastIndex);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">0</span>&#13;\n<span style=\"color: #008080;\"> 69</span> &#13;\n<span style=\"color: #008080;\"> 70</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">search 方法，返回第一个匹配字符串的位置</span>&#13;\n<span style=\"color: #008080;\"> 71</span> <span style=\"color: #0000ff;\">var</span> pos = text.search(/l/<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 72</span> <span style=\"color: #000000;\">console.log(pos);&#13;\n</span><span style=\"color: #008080;\"> 73</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">replace 方法，两个参数，如果第一个参数是字符串的话，只会替换第一个字符。要想替换所有的字符串，必须使用正则</span>&#13;\n<span style=\"color: #008080;\"> 74</span> text = \"hello,this is 15$,you &amp;mi\"&#13;\n<span style=\"color: #008080;\"> 75</span> <span style=\"color: #0000ff;\">var</span> repRes = text.replace(/l/g,\"w\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 76</span> <span style=\"color: #000000;\">console.log(repRes);&#13;\n</span><span style=\"color: #008080;\"> 77</span> repRes = text.replace(/(l)/g,\"w $1\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 78</span> <span style=\"color: #000000;\">console.log(repRes);&#13;\n</span><span style=\"color: #008080;\"> 79</span> &#13;\n<span style=\"color: #008080;\"> 80</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> htmlEscpae(text){&#13;\n</span><span style=\"color: #008080;\"> 81</span>     <span style=\"color: #0000ff;\">return</span> text.replace(/[&lt;&gt;\"&amp;]/g,<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(match,pos,originalText){&#13;\n</span><span style=\"color: #008080;\"> 82</span>         <span style=\"color: #0000ff;\">switch</span><span style=\"color: #000000;\"> (match) {&#13;\n</span><span style=\"color: #008080;\"> 83</span>             <span style=\"color: #0000ff;\">case</span> \"&lt;\"<span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 84</span>                 <span style=\"color: #0000ff;\">return</span> \"&amp;lt;\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 85</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 86</span>             <span style=\"color: #0000ff;\">case</span> \"&gt;\"<span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 87</span>                 <span style=\"color: #0000ff;\">return</span> \"&amp;gt;\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 88</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 89</span>             <span style=\"color: #0000ff;\">case</span> \"&amp;\"<span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 90</span>                 <span style=\"color: #0000ff;\">return</span> \"&amp;amp;\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 91</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 92</span>             <span style=\"color: #0000ff;\">case</span> \"\\\"\"<span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 93</span>                 <span style=\"color: #0000ff;\">return</span> \"&amp;quot;\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 94</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 95</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 96</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\"> 97</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 98</span> &#13;\n<span style=\"color: #008080;\"> 99</span> console.log(htmlEscpae(\"&lt;p class=\\\"greeting\\\"&gt;hello world!&lt;/p&gt;\"<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">100</span> &#13;\n<span style=\"color: #008080;\">101</span> <span style=\"color: #0000ff;\">var</span> colorText = \"red,blur,,green,yellow\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">102</span> <span style=\"color: #0000ff;\">var</span> c1 = colorText.split(\",\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">103</span> <span style=\"color: #0000ff;\">var</span> c2 = colorText.split(\",\",2);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">指定数组的大小</span>&#13;\n<span style=\"color: #008080;\">104</span> <span style=\"color: #0000ff;\">var</span> c3 = colorText.split(/[^\\,]/<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">105</span> <span style=\"color: #000000;\">console.log(c1);&#13;\n</span><span style=\"color: #008080;\">106</span> <span style=\"color: #000000;\">console.log(c2);&#13;\n</span><span style=\"color: #008080;\">107</span> console.log(c3);</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">View Code</span></div>&#13;\n<p>在所有JS代码执行之前就存在两个内置对象Global和Math对象，不能直接访问Global对象，但Web浏览器中window对象承担了该角色</p></div>',34,'2015-04-09 01:32:00','2016-07-31 10:21:34',9,'http://www.cnblogs.com/lvyahui/p/4412278.html',4412278),(487,'AngularJS初体验','最近突然发现，Coding.net真是一个神奇的网站。这各网站90%的请求都是通过ajax完成的。可以发现，不管你点任何链接，网页都不会刷新，点击浏览器的返回或前进按钮也是这样，打开chrome的开发','<div id=\"cnblogs_post_body\"><p>最近突然发现，<a title=\"coding.net\" href=\"https://coding.net/\" target=\"_blank\">Coding.net</a>真是一个神奇的网站。这各网站90%的请求都是通过ajax完成的。可以发现，不管你点任何链接，网页都不会刷新，点击浏览器的返回或前进按钮也是这样，打开chrome的开发者工具的network面板可以看到大量的ajax请求被发出，每个ajax返回的只有数据，没有视图代码。对我这种才艺不精的人而言，真的觉得很神奇。</p>&#13;\n<p>我是个比较喜欢研究新鲜事务的人，于是琢磨了一阵子。发现这个网站用到了一种技术-<a title=\"AngularJS\" href=\"http://www.cnblogs.com/AngularJS\" target=\"_blank\">AngularJS</a>。于是熬夜学了下这门神奇的技术。</p>&#13;\n<p>AngularJS是一个基于MVC理念的JavaScript框架，它主要用来增强html语言，开发一些单页应用。</p>&#13;\n<p>AngularJS比较重要的概念是 指令、控制器、表达式 。下面附上一段示例代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">&lt;?</span><span style=\"color: #ff00ff;\">php&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #ff00ff;\">/**&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #ff00ff;\"> * Created by PhpStorm.&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #ff00ff;\"> * User: lvyahui&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #ff00ff;\"> * Date: 15-5-5&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #ff00ff;\"> * Time: 下午1:22&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #ff00ff;\"> */&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">?&gt;</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">html</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">head </span><span style=\"color: #ff0000;\">lang</span><span style=\"color: #0000ff;\">=\"en\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">meta </span><span style=\"color: #ff0000;\">charset</span><span style=\"color: #0000ff;\">=\"UTF-8\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">title</span><span style=\"color: #0000ff;\">&gt;&lt;/</span><span style=\"color: #800000;\">title</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">link </span><span style=\"color: #ff0000;\">rel</span><span style=\"color: #0000ff;\">=\"stylesheet\"</span><span style=\"color: #ff0000;\"> href</span><span style=\"color: #0000ff;\">=\"css/main.css\"</span><span style=\"color: #0000ff;\">/&gt;</span>&#13;\n<span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">script </span><span style=\"color: #ff0000;\">src</span><span style=\"color: #0000ff;\">=\"js/angular-1.2.5.min.js\"</span><span style=\"color: #0000ff;\">&gt;&lt;/</span><span style=\"color: #800000;\">script</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">15</span> <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">head</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">16</span> <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">body </span><span style=\"color: #ff0000;\">ng-app</span><span style=\"color: #0000ff;\">=\"\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">17</span> <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">div </span><span style=\"color: #ff0000;\">ng-controller</span><span style=\"color: #0000ff;\">=\"customerController\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">input </span><span style=\"color: #ff0000;\">type</span><span style=\"color: #0000ff;\">=\"text\"</span><span style=\"color: #ff0000;\"> ng-model</span><span style=\"color: #0000ff;\">=\"uname\"</span><span style=\"color: #0000ff;\">/&gt;</span>&#13;\n<span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">table</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">20</span>         <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">tr </span><span style=\"color: #ff0000;\">ng-repeat</span><span style=\"color: #0000ff;\">=\"x in names | filter:uname | orderBy : \'country\'\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">21</span>             <span style=\"color: #008000;\">&lt;!--</span><span style=\"color: #008000;\">注意这个是严格区分大小写</span><span style=\"color: #008000;\">--&gt;</span>&#13;\n<span style=\"color: #008080;\">22</span>             <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>{{x.uname | uppercase}}<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;&lt;</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>{{x.country}}<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">td</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">tr</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">24</span>     <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">table</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">25</span> <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">div</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">26</span> <span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">script</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">27</span>     <span style=\"background-color: #f5f5f5; color: #0000ff;\">function</span><span style=\"background-color: #f5f5f5; color: #000000;\"> customerController($scope,$http){&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"background-color: #f5f5f5; color: #000000;\">        $http.get(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">/mysql.php</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">).success(&#13;\n</span><span style=\"color: #008080;\">29</span>             <span style=\"background-color: #f5f5f5; color: #0000ff;\">function</span><span style=\"background-color: #f5f5f5; color: #000000;\">(resp){&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"background-color: #f5f5f5; color: #000000;\">                console.log(resp);&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"background-color: #f5f5f5; color: #000000;\">                $scope.names </span><span style=\"background-color: #f5f5f5; color: #000000;\">=</span><span style=\"background-color: #f5f5f5; color: #000000;\"> resp;&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"background-color: #f5f5f5; color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"background-color: #f5f5f5; color: #000000;\">        );&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"background-color: #f5f5f5; color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">script</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">36</span> <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">body</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n<span style=\"color: #008080;\">37</span> <span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">html</span><span style=\"color: #0000ff;\">&gt;</span></pre>&#13;\n</div>&#13;\n<p><span style=\"line-height: 1.5;\">上面的用到的指令有</span></p>&#13;\n<ul><li><strong>ng-app: 限定了AngularJS的作用域，带有这个节点的dom元素对应了AngularJS的根元素，一般一个页面只有一个ng-app，也可以有多个，但稍微麻烦一点，也没必要</strong></li>&#13;\n<li><strong>ng-controller:指定了一个控制这个dom元素的控制器，实际是一个javascript对象，dom元素对应了对象中的$scope。</strong></li>&#13;\n<li><strong>ng-model:指定了以个数据绑定，立即将输入绑定到以个js变量上，双向绑定</strong></li>&#13;\n<li><strong>ng-repeat:指定以这个dom节点为模板迭代集合，这个集合会跟以个javascript变量绑定，这个变量可以是$scope的属性，一旦这个变量被改变，视图会马上更新反之亦然，这是双向绑定。</strong></li>&#13;\n</ul><p>上面的td元素中以表达式的方式输出了几个的元素的属性，并且为元素添加了一个简单的大写过滤器，将uname全部转成大写输出，上面还定义了两个过滤器filter和orderBy，一个用来过滤输入，一个用来排序。</p>&#13;\n<p>上面的script中定义了一个customer控制器。在这个控制器中请求了一个url，这个url将返回一个json对象，更确切的说是一个js数组。然后立马将响应赋值给names。这样之前ng-repeat绑定的变量就会马上重新渲染。</p>&#13;\n<p>下面是mysql.php做的事情</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\"> * Created by PhpStorm.&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\"> * User: lvyahui&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\"> * Date: 15-5-5&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\"> * Time: 下午1:33&#13;\n</span><span style=\"color: #008080;\"> 7</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #008080;\">header</span>(\'Access-Control-Allow-Origin:*\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #008080;\">header</span>(\'Content-Type:text/html;charset=UTF-8\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #800080;\">$conn</span> = <span style=\"color: #0000ff;\">new</span> mysqli(\'localhost\',\'root\',\'root\',\'mytestdb\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">13</span> &#13;\n<span style=\"color: #008080;\">14</span> &#13;\n<span style=\"color: #008080;\">15</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">16</span> <span style=\"color: #008000;\">$datas = json_decode(require_once(\'http.php\'));&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #008000;\">foreach($datas as $data){&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #008000;\">    $sql = \'insert into customers (uname,country) VALUES (\"\'.$data-&gt;Name.\'\",\"\'.$data-&gt;Country.\'\")\';&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #008000;\">    print_r($sql.\'&lt;br&gt;\');&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #008000;\">    $conn-&gt;query($sql);&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #008000;\">}&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #008000;\">$conn-&gt;close();&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">24</span> <span style=\"color: #800080;\">$results</span> = <span style=\"color: #800080;\">$conn</span>-&gt;query(\'select uname,country from customers\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #800080;\">$conn</span>-&gt;<span style=\"color: #000000;\">close();&#13;\n</span><span style=\"color: #008080;\">26</span> &#13;\n<span style=\"color: #008080;\">27</span> <span style=\"color: #800080;\">$data</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">28</span> &#13;\n<span style=\"color: #008080;\">29</span> <span style=\"color: #0000ff;\">while</span>(<span style=\"color: #800080;\">$rs</span> = <span style=\"color: #800080;\">$results</span>-&gt;<span style=\"color: #000000;\">fetch_array(MYSQLI_ASSOC)){&#13;\n</span><span style=\"color: #008080;\">30</span>     <span style=\"color: #800080;\">$data</span>[] = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">31</span>         \'uname\' =&gt; <span style=\"color: #800080;\">$rs</span>[\'uname\'],&#13;\n<span style=\"color: #008080;\">32</span>         \'country\' =&gt; <span style=\"color: #800080;\">$rs</span>[\'country\'<span style=\"color: #000000;\">]&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">    );&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #0000ff;\">echo</span> json_encode(<span style=\"color: #800080;\">$data</span>);</pre>&#13;\n</div>&#13;\n<p>这里用到了数据库和一个数据文件http.php文件（这个文件是为了建立数据库里的数据的）</p>&#13;\n<p>数据库</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">create</span> <span style=\"color: #0000ff;\">database</span> mytestdb <span style=\"color: #0000ff;\">default</span> <span style=\"color: #0000ff;\">character</span> <span style=\"color: #0000ff;\">set</span><span style=\"color: #000000;\"> utf8 collate utf8_general_ci;&#13;\n</span><span style=\"color: #008080;\">2</span> &#13;\n<span style=\"color: #008080;\">3</span> &#13;\n<span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">create</span> <span style=\"color: #0000ff;\">table</span><span style=\"color: #000000;\"> customers(&#13;\n</span><span style=\"color: #008080;\">5</span>     id <span style=\"color: #0000ff;\">int</span> auto_increment <span style=\"color: #0000ff;\">primary</span> <span style=\"color: #0000ff;\">key</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">6</span>     uname <span style=\"color: #0000ff;\">varchar</span>(<span style=\"color: #800000; font-weight: bold;\">64</span>) <span style=\"color: #808080;\">not</span> <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">7</span>     country <span style=\"color: #0000ff;\">varchar</span>(<span style=\"color: #800000; font-weight: bold;\">64</span>) <span style=\"color: #808080;\">not</span> <span style=\"color: #0000ff;\">null</span>&#13;\n<span style=\"color: #008080;\">8</span> );</pre>&#13;\n</div>&#13;\n<p>http.php数据文件</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'a7d2a42f-0afd-4679-8ae9-95744b43e1ef\')\"><img id=\"code_img_closed_a7d2a42f-0afd-4679-8ae9-95744b43e1ef\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_a7d2a42f-0afd-4679-8ae9-95744b43e1ef\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'a7d2a42f-0afd-4679-8ae9-95744b43e1ef\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_a7d2a42f-0afd-4679-8ae9-95744b43e1ef\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">return</span> \'&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #000000;\">[&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">\"Name\" : \"Alfreds Futterkiste\",&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">\"City\" : \"Berlin\",&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">\"Country\" : \"Germany\"&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">\"Name\" : \"Berglunds snabbköp\",&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">\"City\" : \"Luleå\",&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">\"Country\" : \"Sweden\"&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">\"Name\" : \"Centro comercial Moctezuma\",&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">\"City\" : \"México D.F.\",&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">\"Country\" : \"Mexico\"&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">\"Name\" : \"Ernst Handel\",&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">\"City\" : \"Graz\",&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">\"Country\" : \"Austria\"&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">\"Name\" : \"FISSA Fabrica Inter. Salchichas S.A.\",&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">\"City\" : \"Madrid\",&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">\"Country\" : \"Spain\"&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">\"Name\" : \"Galería del gastrónomo\",&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">\"City\" : \"Barcelona\",&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">\"Country\" : \"Spain\"&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">\"Name\" : \"Island Trading\",&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">\"City\" : \"Cowes\",&#13;\n</span><span style=\"color: #008080;\">37</span> <span style=\"color: #000000;\">\"Country\" : \"UK\"&#13;\n</span><span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">\"Name\" : \"Königlich Essen\",&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #000000;\">\"City\" : \"Brandenburg\",&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">\"Country\" : \"Germany\"&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">44</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">45</span> <span style=\"color: #000000;\">\"Name\" : \"Laughing Bacchus Wine Cellars\",&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">\"City\" : \"Vancouver\",&#13;\n</span><span style=\"color: #008080;\">47</span> <span style=\"color: #000000;\">\"Country\" : \"Canada\"&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">49</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">\"Name\" : \"Magazzini Alimentari Riuniti\",&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">\"City\" : \"Bergamo\",&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">\"Country\" : \"Italy\"&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">55</span> <span style=\"color: #000000;\">\"Name\" : \"North/South\",&#13;\n</span><span style=\"color: #008080;\">56</span> <span style=\"color: #000000;\">\"City\" : \"London\",&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">\"Country\" : \"UK\"&#13;\n</span><span style=\"color: #008080;\">58</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">60</span> <span style=\"color: #000000;\">\"Name\" : \"Paris spécialités\",&#13;\n</span><span style=\"color: #008080;\">61</span> <span style=\"color: #000000;\">\"City\" : \"Paris\",&#13;\n</span><span style=\"color: #008080;\">62</span> <span style=\"color: #000000;\">\"Country\" : \"France\"&#13;\n</span><span style=\"color: #008080;\">63</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">65</span> <span style=\"color: #000000;\">\"Name\" : \"Rattlesnake Canyon Grocery\",&#13;\n</span><span style=\"color: #008080;\">66</span> <span style=\"color: #000000;\">\"City\" : \"Albuquerque\",&#13;\n</span><span style=\"color: #008080;\">67</span> <span style=\"color: #000000;\">\"Country\" : \"USA\"&#13;\n</span><span style=\"color: #008080;\">68</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">69</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">70</span> <span style=\"color: #000000;\">\"Name\" : \"Simons bistro\",&#13;\n</span><span style=\"color: #008080;\">71</span> <span style=\"color: #000000;\">\"City\" : \"København\",&#13;\n</span><span style=\"color: #008080;\">72</span> <span style=\"color: #000000;\">\"Country\" : \"Denmark\"&#13;\n</span><span style=\"color: #008080;\">73</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">74</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">75</span> <span style=\"color: #000000;\">\"Name\" : \"The Big Cheese\",&#13;\n</span><span style=\"color: #008080;\">76</span> <span style=\"color: #000000;\">\"City\" : \"Portland\",&#13;\n</span><span style=\"color: #008080;\">77</span> <span style=\"color: #000000;\">\"Country\" : \"USA\"&#13;\n</span><span style=\"color: #008080;\">78</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">79</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">80</span> <span style=\"color: #000000;\">\"Name\" : \"Vaffeljernet\",&#13;\n</span><span style=\"color: #008080;\">81</span> <span style=\"color: #000000;\">\"City\" : \"Århus\",&#13;\n</span><span style=\"color: #008080;\">82</span> <span style=\"color: #000000;\">\"Country\" : \"Denmark\"&#13;\n</span><span style=\"color: #008080;\">83</span> <span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">84</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">85</span> <span style=\"color: #000000;\">\"Name\" : \"Wolski Zajazd\",&#13;\n</span><span style=\"color: #008080;\">86</span> <span style=\"color: #000000;\">\"City\" : \"Warszawa\",&#13;\n</span><span style=\"color: #008080;\">87</span> <span style=\"color: #000000;\">\"Country\" : \"Poland\"&#13;\n</span><span style=\"color: #008080;\">88</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">89</span> <span style=\"color: #000000;\">]&#13;\n</span><span style=\"color: #008080;\">90</span> \';</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">数据文件</span></div>&#13;\n<p>css样式</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #800000;\">table, th , td </span>{&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #ff0000;\">    border</span>:<span style=\"color: #0000ff;\"> 1px solid grey</span>;&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #ff0000;\">    border-collapse</span>:<span style=\"color: #0000ff;\"> collapse</span>;&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #ff0000;\">    padding</span>:<span style=\"color: #0000ff;\"> 5px</span>;&#13;\n<span style=\"color: #008080;\"> 5</span> }&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #800000;\">table tr:nth-child(odd) </span>{&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #ff0000;\">    background-color</span>:<span style=\"color: #0000ff;\"> #f1f1f1</span>;&#13;\n<span style=\"color: #008080;\"> 8</span> }&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #800000;\">table tr:nth-child(even) </span>{&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #ff0000;\">    background-color</span>:<span style=\"color: #0000ff;\"> #ffffff</span>;&#13;\n<span style=\"color: #008080;\">11</span> }</pre>&#13;\n</div>&#13;\n<p>最后的效果</p>&#13;\n<p><img src=\"http://images.cnitblog.com/blog2015/635249/201505/051810002824020.png\" alt=\"\"/></p>&#13;\n<p>在文本框里输内容可立即过滤结果</p></div>',73,'2015-05-04 22:12:00','2016-07-31 10:21:35',9,'http://www.cnblogs.com/lvyahui/p/4479916.html',4479916),(488,'JavaScript OOP 创建对象的7种方式','我写JS代码，可以说一直都是面向过程的写法，除了一些用来封装数据的对象或者jQuery插件，可以说对原生对象了解的是少之又少。所以我拿着《JavaScript高级程序设计 第3版》恶补了一下，这里坐下总结笔记，属于菜鸟级别，大神请直接无视。&#13;\n1、工厂模式&#13;\n','<div id=\"cnblogs_post_body\"><p>我写JS代码，可以说一直都是面向过程的写法，除了一些用来封装数据的对象或者jQuery插件，可以说对原生对象了解的是少之又少。所以我拿着《JavaScript高级程序设计 第3版》恶补了一下，这里坐下总结笔记，属于菜鸟级别，大神请直接无视。</p>&#13;\n<h2><strong>1、工厂模式</strong></h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * 工厂模式&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> createPerson(name,age,job){&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">var</span> o = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Object();&#13;\n</span><span style=\"color: #008080;\"> 6</span>     o.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\"> 7</span>     o.age  =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\"> 8</span>     o.job =<span style=\"color: #000000;\"> job;&#13;\n</span><span style=\"color: #008080;\"> 9</span>     o.sayName = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">10</span>         console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 等价于  o.sayName = new Function(\"console.log(this.name);\");</span>&#13;\n<span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> o;&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #0000ff;\">var</span> p1 = createPerson(\'lvyahui1\',12,\'devloper\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #0000ff;\">var</span> p2 = createPerson(\'lvyahui2\',23,\'desigen\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">p1.sayName();&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">p2.sayName();&#13;\n</span><span style=\"color: #008080;\">19</span> console.log(p1.sayName === p2.sayName); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> false</span></pre>&#13;\n</div>&#13;\n<p>这种方法存在很多问题，比如多个对象的方法是独立的，没用共享。不能判断对象的类型</p>&#13;\n<p> </p>&#13;\n<h2><strong>2、构造函数模式</strong></h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * 构造函数模式&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Person (name,age,job){&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">this</span>.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">this</span>.age =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">this</span>.job =<span style=\"color: #000000;\"> job;&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">this</span>.sayName = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 9</span>         console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">var</span> pp1 = <span style=\"color: #0000ff;\">new</span> Person(\'lvyahui1\',12,\'dev\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">var</span> pp2 = <span style=\"color: #0000ff;\">new</span> Person(\'lvyahui2\',12,\'desien\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">pp1.sayName();&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">pp2.sayName();&#13;\n</span><span style=\"color: #008080;\">16</span> console.log(pp1.constructor === Person);    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  true</span>&#13;\n<span style=\"color: #008080;\">17</span> console.log(pp2.constructor === Person);    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  true</span>&#13;\n<span style=\"color: #008080;\">18</span> console.log(pp1 <span style=\"color: #0000ff;\">instanceof</span> Object);         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  true</span>&#13;\n<span style=\"color: #008080;\">19</span> console.log(pp2 <span style=\"color: #0000ff;\">instanceof</span> Person);         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  true</span></pre>&#13;\n</div>&#13;\n<p><span style=\"color: #ff0000;\">这中方式解决了对象类型判断的问题，但却没有解决方法共享的问题，方法依然在每个对象里创建了一遍</span>。要解决这样的问题，可以像下面这样</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Home (name,age,job){&#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #0000ff;\">this</span>.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">this</span>.age =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\">4</span>     <span style=\"color: #0000ff;\">this</span>.job =<span style=\"color: #000000;\"> job;&#13;\n</span><span style=\"color: #008080;\">5</span>     <span style=\"color: #0000ff;\">this</span>.sayAge =<span style=\"color: #000000;\"> sayAge;&#13;\n</span><span style=\"color: #008080;\">6</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">7</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> sayAge(){&#13;\n</span><span style=\"color: #008080;\">8</span>     console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.age);&#13;\n</span><span style=\"color: #008080;\">9</span> }</pre>&#13;\n</div>&#13;\n<p>但这样有带来了新的问题，在全局作用域定义的function只能在对象环境运行，违背了全局的概念；而且，当要定义的方法非常多的石猴。就要定义n多的全局函数，毫无封装性可言。</p>&#13;\n<p>另外，需要注意的是，<span style=\"color: #ff0000;\">构造函数也是函数，它与普通函数的唯一区别，就在于调用方式的不同</span>。如下面这样，我门可以拿它当普通函数用，这样属性和方法将被绑定到浏览器全局的执行环境window上，或者绑定到别的对象上运行，将属性方法绑定到别的对象</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 构造函数也是函数</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  1</span>&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">var</span> person = <span style=\"color: #0000ff;\">new</span> Person(\'hahha\',23,\'ddd\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  2 做普通函数</span>&#13;\n<span style=\"color: #008080;\"> 5</span> Person(\'window\',11,\'2323dd\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">window.sayName();</span>&#13;\n<span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  3 在另一个对象的作用域中使用</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">var</span> o = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Object();&#13;\n</span><span style=\"color: #008080;\">10</span> Person.call(o,\'lvyahui\',23,\'2323\'<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">11</span> o.sayName();</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<h2><strong>3、原型模式</strong></h2>&#13;\n<p><span style=\"color: #ff0000;\">js中每一个函数都有一个特殊的属性-prototype(原型)，这个属性是一个指针，指向一个对象。这个对象包含所有以这个函数为构造函数创建的对象共享的属性和方法</span>，首先看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * 原型模式&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Dog(){}&#13;\n</span><span style=\"color: #008080;\"> 5</span> Dog.prototype.name = \'a mi\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span> Dog.prototype.age = 1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 7</span> Dog.prototype.sayName = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 8</span>     console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">var</span> d1 = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Dog(),&#13;\n</span><span style=\"color: #008080;\">12</span>     d2 = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Dog();&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">d1.sayName();&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">d2.sayName();&#13;\n</span><span style=\"color: #008080;\">15</span> console.log(d1.sayName === d2.sayName);         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  true</span>&#13;\n<span style=\"color: #008080;\">16</span> console.log(Dog.prototype.isPrototypeOf(d1));   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  true</span>&#13;\n<span style=\"color: #008080;\">17</span> console.log(Object.getPrototypeOf(d1)); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">返回 [[prototype]]的值</span>&#13;\n<span style=\"color: #008080;\">18</span> console.log(Object.getPrototypeOf(d1) === Dog.prototype);</pre>&#13;\n</div>&#13;\n<p>这里将属性和方法都添加到了函数的原型对象中。在第4行的代码中我定义了Dog构造方法，这让Dog的原型对象的<strong>constructor</strong>属性指向了Dog。5-7行代码又为Dog的原型对象添加了2个属性和一个方法。</p>&#13;\n<p>第11行、12行代码创建了两个对象实例，<span style=\"color: #ff0000;\">这两个实例中都只包含了一个特殊的属性[[Prototype]]，这个属性指向了构造函数的prototype，构造函数的prototype属性指向了原型对象，原型对象的constructor属性有指会了Dog构造方法</span>，这里比较绕，我直接取书上面的图给大家看，稍作了修改，图里面的是Person构造函数，这里实在抱歉，暂时没在ubuntu系统上找到好的作图工具，只能将就了，有知道的可以介绍给我用用。<span style=\"color: #ff0000;\"><span style=\"color: #000000;\"><br/></span></span></p>&#13;\n<p> <img src=\"http://images0.cnblogs.com/blog2015/635249/201506/062242346448698.png\" alt=\"\"/></p>&#13;\n<p><span style=\"color: #ff0000;\">另外这个图其实还省略了以个继承关系，就是Person对象其实是继承Obejct的，这是默认规则，别的语言也有。这也是js对象一创建就有object的方法和属性的原因。</span></p>&#13;\n<p>再一个，上面的代码中的</p>&#13;\n<ul><li>isPrototypeOf方法返回的是参数对象的[[Prototype]]属性是否指向调用isPrototypeOf的对象。</li>&#13;\n<li>getPrototype方法返回[[Prototype]]属性的值。</li>&#13;\n&#13;\n&#13;\n&#13;\n</ul><p><span style=\"color: #ff0000;\">原型很重要的一个概念是属性搜索（方法我认为也是属性），从实例对象开始一直往原型链上游搜索，如果找到了就停止搜索，所以如过我们在实例对象中添加原型中已有的属性或方法，会屏蔽掉原型链中的属性或方法。</span>看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> d1.name = \'sai mao\';    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 屏蔽原型中的属性</span>&#13;\n<span style=\"color: #008080;\">2</span> <span style=\"color: #000000;\">console.log(d1.name);&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 要恢复原型中的属性，必须显示删除实例中的属性</span>&#13;\n<span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">delete</span><span style=\"color: #000000;\"> d1.name;&#13;\n</span><span style=\"color: #008080;\">5</span> console.log(d1.name);</pre>&#13;\n</div>&#13;\n<p> 可以看到，可以使用delete恢复原型中的属性，而下面的方法可以用来检测一个属性是在实例对象中，还是在原型链的原型对象中。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 检测一个属性是在实例中，还是在原型中</span>&#13;\n<span style=\"color: #008080;\"> 2</span> d1.name = \'hhhh\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 3</span> console.log(d1.hasOwnProperty(\'name\')); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 只有在给定的属性存在于对象实例中才返回true</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">delete</span><span style=\"color: #000000;\"> d1.name;&#13;\n</span><span style=\"color: #008080;\"> 5</span> console.log(d1.hasOwnProperty(\'name\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">单独使用in操作符，只要能在对象中找到属性则返回true</span>&#13;\n<span style=\"color: #008080;\"> 8</span> d1.name = \'dsfdsfsd\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 9</span> console.log(\'name\' <span style=\"color: #0000ff;\">in</span> d1);  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> true</span>&#13;\n<span style=\"color: #008080;\">10</span> console.log(\'name\' <span style=\"color: #0000ff;\">in</span> d2);  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> ture</span>&#13;\n<span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">同时使用hasOwnProperty 和 in操作符，就能确定这个属性到底是在原型中还是在实例中</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> hasPrototypeProperty(object,name){&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">return</span> !object.hasOwnProperty(name) &amp;&amp; name <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> object;&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">16</span> console.log(\'d1 hasPrototypeProperty :\'+hasPrototypeProperty(d1, \'name\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">17</span> console.log(\'d2 hasPrototypeProperty :\'+hasPrototypeProperty(d2, \'name\'));</pre>&#13;\n</div>&#13;\n<p>例外有一种更简单的原型写法</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 更简单的原型语法</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Cat(){}&#13;\n</span><span style=\"color: #008080;\"> 3</span> Cat.prototype =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 4</span>     name    :   \'mimi\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 5</span>     age     :   12<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 6</span>     job     :   \'doubi\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 7</span>     sayName :   <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 8</span>         console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">var</span> cat = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Cat();&#13;\n</span><span style=\"color: #008080;\">13</span> console.log(cat <span style=\"color: #0000ff;\">instanceof</span><span style=\"color: #000000;\"> Object);&#13;\n</span><span style=\"color: #008080;\">14</span> console.log(cat <span style=\"color: #0000ff;\">instanceof</span><span style=\"color: #000000;\"> Cat);&#13;\n</span><span style=\"color: #008080;\">15</span> console.log(cat.constructor ===<span style=\"color: #000000;\"> Cat);//false&#13;\n</span><span style=\"color: #008080;\">16</span> console.log(cat.constructor === Object);//true</pre>&#13;\n</div>&#13;\n<p>这种方式其实是以字面量的方法<span style=\"color: #ff0000;\">重新创建了一个对象，然后赋值给了原型指针</span>。它丢弃了原来的原型对象，所以<span style=\"color: #ff0000;\">很显然的原型对象的constructor属性不再指向Cat，而是指向了Obejct</span>，有多种方法可以修复构造函数，比如在定义字面量对象的时候，就显示制定constructor属性为Cat，也可以使用下面的方法。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 重设Cat的constructor属性</span>&#13;\n<span style=\"color: #008080;\"> 2</span> Cat.prototype.constructor =<span style=\"color: #000000;\"> Cat;&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  但这样constructor变成可枚举的了</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">var</span> cat_keys =<span style=\"color: #000000;\"> Object.keys(Cat.prototype);&#13;\n</span><span style=\"color: #008080;\"> 5</span> console.log(cat_keys);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">[ \'name\', \'age\', \'job\', \'sayName\', \'constructor\' ]</span>&#13;\n<span style=\"color: #008080;\"> 6</span> console.log(Object.keys(cat));<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">[]</span>&#13;\n<span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 重设constructor的属性</span>&#13;\n<span style=\"color: #008080;\"> 9</span> Object.defineProperty(Cat.prototype,\'constructor\'<span style=\"color: #000000;\">,{&#13;\n</span><span style=\"color: #008080;\">10</span>     enumerable:<span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    value:Cat&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">});&#13;\n</span><span style=\"color: #008080;\">13</span> cat_keys =<span style=\"color: #000000;\"> Object.keys(Cat.prototype);&#13;\n</span><span style=\"color: #008080;\">14</span> console.log(cat_keys);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">[ \'name\', \'age\', \'job\', \'sayName\' ]</span></pre>&#13;\n</div>&#13;\n<p>原型模式也不是没有问题，比如不好向构造函数传递参数。它<span style=\"color: #ff0000;\">最大的问题是对引用类型的原型属性的共享问题</span>，看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 原型模式最大的问题在于对引用类型的属性共享问题</span>&#13;\n<span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> House(){}&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> House.prototype =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">    constructor:House,&#13;\n</span><span style=\"color: #008080;\"> 7</span>     friends:[\'lvyahui\',\'d\'<span style=\"color: #000000;\">]&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">var</span> h1 = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> House(),&#13;\n</span><span style=\"color: #008080;\">11</span>     h2 = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> House();&#13;\n</span><span style=\"color: #008080;\">12</span> h1.friends.push(\'li\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">13</span> console.log(h1.friends);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">[ \'lvyahui\', \'d\', \'li\' ]</span>&#13;\n<span style=\"color: #008080;\">14</span> console.log(h2.friends);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">[ \'lvyahui\', \'d\', \'li\' ]</span></pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<h2><strong><span style=\"line-height: 1.5;\">4、构造函数与原型对象方式组合的模式</span></strong></h2>&#13;\n<p><span style=\"color: #ff0000;\">组合模式可以说吸取了构造函数模式与原型模式的优点，既保证了每个对象实例都有自己独立的属性和方法，同时有可以实现共享的属性和方法。</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * 常用方式，组合使用构造函数模式和原型模式&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Movie(name,length){&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">this</span>.name=<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">this</span>.length =<span style=\"color: #000000;\"> length;&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">this</span>.links = [\'h1\',\'h2\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">10</span> Movie.prototype =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    constructor:Movie,&#13;\n</span><span style=\"color: #008080;\">12</span>     sayName : <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> (){&#13;\n</span><span style=\"color: #008080;\">13</span>         console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #0000ff;\">var</span> m1 = <span style=\"color: #0000ff;\">new</span> Movie(\'diany1\',14<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">17</span>     m2 = <span style=\"color: #0000ff;\">new</span> Movie(\'diany2\',23<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">18</span> m1.links.push(\'h3\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">19</span> &#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">console.log(m1.links);&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">console.log(m2.links);&#13;\n</span><span style=\"color: #008080;\">22</span> console.log(m1.links ===<span style=\"color: #000000;\"> m2.links);&#13;\n</span><span style=\"color: #008080;\">23</span> console.log(m1.sayName === m2.sayName);</pre>&#13;\n</div>&#13;\n<p>这种方式集各家之长，我想这种方式应该是用的比较多的了吧（本人还未毕业，对企业里实际情况不太了解，有知道的可以悄悄告诉我）</p>&#13;\n<p>当然，还有一种更好的写法，就是所谓的动态原型模式</p>&#13;\n<h2><strong>5、动态原型模式</strong></h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Miss(name,age){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">this</span>.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">this</span>.age =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">typeof</span> <span style=\"color: #0000ff;\">this</span>.sayName != \'function\'<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 6</span>         Miss.prototype.sayName = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 7</span>             console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">var</span> miss = <span style=\"color: #0000ff;\">new</span> Miss(\'lvyahui\',12<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">13</span> miss.sayName();</pre>&#13;\n</div>&#13;\n<p>这种方式的在保持了组合模式的优点的前提下，让代码看起了封装性更好，也更安全。</p>&#13;\n<h2><strong>6、寄生构造模式</strong></h2>&#13;\n<p> 这中方式与工厂模式，就只有一点区别，通过new 构造函数的形式创建对象，像下面这样，注意它只带创建对象的时候与工厂模式有区别（16行 new）</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * 寄生构造模式&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> createPerson2(name,age,job){&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">var</span> o = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Object();&#13;\n</span><span style=\"color: #008080;\"> 7</span>     o.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\"> 8</span>     o.age  =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\"> 9</span>     o.job =<span style=\"color: #000000;\"> job;&#13;\n</span><span style=\"color: #008080;\">10</span>     o.sayName = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">11</span>         console.log(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.name);&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">13</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 等价于  o.sayName = new Function(\"console.log(this.name);\");</span>&#13;\n<span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> o;&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #0000ff;\">var</span> p1 = <span style=\"color: #0000ff;\">new</span> createPerson2(\'lvyahui1\',12,\'devloper\');</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<h2><strong>7、稳妥构造函数模式</strong></h2>&#13;\n<p>这种模式基于稳妥对象的概念，这种对象是没有公共属性，它的方法中也不使用this的对象。大家都知道js中的this一直都是让人头疼的问题。</p>&#13;\n<p>稳妥模式与寄生模式类似，区别在于</p>&#13;\n<ul><li>不通过new操作符调用构造函数</li>&#13;\n<li>不在行创建对象的实例方法中使用this</li>&#13;\n</ul><div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * 稳妥构造模式&#13;\n</span><span style=\"color: #008080;\"> 3</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> Girl(name,age){&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">var</span> o = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Object();&#13;\n</span><span style=\"color: #008080;\"> 6</span>     o.sayName = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">        console.log(name);&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\"> 9</span>     o.sayAge = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">        console.log(age);&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> o;&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #0000ff;\">var</span> gril = Girl(\'d\',21<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">console.log(gril.sayName());&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">console.log(gril.sayAge());&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    输出</span>&#13;\n<span style=\"color: #008080;\">18</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    d</span>&#13;\n<span style=\"color: #008080;\">19</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    undefined</span>&#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    21</span>&#13;\n<span style=\"color: #008080;\">21</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    undefined</span>&#13;\n<span style=\"color: #008080;\">22</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    为什么呢？</span></pre>&#13;\n</div>&#13;\n<p>大家知道这个输出为什么是这么吗？知道的留言告诉我吧。</p>&#13;\n<p>好了，就写这么多了，总结一下，原生的创建js对象的最普适的方法应该是组合模式了吧。</p></div>',446,'2015-06-07 01:26:00','2016-07-31 10:21:36',9,'http://www.cnblogs.com/lvyahui/p/4557452.html',4557452),(489,'消除文法左递归的算法','存储文法的数据结构&#13;\n&#13;\n 1 typedef struct','<div id=\"cnblogs_post_body\"><h2 class=\"NewStyle15\">存储文法的数据结构</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> P{&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">char</span> key;           <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 产生式左部</span>&#13;\n<span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">char</span> * value [<span style=\"color: #800080;\">16</span>];  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 产生式右部</span>&#13;\n<span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">int</span> count;          <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 几组规则</span>&#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">}P;&#13;\n</span><span style=\"color: #008080;\"> 6</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> G{&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">char</span> * vn ;     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 非终结符集合</span>&#13;\n<span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">char</span> * vt ;     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 终结符集合</span>&#13;\n<span style=\"color: #008080;\"> 9</span>     P   p[<span style=\"color: #800080;\">16</span>];      <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 产生式</span>&#13;\n<span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">char</span> start;     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 开始符号</span>&#13;\n<span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> pcount ;&#13;\n</span><span style=\"color: #008080;\">12</span> }G;</pre>&#13;\n</div>&#13;\n<p>文法G由多条产生式组成，出现在产生式左部的非终结符，会指向一个P文法数组，每一个数组元素对应一个程式的右部，这样的结构显然是对文法进行了压缩的</p>&#13;\n<h2>算法过程</h2>&#13;\n<p class=\"NewStyle15\">1、 扫描文法，先将间接做递归转换成直接左递归</p>&#13;\n<p class=\"NewStyle15\">2、 借助如下公式，消除直接左递归</p>&#13;\n<p class=\"NewStyle15\">对形如这样的程式</p>&#13;\n<p class=\"NewStyle15\">A-&gt;Aα1|Aα2|Aα3| Aαn|..|ρ1|ρ2|….| ρn</p>&#13;\n<p class=\"NewStyle15\">转换成如下形式</p>&#13;\n<p class=\"NewStyle15\">A-&gt;ρ1A\'|ρ2A\'|ρ3A\'</p>&#13;\n<p class=\"NewStyle15\">A\'-&gt;α1A\'|α2A\'|....|ε</p>&#13;\n<h4 class=\"NewStyle15\">输入</h4>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #800080;\">3</span>&#13;\n<span style=\"color: #008080;\">2</span> <span style=\"color: #800080;\">2</span> S Qc|<span style=\"color: #000000;\">c&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #800080;\">2</span> Q Rb|<span style=\"color: #000000;\">b&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #800080;\">2</span> R Sa|a</pre>&#13;\n</div>&#13;\n<h2>完整算法</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\">  2</span> #include &lt;<span style=\"color: #0000ff;\">malloc</span>.h&gt;&#13;\n<span style=\"color: #008080;\">  3</span> #include &lt;<span style=\"color: #0000ff;\">string</span>.h&gt;&#13;\n<span style=\"color: #008080;\">  4</span> &#13;\n<span style=\"color: #008080;\">  5</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> P{&#13;\n</span><span style=\"color: #008080;\">  6</span>     <span style=\"color: #0000ff;\">char</span> key;           <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 产生式左部</span>&#13;\n<span style=\"color: #008080;\">  7</span>     <span style=\"color: #0000ff;\">char</span> * value [<span style=\"color: #800080;\">16</span>];  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 产生式右部</span>&#13;\n<span style=\"color: #008080;\">  8</span>     <span style=\"color: #0000ff;\">int</span> count;          <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 几组规则</span>&#13;\n<span style=\"color: #008080;\">  9</span> <span style=\"color: #000000;\">}P;&#13;\n</span><span style=\"color: #008080;\"> 10</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> G{&#13;\n</span><span style=\"color: #008080;\"> 11</span>     <span style=\"color: #0000ff;\">char</span> * vn ;     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 非终结符集合</span>&#13;\n<span style=\"color: #008080;\"> 12</span>     <span style=\"color: #0000ff;\">char</span> * vt ;     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 终结符集合</span>&#13;\n<span style=\"color: #008080;\"> 13</span>     P   p[<span style=\"color: #800080;\">16</span>];      <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 产生式</span>&#13;\n<span style=\"color: #008080;\"> 14</span>     <span style=\"color: #0000ff;\">char</span> start;     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 开始符号</span>&#13;\n<span style=\"color: #008080;\"> 15</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> pcount ;&#13;\n</span><span style=\"color: #008080;\"> 16</span> <span style=\"color: #000000;\">}G;&#13;\n</span><span style=\"color: #008080;\"> 17</span> &#13;\n<span style=\"color: #008080;\"> 18</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> main(){&#13;\n</span><span style=\"color: #008080;\"> 19</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i,n;&#13;\n</span><span style=\"color: #008080;\"> 20</span>     freopen(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">xczdg.in</span><span style=\"color: #800000;\">\"</span>,<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">r</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,stdin);&#13;\n</span><span style=\"color: #008080;\"> 21</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Plese input P count :</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 22</span>     scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d</span><span style=\"color: #800000;\">\"</span>,&amp;<span style=\"color: #000000;\">n);&#13;\n</span><span style=\"color: #008080;\"> 23</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 24</span> <span style=\"color: #000000;\">    G g;&#13;\n</span><span style=\"color: #008080;\"> 25</span>     g.pcount =<span style=\"color: #000000;\"> n;&#13;\n</span><span style=\"color: #008080;\"> 26</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">g.p = (P *)malloc(sizeof(P)*n);</span>&#13;\n<span style=\"color: #008080;\"> 27</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;n;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 28</span>         scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d%*c</span><span style=\"color: #800000;\">\"</span>,&amp;<span style=\"color: #000000;\">g.p[i].count);&#13;\n</span><span style=\"color: #008080;\"> 29</span>         g.p[i].key =<span style=\"color: #000000;\"> getchar();&#13;\n</span><span style=\"color: #008080;\"> 30</span> <span style=\"color: #000000;\">        getchar();&#13;\n</span><span style=\"color: #008080;\"> 31</span>         <span style=\"color: #0000ff;\">char</span> ch,str[<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 32</span>         <span style=\"color: #0000ff;\">int</span> sp = <span style=\"color: #800080;\">0</span>,c=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 33</span>         <span style=\"color: #0000ff;\">while</span>((ch = getchar()) != <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\n</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 34</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">|</span><span style=\"color: #800000;\">\'</span> ==<span style=\"color: #000000;\"> ch){&#13;\n</span><span style=\"color: #008080;\"> 35</span>                 str[sp]=<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 36</span>                 g.p[i].value[c] = (<span style=\"color: #0000ff;\">char</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span>)*<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 37</span> <span style=\"color: #000000;\">                strcpy(g.p[i].value[c],str);&#13;\n</span><span style=\"color: #008080;\"> 38</span>                 sp = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 39</span>                 c++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 40</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 41</span>             <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 42</span>                     str[sp] =<span style=\"color: #000000;\"> ch;&#13;\n</span><span style=\"color: #008080;\"> 43</span>                     sp++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 44</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 45</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 46</span>         str[sp]=<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 47</span>         g.p[i].value[c] = (<span style=\"color: #0000ff;\">char</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span>)*<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 48</span> <span style=\"color: #000000;\">        strcpy(g.p[i].value[c],str);&#13;\n</span><span style=\"color: #008080;\"> 49</span> &#13;\n<span style=\"color: #008080;\"> 50</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%c=&gt;%s|%s\\n</span><span style=\"color: #800000;\">\"</span>,g.p[i].key,g.p[i].value[<span style=\"color: #800080;\">0</span>],g.p[i].value[<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\"> 51</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 52</span> &#13;\n<span style=\"color: #008080;\"> 53</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;n;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 54</span>         <span style=\"color: #0000ff;\">int</span> j = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 55</span>         <span style=\"color: #0000ff;\">for</span>(;j&lt;i;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 56</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 将间接左递归转换成直接左递归&#13;\n</span><span style=\"color: #008080;\"> 57</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 扫描Ai的开始符号，一定要是非终结符</span>&#13;\n<span style=\"color: #008080;\"> 58</span>             <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> k;&#13;\n</span><span style=\"color: #008080;\"> 59</span>             <span style=\"color: #0000ff;\">for</span>(k=<span style=\"color: #800080;\">0</span>;k&lt;g.p[i].count;k++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 60</span>                 <span style=\"color: #0000ff;\">char</span> i_start = g.p[i].value[k][<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 61</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">printf(\"%c\\n\",start);</span>&#13;\n<span style=\"color: #008080;\"> 62</span>                 <span style=\"color: #0000ff;\">if</span>(i_start==<span style=\"color: #000000;\">g.p[j].key){&#13;\n</span><span style=\"color: #008080;\"> 63</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 满足 Ai-&gt;Ajr</span>&#13;\n<span style=\"color: #008080;\"> 64</span>                     <span style=\"color: #0000ff;\">char</span> tmp[<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 65</span>                     <span style=\"color: #0000ff;\">char</span> fiel[<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 66</span>                     strcpy(fiel,&amp;g.p[i].value[k][<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\"> 67</span> &#13;\n<span style=\"color: #008080;\"> 68</span>                     strcpy(tmp,g.p[j].value[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\"> 69</span> <span style=\"color: #000000;\">                    strcpy(g.p[i].value[k],strcat(tmp,fiel));&#13;\n</span><span style=\"color: #008080;\"> 70</span>                     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d %s\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,k,g.p[i].value[k]);&#13;\n</span><span style=\"color: #008080;\"> 71</span>                     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> m;&#13;\n</span><span style=\"color: #008080;\"> 72</span>                     <span style=\"color: #0000ff;\">for</span>(m=<span style=\"color: #800080;\">1</span>;m&lt;g.p[j].count;m++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 73</span> <span style=\"color: #000000;\">                        strcpy(tmp,g.p[j].value[m]);&#13;\n</span><span style=\"color: #008080;\"> 74</span>                         g.p[i].value[g.p[i].count] = (<span style=\"color: #0000ff;\">char</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span>)*<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 75</span> <span style=\"color: #000000;\">                        strcpy(g.p[i].value[g.p[i].count],strcat(tmp,fiel));&#13;\n</span><span style=\"color: #008080;\"> 76</span>                         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d %s\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,g.p[i].count,g.p[i].value[g.p[i].count]);&#13;\n</span><span style=\"color: #008080;\"> 77</span>                         g.p[i].count++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 78</span> &#13;\n<span style=\"color: #008080;\"> 79</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\"> 80</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\"> 81</span> &#13;\n<span style=\"color: #008080;\"> 82</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 83</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 84</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 消除直接左递归&#13;\n</span><span style=\"color: #008080;\"> 85</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 扫描Pi.key 为产生式右部的所有产生式</span>&#13;\n<span style=\"color: #008080;\"> 86</span>         <span style=\"color: #0000ff;\">for</span>(j=<span style=\"color: #800080;\">0</span>;j&lt;g.p[i].count;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 87</span>             <span style=\"color: #0000ff;\">char</span> * pivj =<span style=\"color: #000000;\"> g.p[i].value[j];&#13;\n</span><span style=\"color: #008080;\"> 88</span>             <span style=\"color: #0000ff;\">if</span>(g.p[i].key == pivj[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">]){&#13;\n</span><span style=\"color: #008080;\"> 89</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 存在直接左递归</span>&#13;\n<span style=\"color: #008080;\"> 90</span>                 <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> m;&#13;\n</span><span style=\"color: #008080;\"> 91</span>                 <span style=\"color: #0000ff;\">for</span>(m=<span style=\"color: #800080;\">0</span>;m&lt;g.p[i].count;m++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 92</span>                     <span style=\"color: #0000ff;\">if</span>(m!=<span style=\"color: #000000;\">j){&#13;\n</span><span style=\"color: #008080;\"> 93</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> A-&gt;ρ1A\'|ρ2A\'|ρ3A\'    ρρσσαα</span>&#13;\n<span style=\"color: #008080;\"> 94</span>                         <span style=\"color: #0000ff;\">char</span> aci[<span style=\"color: #800080;\">2</span>] = {g.p[i].key-<span style=\"color: #800080;\">32</span>,<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 95</span>                         strcat(g.p[i].value[m],aci);         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 这里A\'直接已A的ASCII码值减32表示</span>&#13;\n<span style=\"color: #008080;\"> 96</span>                     }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 97</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> A\'-&gt;α1A\'|α2A\'|....|ε</span>&#13;\n<span style=\"color: #008080;\"> 98</span>                         g.p[g.pcount].key = g.p[i].key-<span style=\"color: #800080;\">32</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 99</span>                         g.p[g.pcount].value[<span style=\"color: #800080;\">0</span>] = (<span style=\"color: #0000ff;\">char</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span>)*<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">100</span>                         strcpy(g.p[g.pcount].value[<span style=\"color: #800080;\">0</span>],&amp;pivj[<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">101</span>                         <span style=\"color: #0000ff;\">char</span> aci[<span style=\"color: #800080;\">2</span>] = {g.p[g.pcount].key,<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">102</span>                         strcat(g.p[g.pcount].value[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">],aci);&#13;\n</span><span style=\"color: #008080;\">103</span>                         g.p[g.pcount].value[<span style=\"color: #800080;\">1</span>] = (<span style=\"color: #0000ff;\">char</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">char</span>)*<span style=\"color: #800080;\">255</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">104</span>                         strcpy(g.p[g.pcount].value[<span style=\"color: #800080;\">1</span>],<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">kong</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">105</span>                         g.p[g.pcount].count = <span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">106</span>                         g.p[i].value[j] =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\">107</span>                         g.pcount++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">108</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">109</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">110</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">111</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">112</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">113</span> &#13;\n<span style=\"color: #008080;\">114</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">115</span> &#13;\n<span style=\"color: #008080;\">116</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">\\n-----------------------\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">117</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 打印文法</span>&#13;\n<span style=\"color: #008080;\">118</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;g.pcount;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">119</span>         <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(g.p[i].key){&#13;\n</span><span style=\"color: #008080;\">120</span>             <span style=\"color: #0000ff;\">if</span>(g.p[i].key) printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%c=&gt;</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,g.p[i].key);&#13;\n</span><span style=\"color: #008080;\">121</span>             <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> j;&#13;\n</span><span style=\"color: #008080;\">122</span>             <span style=\"color: #0000ff;\">for</span>(j=<span style=\"color: #800080;\">0</span>;j&lt;g.p[i].count;j++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">123</span>                 <span style=\"color: #0000ff;\">if</span>(g.p[i].value[j]) printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%s </span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,g.p[i].value[j]);&#13;\n</span><span style=\"color: #008080;\">124</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">125</span>             printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">126</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">127</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">128</span>     <span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(g.p);&#13;\n</span><span style=\"color: #008080;\">129</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">130</span> }</pre>&#13;\n</div>&#13;\n<h2>运行结果</h2>&#13;\n<h4>（这里用2代替R\'，用kong代表空字符）</h4>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201506/252013284085770.png\" alt=\"\"/></p>&#13;\n<p> </p>&#13;\n<p class=\"NewStyle15\"> </p>&#13;\n<p class=\"NewStyle15\"> </p></div>',96,'2015-06-25 00:17:00','2016-07-31 10:21:38',12,'http://www.cnblogs.com/lvyahui/p/4600858.html',4600858),(490,'求算符文法的FIRSTVT集的算法','原理&#13;\n数据结构&#13;\n&#13;\n1 G = {\'','<div id=\"cnblogs_post_body\"><h3>原理</h3>&#13;\n<h2>数据结构</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> G = {<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">key</span><span style=\"color: #800000;\">\'</span>:[v1,v2,v3],<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">key</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">:[v1,v2,v3]};&#13;\n</span><span style=\"color: #008080;\">2</span> VN =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">3</span> Vt =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">4</span> FirstVT = {<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">key</span><span style=\"color: #800000;\">\'</span>:[v1,v2,v3],<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">key</span><span style=\"color: #800000;\">\'</span>:[v1,v2,v3]};</pre>&#13;\n</div>&#13;\n<p>也就是map里放list，同样将文法压缩，对于产生式相同的发到一个map元素里，追加到map元素对应的list后面</p>&#13;\n<h2>算法过程</h2>&#13;\n<p class=\"NewStyle15\">1、 先求出直接满足<span style=\"font-family: Calibri;\">A-&gt;a </span><span style=\"font-family: 宋体;\">或 </span><span style=\"font-family: Calibri;\">A-&gt;Ba</span><span style=\"font-family: 宋体;\">的文法的</span><span style=\"font-family: Calibri;\">A</span><span style=\"font-family: 宋体;\">的</span><span style=\"font-family: Calibri;\">FIRSTVT</span><span style=\"font-family: 宋体;\">集合</span></p>&#13;\n<p class=\"NewStyle15\">2、 扫描<span style=\"font-family: Calibri;\">FIRSTVT</span><span style=\"font-family: 宋体;\">集，将满足蔓延性公式的终结符加到非终结符的</span><span style=\"font-family: Calibri;\">FIRSTVT</span><span style=\"font-family: 宋体;\">集合中。蔓延性满足下面的条件</span></p>&#13;\n<p class=\"NewStyle15\" style=\"margin-left: 60px;\">若<span style=\"font-family: Calibri;\">a</span><span style=\"font-family: 宋体;\">属于</span><span style=\"font-family: Calibri;\">FIRSTVT(B) </span><span style=\"font-family: 宋体;\">且有产生式</span><span style=\"font-family: Calibri;\">A-&gt;B..... </span><span style=\"font-family: 宋体;\">则</span><span style=\"font-family: Calibri;\">a</span><span style=\"font-family: 宋体;\">属于</span><span style=\"font-family: Calibri;\">FIRSTVT(A)</span></p>&#13;\n<h2>输入</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> 8&#13;\n<span style=\"color: #008080;\">2</span> S-&gt;<span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">E#</span>&#13;\n<span style=\"color: #008080;\">3</span> E-&gt;E+<span style=\"color: #000000;\">T&#13;\n</span><span style=\"color: #008080;\">4</span> E-&gt;<span style=\"color: #000000;\">T&#13;\n</span><span style=\"color: #008080;\">5</span> T-&gt;T*<span style=\"color: #000000;\">F&#13;\n</span><span style=\"color: #008080;\">6</span> T-&gt;<span style=\"color: #000000;\">F&#13;\n</span><span style=\"color: #008080;\">7</span> F-&gt;P^F|<span style=\"color: #000000;\">P&#13;\n</span><span style=\"color: #008080;\">8</span> P-&gt;<span style=\"color: #000000;\">(E)&#13;\n</span><span style=\"color: #008080;\">9</span> P-&gt;i</pre>&#13;\n</div>&#13;\n<h2>完整算法</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">!/usr/bin/env python</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">-*-coding:utf8-*-</span>&#13;\n<span style=\"color: #008080;\"> 3</span> &#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">count = raw_input(\'Please input P count:\');</span>&#13;\n<span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">print \"Input all P:\\n\";</span>&#13;\n<span style=\"color: #008080;\"> 7</span> f = open(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">./2.in</span><span style=\"color: #800000;\">\"</span>, <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">r</span><span style=\"color: #800000;\">\'</span>,1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 8</span> count =<span style=\"color: #000000;\"> int(f.readline());&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">G = [];</span>&#13;\n<span style=\"color: #008080;\">10</span> G =<span style=\"color: #000000;\"> {};&#13;\n</span><span style=\"color: #008080;\">11</span> VN =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">12</span> Vt =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">13</span> FirstVT =<span style=\"color: #000000;\"> {};&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #0000ff;\">for</span> i <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> range(0,count):&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">key = raw_input(\"P key:\");</span>&#13;\n<span style=\"color: #008080;\">16</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">value = raw_input(\"P value:\");</span>&#13;\n<span style=\"color: #008080;\">17</span>     line =<span style=\"color: #000000;\"> f.readline().strip();&#13;\n</span><span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">print</span><span style=\"color: #000000;\"> line;&#13;\n</span><span style=\"color: #008080;\">19</span>     arr = line.split(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">-&gt;</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">20</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">P = {\'key\':key,\'value\':value};</span>&#13;\n<span style=\"color: #008080;\">21</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">P = {</span>&#13;\n<span style=\"color: #008080;\">22</span>         <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">\'key\':arr[0],</span>&#13;\n<span style=\"color: #008080;\">23</span>         <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">\'value\':arr[1]</span>&#13;\n<span style=\"color: #008080;\">24</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">};</span>&#13;\n<span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">    VN.append(arr[0]);&#13;\n</span><span style=\"color: #008080;\">26</span> &#13;\n<span style=\"color: #008080;\">27</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">G.append();</span>&#13;\n<span style=\"color: #008080;\">28</span>     <span style=\"color: #0000ff;\">if</span> arr[0] <span style=\"color: #0000ff;\">not</span> <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> G:&#13;\n</span><span style=\"color: #008080;\">29</span>         G[arr[0]] =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">30</span>     G[arr[0]].append(arr[1<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">print G;</span>&#13;\n<span style=\"color: #008080;\">32</span> &#13;\n<span style=\"color: #008080;\">33</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">for p in G:</span>&#13;\n<span style=\"color: #008080;\">34</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">a  = \'\';</span>&#13;\n<span style=\"color: #008080;\">35</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">if (p[\'value\'][0] not in VN):</span>&#13;\n<span style=\"color: #008080;\">36</span>         <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">a = p[\'value\'][0];</span>&#13;\n<span style=\"color: #008080;\">37</span>     <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">elif (len(p[\'value\']) &gt;= 2 ) and ( p[\'value\'][0] in VN):</span>&#13;\n<span style=\"color: #008080;\">38</span>         <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">a = p[\'value\'][1];</span>&#13;\n<span style=\"color: #008080;\">39</span> &#13;\n<span style=\"color: #008080;\">40</span> <span style=\"color: #0000ff;\">for</span> k <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> G:&#13;\n</span><span style=\"color: #008080;\">41</span>     vs =<span style=\"color: #000000;\"> G.get(k);&#13;\n</span><span style=\"color: #008080;\">42</span>     <span style=\"color: #0000ff;\">for</span> v <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> vs:&#13;\n</span><span style=\"color: #008080;\">43</span>         a = <span style=\"color: #800000;\">\'\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">44</span>         <span style=\"color: #0000ff;\">if</span> v[0] <span style=\"color: #0000ff;\">not</span> <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> VN:&#13;\n</span><span style=\"color: #008080;\">45</span>             a =<span style=\"color: #000000;\"> v[0];&#13;\n</span><span style=\"color: #008080;\">46</span>         <span style=\"color: #0000ff;\">elif</span> len(v) &gt;= 2 <span style=\"color: #0000ff;\">and</span> v[0] <span style=\"color: #0000ff;\">in</span> VN <span style=\"color: #0000ff;\">and</span> v[1] <span style=\"color: #0000ff;\">not</span> <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> VN:&#13;\n</span><span style=\"color: #008080;\">47</span>             a = v[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">48</span>     &#13;\n<span style=\"color: #008080;\">49</span>         <span style=\"color: #0000ff;\">if</span> k <span style=\"color: #0000ff;\">not</span> <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> FirstVT:&#13;\n</span><span style=\"color: #008080;\">50</span>             FirstVT[k] =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">51</span>         &#13;\n<span style=\"color: #008080;\">52</span>         <span style=\"color: #0000ff;\">if</span> a != <span style=\"color: #800000;\">\'\'</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">53</span>             <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">将形如 A-&gt;a 的 FirstVT[A] 添加进 a</span>&#13;\n<span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">            FirstVT[k].append(a);&#13;\n</span><span style=\"color: #008080;\">55</span> &#13;\n<span style=\"color: #008080;\">56</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">print FirstVT;</span>&#13;\n<span style=\"color: #008080;\">57</span> &#13;\n<span style=\"color: #008080;\">58</span> stack =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">59</span> &#13;\n<span style=\"color: #008080;\">60</span> <span style=\"color: #0000ff;\">for</span> _k <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> FirstVT:&#13;\n</span><span style=\"color: #008080;\">61</span>     _vs =<span style=\"color: #000000;\"> FirstVT.get(_k);&#13;\n</span><span style=\"color: #008080;\">62</span>     <span style=\"color: #0000ff;\">for</span> _v <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> _vs:&#13;\n</span><span style=\"color: #008080;\">63</span>         <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> 将 形如 A-&gt;a 的入栈</span>&#13;\n<span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">        stack.append([_k,_v]);&#13;\n</span><span style=\"color: #008080;\">65</span>         &#13;\n<span style=\"color: #008080;\">66</span> &#13;\n<span style=\"color: #008080;\">67</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">print stack;</span>&#13;\n<span style=\"color: #008080;\">68</span> &#13;\n<span style=\"color: #008080;\">69</span> <span style=\"color: #0000ff;\">while</span> len(stack) &gt;<span style=\"color: #000000;\"> 0:&#13;\n</span><span style=\"color: #008080;\">70</span>     ij =<span style=\"color: #000000;\">  stack.pop();&#13;\n</span><span style=\"color: #008080;\">71</span>     B =<span style=\"color: #000000;\"> ij[0];&#13;\n</span><span style=\"color: #008080;\">72</span>     a = ij[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">73</span>     <span style=\"color: #0000ff;\">for</span> A <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> G:&#13;\n</span><span style=\"color: #008080;\">74</span>         vvs =<span style=\"color: #000000;\"> G.get(A);&#13;\n</span><span style=\"color: #008080;\">75</span>         <span style=\"color: #0000ff;\">for</span> _vs <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> vvs:&#13;\n</span><span style=\"color: #008080;\">76</span>             <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> 存在形式如  A-&gt;B &amp;&amp;  f[ia,ja]为假</span>&#13;\n<span style=\"color: #008080;\">77</span>             <span style=\"color: #0000ff;\">if</span> _vs[0] == B <span style=\"color: #0000ff;\">and</span> A != B <span style=\"color: #0000ff;\">and</span> ( a <span style=\"color: #0000ff;\">not</span> <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> FirstVT.get(A) ):&#13;\n</span><span style=\"color: #008080;\">78</span> <span style=\"color: #000000;\">                FirstVT[A].append(a);&#13;\n</span><span style=\"color: #008080;\">79</span> <span style=\"color: #000000;\">                stack.append([A,a]);&#13;\n</span><span style=\"color: #008080;\">80</span> &#13;\n<span style=\"color: #008080;\">81</span> &#13;\n<span style=\"color: #008080;\">82</span> &#13;\n<span style=\"color: #008080;\">83</span> <span style=\"color: #008000;\">#</span><span style=\"color: #008000;\">print FirstVT;</span>&#13;\n<span style=\"color: #008080;\">84</span> &#13;\n<span style=\"color: #008080;\">85</span> <span style=\"color: #0000ff;\">print</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">------------------------------------------------</span><span style=\"color: #800000;\">\'</span>&#13;\n<span style=\"color: #008080;\">86</span> <span style=\"color: #0000ff;\">for</span> fk <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> FirstVT:&#13;\n</span><span style=\"color: #008080;\">87</span>     fv =<span style=\"color: #000000;\"> FirstVT.get(fk);&#13;\n</span><span style=\"color: #008080;\">88</span>     <span style=\"color: #0000ff;\">print</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">FIRSTVT(</span><span style=\"color: #800000;\">\'</span>,fk,<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">)={</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">,;&#13;\n</span><span style=\"color: #008080;\">89</span>     <span style=\"color: #0000ff;\">for</span> item <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> fv:&#13;\n</span><span style=\"color: #008080;\">90</span>         <span style=\"color: #0000ff;\">if</span> item != fv[-1<span style=\"color: #000000;\">] :&#13;\n</span><span style=\"color: #008080;\">91</span>             <span style=\"color: #0000ff;\">print</span> item,<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">,</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">,;&#13;\n</span><span style=\"color: #008080;\">92</span>         <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">93</span>             <span style=\"color: #0000ff;\">print</span><span style=\"color: #000000;\"> item,;&#13;\n</span><span style=\"color: #008080;\">94</span>     <span style=\"color: #0000ff;\">print</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">}\\n</span><span style=\"color: #800000;\">\'</span>,;</pre>&#13;\n</div>&#13;\n<h2>运行结果</h2>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201506/252028480339186.png\" alt=\"\"/></p>&#13;\n<p> </p></div>',93,'2015-06-25 00:33:00','2016-07-31 10:21:39',12,'http://www.cnblogs.com/lvyahui/p/4600881.html',4600881),(491,'求LR(0)文法的规范族集和ACTION表、GOTO表的构造算法','原理&#13;\n数据结构&#13;\n&#13;\n 1 //','<div id=\"cnblogs_post_body\"><h3>原理</h3>&#13;\n<h2>数据结构</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> GO</span>&#13;\n<span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\"> GO&#13;\n</span><span style=\"color: #008080;\"> 3</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 规范族集 C</span>&#13;\n<span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Integer,Map&lt;String,List&lt;String&gt;&gt;&gt;<span style=\"color: #000000;\"> C&#13;\n</span><span style=\"color: #008080;\"> 7</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer, Map&lt;String, List&lt;String&gt;&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文法 G</span>&#13;\n<span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;String,List&lt;String&gt;&gt; G = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String, List&lt;String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文法 G’</span>&#13;\n<span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> List&lt;String&gt; Gc = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">14</span> &#13;\n<span style=\"color: #008080;\">15</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文法的项目</span>&#13;\n<span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;String,List&lt;String&gt;&gt; GItems = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String, List&lt;String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">17</span> &#13;\n<span style=\"color: #008080;\">18</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> ACTION 表</span>&#13;\n<span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Map&lt;Integer,String&gt;,String&gt;<span style=\"color: #000000;\"> ACTION&#13;\n</span><span style=\"color: #008080;\">20</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Map&lt;Integer,String&gt;,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> GOTO 表</span>&#13;\n<span style=\"color: #008080;\">23</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\"> GOTO&#13;\n</span><span style=\"color: #008080;\">24</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Map&lt;Integer,String&gt;,Integer&gt;();</pre>&#13;\n</div>&#13;\n<p>这个结构很清晰，不解释</p>&#13;\n<h2>算法步骤</h2>&#13;\n<p>在每个文法适当位置插入特殊字符圈，构成新的文法的项目GItems,这一步可以在输入的时候完成</p>&#13;\n<p>例如有文法产生式为 </p>&#13;\n<p>E=[aA, bB]</p>&#13;\n<p>则得到的文法的项目应该是，这里用*号代表圈</p>&#13;\n<p>E=[*aA, a*A, aA*, *bB, b*B, bB*]</p>&#13;\n<p>根据文法的项目构造识别活前缀的有限自动机DFA，如图</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201506/252102100958010.jpg\" alt=\"\"/></p>&#13;\n<p>构造文法的规范族集</p>&#13;\n<p>按图以对其中的每一项编号即可得到规范族集C={I0,I1,I2,....,In}</p>&#13;\n<h2>输入</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> S\'-&gt;E&#13;\n<span style=\"color: #008080;\">2</span> E-&gt;aA|<span style=\"color: #000000;\">bB&#13;\n</span><span style=\"color: #008080;\">3</span> A-&gt;cA|<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">4</span> B-&gt;cB|d</pre>&#13;\n</div>&#13;\n<h2>完整算法</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.app;&#13;\n</span><span style=\"color: #008080;\">  2</span> &#13;\n<span style=\"color: #008080;\">  3</span> <span style=\"color: #0000ff;\">import</span> java.io.*<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">  4</span> <span style=\"color: #0000ff;\">import</span> java.util.*<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">  5</span> &#13;\n<span style=\"color: #008080;\">  6</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Main {&#13;\n</span><span style=\"color: #008080;\">  7</span> &#13;\n<span style=\"color: #008080;\">  8</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span>  Integer I = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">  9</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> GO</span>&#13;\n<span style=\"color: #008080;\"> 10</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\"> GO&#13;\n</span><span style=\"color: #008080;\"> 11</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 12</span> &#13;\n<span style=\"color: #008080;\"> 13</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 规范族集 C</span>&#13;\n<span style=\"color: #008080;\"> 14</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Integer,Map&lt;String,List&lt;String&gt;&gt;&gt;<span style=\"color: #000000;\"> C&#13;\n</span><span style=\"color: #008080;\"> 15</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer, Map&lt;String, List&lt;String&gt;&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 16</span> &#13;\n<span style=\"color: #008080;\"> 17</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文法 G</span>&#13;\n<span style=\"color: #008080;\"> 18</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;String,List&lt;String&gt;&gt; G = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String, List&lt;String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 19</span> &#13;\n<span style=\"color: #008080;\"> 20</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文法 G’</span>&#13;\n<span style=\"color: #008080;\"> 21</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> List&lt;String&gt; Gc = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 22</span> &#13;\n<span style=\"color: #008080;\"> 23</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文法的项目</span>&#13;\n<span style=\"color: #008080;\"> 24</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;String,List&lt;String&gt;&gt; GItems = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String, List&lt;String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 25</span> &#13;\n<span style=\"color: #008080;\"> 26</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> ACTION 表</span>&#13;\n<span style=\"color: #008080;\"> 27</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Map&lt;Integer,String&gt;,String&gt;<span style=\"color: #000000;\"> ACTION&#13;\n</span><span style=\"color: #008080;\"> 28</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Map&lt;Integer,String&gt;,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 29</span> &#13;\n<span style=\"color: #008080;\"> 30</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> GOTO 表</span>&#13;\n<span style=\"color: #008080;\"> 31</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\"> GOTO&#13;\n</span><span style=\"color: #008080;\"> 32</span>             = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Map&lt;Integer,String&gt;,Integer&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 33</span> &#13;\n<span style=\"color: #008080;\"> 34</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span> main(String[] args) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> Exception {&#13;\n</span><span style=\"color: #008080;\"> 35</span> &#13;\n<span style=\"color: #008080;\"> 36</span> &#13;\n<span style=\"color: #008080;\"> 37</span>         FileReader fr = <span style=\"color: #0000ff;\">new</span> FileReader(\"main.in\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 38</span>         BufferedReader br = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> BufferedReader(fr);&#13;\n</span><span style=\"color: #008080;\"> 39</span> &#13;\n<span style=\"color: #008080;\"> 40</span>         String line = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 41</span>         <span style=\"color: #0000ff;\">while</span>((line = br.readLine()) != <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 42</span> &#13;\n<span style=\"color: #008080;\"> 43</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 构造文法</span>&#13;\n<span style=\"color: #008080;\"> 44</span> &#13;\n<span style=\"color: #008080;\"> 45</span>             String [] pLine = line.split(\"-&gt;\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 46</span>             List&lt;String&gt; pLineValues = G.get(pLine[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\"> 47</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">null</span> == pLineValues) pLineValues = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 48</span>             pLineValues.addAll(Arrays.asList(pLine[1].split(\"\\\\|\"<span style=\"color: #000000;\">)));&#13;\n</span><span style=\"color: #008080;\"> 49</span>             G.put(pLine[0<span style=\"color: #000000;\">], pLineValues);&#13;\n</span><span style=\"color: #008080;\"> 50</span> &#13;\n<span style=\"color: #008080;\"> 51</span>             <span style=\"color: #0000ff;\">for</span><span style=\"color: #000000;\"> (String val : pLineValues){&#13;\n</span><span style=\"color: #008080;\"> 52</span>                 String pStr = pLine[0]+\"-&gt;\"+<span style=\"color: #000000;\">val;&#13;\n</span><span style=\"color: #008080;\"> 53</span>                 <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #000000;\">Gc.contains(pStr)) Gc.add(pStr);&#13;\n</span><span style=\"color: #008080;\"> 54</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 55</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 构造文法的项目，这里以*代替书上的圆点</span>&#13;\n<span style=\"color: #008080;\"> 56</span> &#13;\n<span style=\"color: #008080;\"> 57</span>             List&lt;String&gt; pItemValues = GItems.get(pLine[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\"> 58</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">null</span> == pItemValues) pItemValues = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 59</span>             <span style=\"color: #0000ff;\">for</span>(Iterator&lt;String&gt; iterator =<span style=\"color: #000000;\"> pLineValues.iterator();iterator.hasNext();){&#13;\n</span><span style=\"color: #008080;\"> 60</span>                 String pValueItem =<span style=\"color: #000000;\"> iterator.next();&#13;\n</span><span style=\"color: #008080;\"> 61</span>                 <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">int</span> i=0;i&lt;pValueItem.length();i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 62</span>                     String newItem = <span style=\"color: #0000ff;\">new</span> StringBuilder(pValueItem).insert(i, \"*\"<span style=\"color: #000000;\">).toString();&#13;\n</span><span style=\"color: #008080;\"> 63</span> <span style=\"color: #000000;\">                    pItemValues.add(newItem);&#13;\n</span><span style=\"color: #008080;\"> 64</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\"> 65</span>                 pItemValues.add(pValueItem+\"*\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 66</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 67</span>             GItems.put(pLine[0<span style=\"color: #000000;\">], pItemValues);&#13;\n</span><span style=\"color: #008080;\"> 68</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 69</span> <span style=\"color: #000000;\">        fr.close();&#13;\n</span><span style=\"color: #008080;\"> 70</span> <span style=\"color: #000000;\">        br.close();&#13;\n</span><span style=\"color: #008080;\"> 71</span> &#13;\n<span style=\"color: #008080;\"> 72</span>         System.out.println(\"文法G：\" +<span style=\"color: #000000;\"> G);&#13;\n</span><span style=\"color: #008080;\"> 73</span>         System.out.println(\"文法G\'：\"+<span style=\"color: #000000;\">Gc);&#13;\n</span><span style=\"color: #008080;\"> 74</span>         System.out.println(\"文法G的项目：\"+<span style=\"color: #000000;\">GItems);&#13;\n</span><span style=\"color: #008080;\"> 75</span> &#13;\n<span style=\"color: #008080;\"> 76</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 构造项目集规范族&#13;\n</span><span style=\"color: #008080;\"> 77</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 这里将问题稍稍简化，假设S\'对应的第一个项目为初态</span>&#13;\n<span style=\"color: #008080;\"> 78</span>         initC(\"S\'\", \"*E\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 79</span>         System.out.println(\"C：\"+<span style=\"color: #000000;\">C);&#13;\n</span><span style=\"color: #008080;\"> 80</span>         System.out.println(\"GO：\"+<span style=\"color: #000000;\">GO);&#13;\n</span><span style=\"color: #008080;\"> 81</span> &#13;\n<span style=\"color: #008080;\"> 82</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 构造ACTION表和GOTO表&#13;\n</span><span style=\"color: #008080;\"> 83</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 首先考虑最开始的情况</span>&#13;\n<span style=\"color: #008080;\"> 84</span>         Map&lt;Integer,String&gt; acKey = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 85</span>         acKey.put(0,\"#\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 86</span>         ACTION.put(acKey,\"acc\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 87</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 遍历 项目集规范族 C</span>&#13;\n<span style=\"color: #008080;\"> 88</span>         <span style=\"color: #0000ff;\">for</span>(Iterator&lt;Map.Entry&lt;Integer,Map&lt;String,List&lt;String&gt;&gt;&gt;&gt;<span style=\"color: #000000;\"> iterator&#13;\n</span><span style=\"color: #008080;\"> 89</span>             =<span style=\"color: #000000;\"> C.entrySet().iterator();&#13;\n</span><span style=\"color: #008080;\"> 90</span> <span style=\"color: #000000;\">            iterator.hasNext();){&#13;\n</span><span style=\"color: #008080;\"> 91</span>             Map.Entry&lt;Integer,Map&lt;String,List&lt;String&gt;&gt;&gt;<span style=\"color: #000000;\"> CI&#13;\n</span><span style=\"color: #008080;\"> 92</span>                     =<span style=\"color: #000000;\"> iterator.next();&#13;\n</span><span style=\"color: #008080;\"> 93</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(iterator.next());&#13;\n</span><span style=\"color: #008080;\"> 94</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 扫描 CI ,switch判断每条文法</span>&#13;\n<span style=\"color: #008080;\"> 95</span>             <span style=\"color: #0000ff;\">int</span> k =<span style=\"color: #000000;\"> CI.getKey();&#13;\n</span><span style=\"color: #008080;\"> 96</span>             Map&lt;String,List&lt;String&gt;&gt; values =<span style=\"color: #000000;\"> CI.getValue();&#13;\n</span><span style=\"color: #008080;\"> 97</span>             <span style=\"color: #0000ff;\">for</span> (Iterator&lt;Map.Entry&lt;String,List&lt;String&gt;&gt;&gt;<span style=\"color: #000000;\"> mapIterator&#13;\n</span><span style=\"color: #008080;\"> 98</span>                  =<span style=\"color: #000000;\"> values.entrySet().iterator();mapIterator.hasNext();){&#13;\n</span><span style=\"color: #008080;\"> 99</span>                 Map.Entry&lt;String,List&lt;String&gt;&gt; value =<span style=\"color: #000000;\"> mapIterator.next();&#13;\n</span><span style=\"color: #008080;\">100</span>                 String pLeft =<span style=\"color: #000000;\"> value.getKey();&#13;\n</span><span style=\"color: #008080;\">101</span>                 List&lt;String&gt; pRightValues =<span style=\"color: #000000;\"> value.getValue();&#13;\n</span><span style=\"color: #008080;\">102</span>                 <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> x = 0;x&lt;pRightValues.size();x++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">103</span>                     String pRightVal =<span style=\"color: #000000;\"> pRightValues.get(x);&#13;\n</span><span style=\"color: #008080;\">104</span>                     System.out.println(\"K:\"+k+\" \"+pLeft+\"-&gt;\"+<span style=\"color: #000000;\">pRightVal);&#13;\n</span><span style=\"color: #008080;\">105</span>                     String a = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">106</span>                     Integer GOka = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">107</span>                     Map&lt;Integer,String&gt; ka = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">108</span> &#13;\n<span style=\"color: #008080;\">109</span>                     <span style=\"color: #0000ff;\">if</span>(pRightVal.matches(\"\\\\w*\\\\*[a-z]{1}\\\\w*\"<span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">110</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 形如 A-&gt; 。。。。 书上第一种情况</span>&#13;\n<span style=\"color: #008080;\">111</span>                         a = pRightVal.charAt(pRightVal.indexOf(\"*\")+1)+\"\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">112</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> System.out.println(a);</span>&#13;\n<span style=\"color: #008080;\">113</span> <span style=\"color: #000000;\">                        ka.put(k, a);&#13;\n</span><span style=\"color: #008080;\">114</span>                         <span style=\"color: #0000ff;\">int</span> j =<span style=\"color: #000000;\"> GO.get(ka);&#13;\n</span><span style=\"color: #008080;\">115</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> System.out.println(j);</span>&#13;\n<span style=\"color: #008080;\">116</span>                         Map&lt;Integer,String&gt; key = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">117</span> <span style=\"color: #000000;\">                        key.put(k,a);&#13;\n</span><span style=\"color: #008080;\">118</span>                         ACTION.put(key,\"S\"+<span style=\"color: #000000;\">j);&#13;\n</span><span style=\"color: #008080;\">119</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">120</span>                     <span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(pRightVal.matches(\"\\\\w*\\\\*$\"<span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">121</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 形如书上第二种情况&#13;\n</span><span style=\"color: #008080;\">122</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 扫描这个文法串</span>&#13;\n<span style=\"color: #008080;\">123</span>                         <span style=\"color: #0000ff;\">int</span> j = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">124</span>                         j = Gc.indexOf(pLeft+\"-&gt;\"&#13;\n<span style=\"color: #008080;\">125</span>                                 +pRightVal.substring(0,pRightVal.length()-1<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">126</span>                         <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> r = 0;r&lt;pRightVal.length();r++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">127</span>                             <span style=\"color: #0000ff;\">char</span> vti =<span style=\"color: #000000;\"> pRightVal.charAt(r);&#13;\n</span><span style=\"color: #008080;\">128</span>                             <span style=\"color: #0000ff;\">if</span>(vti &gt;= \'a\' &amp;&amp; vti &lt;= \'z\'<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">129</span>                                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 是非终结符&#13;\n</span><span style=\"color: #008080;\">130</span>                                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 置ACTION[k,a] 为 rj</span>&#13;\n<span style=\"color: #008080;\">131</span>                                 Map&lt;Integer,String&gt; key = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">132</span>                                 key.put(k,vti+\"\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">133</span>                                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 在G‘中查找A-&gt;r 得到j</span>&#13;\n<span style=\"color: #008080;\">134</span> &#13;\n<span style=\"color: #008080;\">135</span>                                 <span style=\"color: #0000ff;\">if</span>(j&gt;=0) ACTION.put(key,\"r\"+<span style=\"color: #000000;\">j);&#13;\n</span><span style=\"color: #008080;\">136</span> <span style=\"color: #000000;\">                            }&#13;\n</span><span style=\"color: #008080;\">137</span> <span style=\"color: #000000;\">                        }&#13;\n</span><span style=\"color: #008080;\">138</span>                         Map&lt;Integer,String&gt; key = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">139</span>                         key.put(k,\"#\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">140</span>                         ACTION.put(key,\"r\"+<span style=\"color: #000000;\">j);&#13;\n</span><span style=\"color: #008080;\">141</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">142</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">143</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">144</span> &#13;\n<span style=\"color: #008080;\">145</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">146</span> &#13;\n<span style=\"color: #008080;\">147</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> GOTO表&#13;\n</span><span style=\"color: #008080;\">148</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 判断 GO（Ik,A） == Ij&#13;\n</span><span style=\"color: #008080;\">149</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 扫描 GO 表</span>&#13;\n<span style=\"color: #008080;\">150</span>         <span style=\"color: #0000ff;\">for</span> (Iterator&lt;Map.Entry&lt;Map&lt;Integer,String&gt;,Integer&gt;&gt; goit =<span style=\"color: #000000;\"> GO.entrySet().iterator();&#13;\n</span><span style=\"color: #008080;\">151</span> <span style=\"color: #000000;\">             goit.hasNext();){&#13;\n</span><span style=\"color: #008080;\">152</span>             Map.Entry&lt;Map&lt;Integer,String&gt;,Integer&gt; goi =<span style=\"color: #000000;\"> goit.next();&#13;\n</span><span style=\"color: #008080;\">153</span>             Map&lt;Integer,String&gt; gKey =<span style=\"color: #000000;\"> goi.getKey();&#13;\n</span><span style=\"color: #008080;\">154</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(\"gKey:\"+gKey);</span>&#13;\n<span style=\"color: #008080;\">155</span>             <span style=\"color: #0000ff;\">int</span> k =((Integer) gKey.keySet().toArray()[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">156</span>             <span style=\"color: #0000ff;\">char</span> A = ((String)gKey.values().toArray()[0]).charAt(0<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">157</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            System.out.println(A);</span>&#13;\n<span style=\"color: #008080;\">158</span>             <span style=\"color: #0000ff;\">if</span>(A &gt;= \'A\' &amp;&amp; A &lt;= \'Z\'<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">159</span>                 Map&lt;Integer,String&gt; gotoKey = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">160</span>                 gotoKey.put(k,A+\"\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">161</span> <span style=\"color: #000000;\">                GOTO.put(gotoKey,goi.getValue());&#13;\n</span><span style=\"color: #008080;\">162</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">163</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">164</span> &#13;\n<span style=\"color: #008080;\">165</span>         System.out.println(\"ACTION 表：\"+<span style=\"color: #000000;\">ACTION);&#13;\n</span><span style=\"color: #008080;\">166</span>         System.out.println(\"GOTO 表：\"+<span style=\"color: #000000;\">GOTO);&#13;\n</span><span style=\"color: #008080;\">167</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">168</span> &#13;\n<span style=\"color: #008080;\">169</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> initC(String start, String pValue) {&#13;\n</span><span style=\"color: #008080;\">170</span> &#13;\n<span style=\"color: #008080;\">171</span>         Map&lt;String,List&lt;String&gt;&gt; CI =  <span style=\"color: #0000ff;\">new</span> HashMap&lt;String,List&lt;String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">172</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">List&lt;String&gt; pValues = GItems.get(start);</span>&#13;\n<span style=\"color: #008080;\">173</span>         List&lt;String&gt; startCIValues = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">174</span> <span style=\"color: #000000;\">        startCIValues.add(pValue);&#13;\n</span><span style=\"color: #008080;\">175</span> <span style=\"color: #000000;\">        CI.put(start, startCIValues);&#13;\n</span><span style=\"color: #008080;\">176</span> &#13;\n<span style=\"color: #008080;\">177</span>         System.out.println(start + \"-&gt;\" +<span style=\"color: #000000;\"> pValue);&#13;\n</span><span style=\"color: #008080;\">178</span> &#13;\n<span style=\"color: #008080;\">179</span> &#13;\n<span style=\"color: #008080;\">180</span>         <span style=\"color: #0000ff;\">int</span> new_index = pValue.indexOf(\"*\") + 1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">181</span>         <span style=\"color: #0000ff;\">if</span>(new_index !=<span style=\"color: #000000;\"> pValue.length()){&#13;\n</span><span style=\"color: #008080;\">182</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 找到key为E（newStart）的右部以*a(这里a是终结符)的产生式，一并加到CI中</span>&#13;\n<span style=\"color: #008080;\">183</span>             String newStart = pValue.substring(new_index,new_index+1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">184</span>             List&lt;String&gt; seValues =<span style=\"color: #000000;\"> GItems.get(newStart);&#13;\n</span><span style=\"color: #008080;\">185</span> &#13;\n<span style=\"color: #008080;\">186</span>             List&lt;String&gt; newStartCIValues =<span style=\"color: #000000;\"> newStart.equals(start)&#13;\n</span><span style=\"color: #008080;\">187</span>                     ? startCIValues : <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">188</span> &#13;\n<span style=\"color: #008080;\">189</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(seValues);</span>&#13;\n<span style=\"color: #008080;\">190</span>             <span style=\"color: #0000ff;\">for</span><span style=\"color: #000000;\"> (String value : seValues){&#13;\n</span><span style=\"color: #008080;\">191</span>                 <span style=\"color: #0000ff;\">if</span>(value.matches(\"^\\\\*[a-z]{1}\\\\w*\"<span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">192</span> <span style=\"color: #000000;\">                    newStartCIValues.add(value);&#13;\n</span><span style=\"color: #008080;\">193</span>                     System.out.println(newStart+\"-&gt;\"+<span style=\"color: #000000;\">value);&#13;\n</span><span style=\"color: #008080;\">194</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">195</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">196</span> &#13;\n<span style=\"color: #008080;\">197</span> <span style=\"color: #000000;\">            CI.put(newStart, newStartCIValues);&#13;\n</span><span style=\"color: #008080;\">198</span> &#13;\n<span style=\"color: #008080;\">199</span> <span style=\"color: #000000;\">            C.put(I,CI);&#13;\n</span><span style=\"color: #008080;\">200</span>             <span style=\"color: #0000ff;\">int</span> curI =<span style=\"color: #000000;\"> I;&#13;\n</span><span style=\"color: #008080;\">201</span>             I++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">202</span> &#13;\n<span style=\"color: #008080;\">203</span>             String VC = \"\"+<span style=\"color: #000000;\">pValue.charAt(new_index);&#13;\n</span><span style=\"color: #008080;\">204</span>             Map&lt;Integer,String&gt; GOI = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">205</span> <span style=\"color: #000000;\">            GOI.put(curI,VC);&#13;\n</span><span style=\"color: #008080;\">206</span> <span style=\"color: #000000;\">            GO.put(GOI,I);&#13;\n</span><span style=\"color: #008080;\">207</span> &#13;\n<span style=\"color: #008080;\">208</span> &#13;\n<span style=\"color: #008080;\">209</span>             System.out.println(\"------------\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">210</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 将第一条程式的圆点移动到下一位</span>&#13;\n<span style=\"color: #008080;\">211</span>             StringBuilder sb = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> StringBuilder(pValue);&#13;\n</span><span style=\"color: #008080;\">212</span>             sb.deleteCharAt(new_index-1).insert(new_index, \"*\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">213</span>             String newPValue =<span style=\"color: #000000;\"> sb.toString();&#13;\n</span><span style=\"color: #008080;\">214</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 对第一条程式进行递归查找</span>&#13;\n<span style=\"color: #008080;\">215</span> <span style=\"color: #000000;\">            initC(start, sb.toString());&#13;\n</span><span style=\"color: #008080;\">216</span> &#13;\n<span style=\"color: #008080;\">217</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 将下面程式的原点移动到下一位</span>&#13;\n<span style=\"color: #008080;\">218</span>             <span style=\"color: #0000ff;\">for</span><span style=\"color: #000000;\">(String value : newStartCIValues){&#13;\n</span><span style=\"color: #008080;\">219</span> &#13;\n<span style=\"color: #008080;\">220</span> &#13;\n<span style=\"color: #008080;\">221</span> &#13;\n<span style=\"color: #008080;\">222</span>                 sb.delete(0<span style=\"color: #000000;\">, sb.length());&#13;\n</span><span style=\"color: #008080;\">223</span> <span style=\"color: #000000;\">                sb.append(value);&#13;\n</span><span style=\"color: #008080;\">224</span>                 <span style=\"color: #0000ff;\">int</span> x_index = sb.indexOf(\"*\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">225</span> &#13;\n<span style=\"color: #008080;\">226</span>                 VC = \"\"+value.charAt(x_index+1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">227</span>                 GOI = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">228</span> <span style=\"color: #000000;\">                GOI.put(curI,VC);&#13;\n</span><span style=\"color: #008080;\">229</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 下移一位</span>&#13;\n<span style=\"color: #008080;\">230</span>                 sb.deleteCharAt(x_index).insert(x_index + 1, \"*\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">231</span>                 <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #000000;\">pValue.equals(sb.toString())){&#13;\n</span><span style=\"color: #008080;\">232</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 判断C当中是否已经存在这个程式</span>&#13;\n<span style=\"color: #008080;\">233</span>                     Map&lt;String,List&lt;String&gt;&gt; _this = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String,List&lt;String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">234</span>                     List&lt;String&gt; v = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">235</span> <span style=\"color: #000000;\">                    v.add(sb.toString());&#13;\n</span><span style=\"color: #008080;\">236</span> <span style=\"color: #000000;\">                    _this.put(newStart,v);&#13;\n</span><span style=\"color: #008080;\">237</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 查找是否已经存在这个CI了</span>&#13;\n<span style=\"color: #008080;\">238</span>                     <span style=\"color: #0000ff;\">boolean</span> has = <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">239</span>                     <span style=\"color: #0000ff;\">int</span> exist_key = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">240</span>                     Set&lt;Integer&gt; keys =<span style=\"color: #000000;\"> C.keySet();&#13;\n</span><span style=\"color: #008080;\">241</span>                     <span style=\"color: #0000ff;\">for</span><span style=\"color: #000000;\"> (Integer key : keys){&#13;\n</span><span style=\"color: #008080;\">242</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 找到这个ID</span>&#13;\n<span style=\"color: #008080;\">243</span>                         <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(C.get(key).equals(_this)){&#13;\n</span><span style=\"color: #008080;\">244</span>                             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(\"存在重复\");</span>&#13;\n<span style=\"color: #008080;\">245</span>                             has = <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">246</span>                             exist_key =<span style=\"color: #000000;\"> key;&#13;\n</span><span style=\"color: #008080;\">247</span>                             <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">248</span> <span style=\"color: #000000;\">                        }&#13;\n</span><span style=\"color: #008080;\">249</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">250</span>                     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(has){&#13;\n</span><span style=\"color: #008080;\">251</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(\"存在重复\");&#13;\n</span><span style=\"color: #008080;\">252</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 将 GO 的值 指向这个已经存在的</span>&#13;\n<span style=\"color: #008080;\">253</span> <span style=\"color: #000000;\">                        GO.put(GOI,exist_key);&#13;\n</span><span style=\"color: #008080;\">254</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">255</span>                     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">256</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 正常新建一个CI</span>&#13;\n<span style=\"color: #008080;\">257</span> <span style=\"color: #000000;\">                        GO.put(GOI,I);&#13;\n</span><span style=\"color: #008080;\">258</span> <span style=\"color: #000000;\">                        initC(newStart, sb.toString());&#13;\n</span><span style=\"color: #008080;\">259</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">260</span>                 }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">261</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 指向自身&#13;\n</span><span style=\"color: #008080;\">262</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(\"指向自身\");</span>&#13;\n<span style=\"color: #008080;\">263</span> <span style=\"color: #000000;\">                    GO.put(GOI,curI);&#13;\n</span><span style=\"color: #008080;\">264</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">265</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">266</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">267</span>         <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">268</span>             System.out.println(\"------------\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">269</span> <span style=\"color: #000000;\">            C.put(I,CI);&#13;\n</span><span style=\"color: #008080;\">270</span>             I++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">271</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">272</span> &#13;\n<span style=\"color: #008080;\">273</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">274</span> &#13;\n<span style=\"color: #008080;\">275</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<h2>运行结果</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> 文法G：{E=[aA, bB], S\'=[E], A=[cA, d], B=[cB, d]}&#13;\n<span style=\"color: #008080;\"> 2</span> 文法G\'：[S\'-&gt;E, E-&gt;aA, E-&gt;bB, A-&gt;cA, A-&gt;d, B-&gt;cB, B-&gt;<span style=\"color: #000000;\">d]&#13;\n</span><span style=\"color: #008080;\"> 3</span> 文法G的项目：{E=[*aA, a*A, aA*, *bB, b*B, bB*], S\'=[*E, E*], A=[*cA, c*A, cA*, *d, d*], B=[*cB, c*B, cB*, *d, d*]}&#13;\n<span style=\"color: #008080;\"> 4</span> S\'-&gt;*E&#13;\n<span style=\"color: #008080;\"> 5</span> E-&gt;*<span style=\"color: #000000;\">aA&#13;\n</span><span style=\"color: #008080;\"> 6</span> E-&gt;*<span style=\"color: #000000;\">bB&#13;\n</span><span style=\"color: #008080;\"> 7</span> ------------&#13;\n<span style=\"color: #008080;\"> 8</span> S\'-&gt;E*&#13;\n<span style=\"color: #008080;\"> 9</span> ------------&#13;\n<span style=\"color: #008080;\">10</span> E-&gt;a*<span style=\"color: #000000;\">A&#13;\n</span><span style=\"color: #008080;\">11</span> A-&gt;*<span style=\"color: #000000;\">cA&#13;\n</span><span style=\"color: #008080;\">12</span> A-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">13</span> ------------&#13;\n<span style=\"color: #008080;\">14</span> E-&gt;aA*&#13;\n<span style=\"color: #008080;\">15</span> ------------&#13;\n<span style=\"color: #008080;\">16</span> A-&gt;c*<span style=\"color: #000000;\">A&#13;\n</span><span style=\"color: #008080;\">17</span> A-&gt;*<span style=\"color: #000000;\">cA&#13;\n</span><span style=\"color: #008080;\">18</span> A-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">19</span> ------------&#13;\n<span style=\"color: #008080;\">20</span> A-&gt;cA*&#13;\n<span style=\"color: #008080;\">21</span> ------------&#13;\n<span style=\"color: #008080;\">22</span> A-&gt;d*&#13;\n<span style=\"color: #008080;\">23</span> ------------&#13;\n<span style=\"color: #008080;\">24</span> E-&gt;b*<span style=\"color: #000000;\">B&#13;\n</span><span style=\"color: #008080;\">25</span> B-&gt;*<span style=\"color: #000000;\">cB&#13;\n</span><span style=\"color: #008080;\">26</span> B-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">27</span> ------------&#13;\n<span style=\"color: #008080;\">28</span> E-&gt;bB*&#13;\n<span style=\"color: #008080;\">29</span> ------------&#13;\n<span style=\"color: #008080;\">30</span> B-&gt;c*<span style=\"color: #000000;\">B&#13;\n</span><span style=\"color: #008080;\">31</span> B-&gt;*<span style=\"color: #000000;\">cB&#13;\n</span><span style=\"color: #008080;\">32</span> B-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">33</span> ------------&#13;\n<span style=\"color: #008080;\">34</span> B-&gt;cB*&#13;\n<span style=\"color: #008080;\">35</span> ------------&#13;\n<span style=\"color: #008080;\">36</span> B-&gt;d*&#13;\n<span style=\"color: #008080;\">37</span> ------------&#13;\n<span style=\"color: #008080;\">38</span> C：{0={E=[*aA, *bB], S\'=[*E]}, 1={S\'=[E*]}, 2={E=[a*A], A=[*cA, *d]}, 3={E=[aA*]}, 4={A=[c*A, *cA, *d]}, 5={A=[cA*]}, 6={A=[d*]}, 7={E=[b*B], B=[*cB, *d]}, 8={E=[bB*]}, 9={B=[c*B, *cB, *d]}, 10={B=[cB*]}, 11={B=[d*<span style=\"color: #000000;\">]}}&#13;\n</span><span style=\"color: #008080;\">39</span> GO：{{2=d}=6, {7=B}=8, {4=c}=4, {4=A}=5, {0=E}=1, {7=c}=9, {0=b}=7, {7=d}=11, {4=d}=6, {2=c}=4, {2=A}=3, {0=a}=2, {9=d}=11, {9=c}=9, {9=B}=10<span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">40</span> K:0 E-&gt;*<span style=\"color: #000000;\">aA&#13;\n</span><span style=\"color: #008080;\">41</span> K:0 E-&gt;*<span style=\"color: #000000;\">bB&#13;\n</span><span style=\"color: #008080;\">42</span> K:0 S\'-&gt;*E&#13;\n<span style=\"color: #008080;\">43</span> K:1 S\'-&gt;E*&#13;\n<span style=\"color: #008080;\">44</span> K:2 E-&gt;a*<span style=\"color: #000000;\">A&#13;\n</span><span style=\"color: #008080;\">45</span> K:2 A-&gt;*<span style=\"color: #000000;\">cA&#13;\n</span><span style=\"color: #008080;\">46</span> K:2 A-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">47</span> K:3 E-&gt;aA*&#13;\n<span style=\"color: #008080;\">48</span> K:4 A-&gt;c*<span style=\"color: #000000;\">A&#13;\n</span><span style=\"color: #008080;\">49</span> K:4 A-&gt;*<span style=\"color: #000000;\">cA&#13;\n</span><span style=\"color: #008080;\">50</span> K:4 A-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">51</span> K:5 A-&gt;cA*&#13;\n<span style=\"color: #008080;\">52</span> K:6 A-&gt;d*&#13;\n<span style=\"color: #008080;\">53</span> K:7 E-&gt;b*<span style=\"color: #000000;\">B&#13;\n</span><span style=\"color: #008080;\">54</span> K:7 B-&gt;*<span style=\"color: #000000;\">cB&#13;\n</span><span style=\"color: #008080;\">55</span> K:7 B-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">56</span> K:8 E-&gt;bB*&#13;\n<span style=\"color: #008080;\">57</span> K:9 B-&gt;c*<span style=\"color: #000000;\">B&#13;\n</span><span style=\"color: #008080;\">58</span> K:9 B-&gt;*<span style=\"color: #000000;\">cB&#13;\n</span><span style=\"color: #008080;\">59</span> K:9 B-&gt;*<span style=\"color: #000000;\">d&#13;\n</span><span style=\"color: #008080;\">60</span> K:10 B-&gt;cB*&#13;\n<span style=\"color: #008080;\">61</span> K:11 B-&gt;d*&#13;\n<span style=\"color: #008080;\">62</span> ACTION 表：{{1=#}=r0, {2=d}=S6, {5=c}=r3, {0=#}=acc, {4=c}=S4, {7=c}=S9, {3=#}=r1, {6=d}=r4, {0=b}=S7, {3=a}=r1, {5=#}=r3, {7=d}=S11, {4=d}=S6, {6=#}=r4, {0=a}=S2, {2=c}=S4, {11=d}=r6, {8=#}=r2, {11=#}=r6, {10=#}=r5, {9=d}=S11, {9=c}=S9, {8=b}=r2, {10=c}=<span style=\"color: #000000;\">r5}&#13;\n</span><span style=\"color: #008080;\">63</span> GOTO 表：{{0=E}=1, {4=A}=5, {7=B}=8, {2=A}=3, {9=B}=10<span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">64</span> &#13;\n<span style=\"color: #008080;\">65</span> Process finished with exit code 0</pre>&#13;\n</div>&#13;\n<p> </p></div>',104,'2015-06-25 01:08:00','2016-07-31 10:21:40',12,'http://www.cnblogs.com/lvyahui/p/4600951.html',4600951),(492,'fedora22 无法联网的情况下rpm安装gcc5.1','前天发生件很不幸的事。我在给ubuntu14.04安装NVIDIA显卡驱动的时候，想清空下一个目录，什么目录我也忘了，当时我正好切到root身份（平常我很少切root的），命令格式如下&#13;\n&#13;\n','<div id=\"cnblogs_post_body\"><p>前天发生件很不幸的事。我在给ubuntu14.04安装NVIDIA显卡驱动的时候，想清空下一个目录，什么目录我也忘了，当时我正好切到root身份（平常我很少切root的），命令格式如下</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">rm</span> -fr *</pre>&#13;\n</div>&#13;\n<p>不知道为什么目录下的文件一个都没删掉，于是把命令换了下，</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">rm</span> -fr .<span style=\"color: #008000;\">/*</span></pre>&#13;\n</div>&#13;\n<p>然后，发现好像起作用了，卡在哪里了………… 仔细一看，不对，少了个\'<span style=\"color: #ff0000;\">.</span>\'，我敲成了</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">rm</span> -fr <span style=\"color: #008000;\">/*</span></pre>&#13;\n</div>&#13;\n<p>这下悲剧了，等我ctrl+c时，一切都晚了。连ls，cd。。命令都没了。home目录下也删的差不多了。</p>&#13;\n<p>这已经是我第二次出这种错误了，上次是rm -fr path/* 写成了 rm -fr path/ *。注意着中间的空格。这个命令还是慎用慎用，下次一定要学会linux系统备份</p>&#13;\n<p>好在除了我写了一天的代码，别的东西都不太重要。最可惜的是我花了近两天的时间配置好的开发环境都没了。</p>&#13;\n<p>我的开发环境是这样的。</p>&#13;\n<ul><li>gnome3 桌面</li>&#13;\n<li>chrome42</li>&#13;\n<li>shell:oh-my-zsh</li>&#13;\n<li>vim:spf13-vim</li>&#13;\n<li>svn,git</li>&#13;\n<li>nginx+mysql+php</li>&#13;\n<li>tomcat，ant</li>&#13;\n<li>mysql-workbench</li>&#13;\n<li>idea系列：idea，PhpStorm，WebStorm。</li>&#13;\n<li>wingide5</li>&#13;\n<li>lessc和node</li>&#13;\n<li>等等</li>&#13;\n</ul><p>上面是我常用的一些工具。linux最让我喜欢的就是他的shell，自打装了zsh shell和spf13-vim之后，终端操作变的越来越简单快捷，我发现我越来越喜欢这样的开发环境了。</p>&#13;\n<p>当然ubuntu装这些东西并不难，而且ubuntu除了apt软件包管理器，现在又有了aptitude管理器，这个更强大，不知道他跟apt是什么关系。</p>&#13;\n<p>好了，前面扯了这么多，回到正题上，我打算重新配置一个linux开发环境。这次我打算选择redhat系列的，个人比较熟悉的是centos，fedora，ubuntu三款系统，至于gentoo，openSUSE之类高大上的我也没折腾过，毕竟我不是专业搞运维的，所以我对linux钻的也不是很深，像redhat系列或者debian跟人觉得除了软件包管理和打包方式不同之外，其他的我也说不出太多不同来，所以我用哪个都行，之所以不想继续用ubuntu是因为我在上面装NVIDIA驱动要么装不上要么装上了就进不了桌面，可能是lightdm和gdm的区别，也不跟我换过一次桌面系统有关，而不装NVIDIA显卡驱动我总觉得电脑有点卡，内存经常被用光。再者我觉得现在企业应该用centos还是居多。</p>&#13;\n<p>所以我选择了fedora22，安装版本为Fedora-Live-Workstation-x86_64-22-3.iso，双系统安装，与win8.1双引导，uefi。至于这么装的就不啰嗦了，这年头装个系统没什么难度。</p>&#13;\n<p>安装好之后，进入桌面，发现不能连无线网络。好，拿出以前的无线网卡驱动。源代码安装的驱动。打开终端，才发现，tmd没有gcc，我怎么把这个忘了，以前装过一次，那次插上网线就有网，直接 。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">yum</span> <span style=\"color: #0000ff;\">install</span> kernel-headers kernel-devel <span style=\"color: #0000ff;\">gcc</span></pre>&#13;\n</div>&#13;\n<p>啥问题都结局了，这次就惨了，学校里没有能插上就能用的有线网络。</p>&#13;\n<p>好了，现在陷入了一个死结了，要装无线网卡驱动，就要先装gcc，要装gcc就要先联网，要联网，就要装无线网卡驱动。。。</p>&#13;\n<p>罢了，切到win8.1，下载gcc的rpm包进行rpm安装吧。</p>&#13;\n<p>在这个网址可以搜到所需的gcc的包</p>&#13;\n<p><a href=\"http://www.rpmfind.net/linux/rpm2html/search.php\">http://www.rpmfind.net/linux/rpm2html/search.php</a></p>&#13;\n<p>libgcc-5.1.1-4.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/l/libgcc-5.1.1-4.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/l/libgcc-5.1.1-4.fc23.x86_64.rpm</a></p>&#13;\n<p>cpp-5.1.1-4.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/c/cpp-5.1.1-4.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/c/cpp-5.1.1-4.fc23.x86_64.rpm</a></p>&#13;\n<p>kernel-headers-4.2.0-0.rc0.git4.1.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/k/kernel-headers-4.2.0-0.rc0.git4.1.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/k/kernel-headers-4.2.0-0.rc0.git4.1.fc23.x86_64.rpm</a></p>&#13;\n<p>libmpc-1.0.2-4.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/l/libmpc-1.0.2-4.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/l/libmpc-1.0.2-4.fc23.x86_64.rpm</a></p>&#13;\n<p>glibc-2.21.90-17.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-2.21.90-17.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-2.21.90-17.fc23.x86_64.rpm</a></p>&#13;\n<p>glibc-common-2.21.90-17.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-common-2.21.90-17.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-common-2.21.90-17.fc23.x86_64.rpm</a></p>&#13;\n<p>glibc-headers-2.21.90-17.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-headers-2.21.90-17.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-headers-2.21.90-17.fc23.x86_64.rpm</a></p>&#13;\n<p>glibc-devel-2.21.90-17.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-devel-2.21.90-17.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/glibc-devel-2.21.90-17.fc23.x86_64.rpm</a></p>&#13;\n<p>gcc-5.1.1-4.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/gcc-5.1.1-4.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/gcc-5.1.1-4.fc23.x86_64.rpm</a></p>&#13;\n<p>libstdc++-5.1.1-4.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/l/libstdc++-5.1.1-4.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/l/libstdc++-5.1.1-4.fc23.x86_64.rpm</a></p>&#13;\n<p>gcc-c++-5.1.1-4.fc23.x86_64.rpm</p>&#13;\n<p><a href=\"ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/gcc-c++-5.1.1-4.fc23.x86_64.rpm\">ftp://195.220.108.108/linux/fedora/linux/development/rawhide/x86_64/os/Packages/g/gcc-c++-5.1.1-4.fc23.x86_64.rpm</a></p>&#13;\n<p>下载好了之后我放在一个目录下安装，执行</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>rpm -ivh 包名</pre>&#13;\n</div>&#13;\n<p>安装，注意顺序保持和下载顺序一致。</p>&#13;\n<p>这里遇到一个从未遇到的问题是其中<span style=\"color: #ff0000;\">两个rpm包存在相互依赖</span>，</p>&#13;\n<p><span style=\"color: #ff0000;\">glibc-2.21.90-17.fc23.x86_64.rpm 和 glibc-common-2.21.90-17.fc23.x86_64.rpm</span></p>&#13;\n<p><img src=\"data:image/png;base64,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\" alt=\"\"/></p>&#13;\n<p> 这就比较纠结了。最后上网查了下，原来可以一起装</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">sudo</span> rpm -ivh glibc*</pre>&#13;\n</div>&#13;\n<p>当然，这里其实4个包一起装了。其实我一开始就rpm -ivh * 应该都可以的</p>&#13;\n<p>最后安装完之后，gcc -v 就可以看到装成功了。</p>&#13;\n<p> </p></div>',543,'2015-07-03 03:04:00','2016-07-31 10:21:41',42,'http://www.cnblogs.com/lvyahui/p/4619907.html',4619907),(493,'yii下多条件多表组合查询以及自写ajax分页','多条件组合查询主要用到yii的CDbCriteria，这个类很多oem框架都有，非常好用。&#13;\n前台表单&#13;\n前台查询表单效果是这样的，多个条件组，每个组里放多个input，name为数组。当任何一个复选框被勾选上，发起ajax请求，当然，最顶层的复选框勾上时判断是否有子项，有的话把所有的子项','<div id=\"cnblogs_post_body\"><p>多条件组合查询主要用到yii的CDbCriteria，这个类很多oem框架都有，非常好用。</p>&#13;\n<h2>前台表单</h2>&#13;\n<p>前台查询表单效果是这样的，多个条件组，每个组里放多个input，name为数组。当任何一个复选框被勾选上，发起ajax请求，当然，最顶层的复选框勾上时判断是否有子项，有的话把所有的子项勾选上。</p>&#13;\n<p style=\"text-align: center;\"><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/051711584674736.png\" alt=\"\"/></p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201507/051718390296996.png\" alt=\"\"/></p>&#13;\n<p>但提交一次请求会向服务端post这样一个表单</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201507/051721416071318.png\" alt=\"\"/></p>&#13;\n<p>其中currentPage是隐藏字段，当分页按钮被点击是这个字段的值会发生变化，并且发起查询请求。</p>&#13;\n<h2>Action代码</h2>&#13;\n<p>这个表单会提交到如下的action中进行处理</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">class</span> XXXController <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> Controller&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">...</span>&#13;\n<span style=\"color: #008080;\"> 6</span>      <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> actionAjaxSearch(){&#13;\n</span><span style=\"color: #008080;\"> 7</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">print_r($_POST);</span>&#13;\n<span style=\"color: #008080;\"> 8</span>         <span style=\"color: #800080;\">$result</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\"> 9</span>             \'examItems\'=&gt;<span style=\"color: #0000ff;\">array</span>(),&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">        );&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #800080;\">$c</span> = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> CDbCriteria;&#13;\n</span><span style=\"color: #008080;\">12</span>         <span style=\"color: #800080;\">$c</span>-&gt;with = <span style=\"color: #0000ff;\">array</span>(\'paper\',\'course\'); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 连接表&#13;\n</span><span style=\"color: #008080;\">13</span> &#13;\n<span style=\"color: #008080;\">14</span> <span style=\"color: #008000;\">        // 全局设置</span>&#13;\n<span style=\"color: #008080;\">15</span>         <span style=\"color: #800080;\">$c</span>-&gt;addCondition(\"course.type=\'program\'\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span>         <span style=\"color: #800080;\">$c</span>-&gt;order = \'t.create_time desc\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">17</span>         <span style=\"color: #800080;\">$keywords</span> = <span style=\"color: #0000ff;\">FALSE</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">18</span>         <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$_POST</span>[\'keywords\']) AND ! <span style=\"color: #0000ff;\">empty</span>(<span style=\"color: #800080;\">$_POST</span>[\'keywords\'<span style=\"color: #000000;\">]))&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\">20</span>             <span style=\"color: #800080;\">$keywords</span> = <span style=\"color: #008080;\">preg_replace</span>(\'/\\s+/\', \'%\', <span style=\"color: #800080;\">$_POST</span>[\'keywords\'<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">21</span>             <span style=\"color: #800080;\">$keywords</span> = \'%\'.<span style=\"color: #800080;\">$keywords</span>.\'%\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">22</span>             <span style=\"color: #800080;\">$c</span>-&gt;addSearchCondition(\'t.title\', <span style=\"color: #800080;\">$keywords</span>, <span style=\"color: #0000ff;\">FALSE</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span>         <span style=\"color: #800080;\">$keyRegions</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">26</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$_POST</span>[\'region\'<span style=\"color: #000000;\">])){&#13;\n</span><span style=\"color: #008080;\">27</span>             <span style=\"color: #800080;\">$keyRegions</span> = <span style=\"color: #800080;\">$_POST</span>[\'region\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">29</span>         <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #0000ff;\">empty</span>(<span style=\"color: #800080;\">$keyRegions</span><span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">30</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">$regions = implode(\',\',$keyRegions);</span>&#13;\n<span style=\"color: #008080;\">31</span>             <span style=\"color: #800080;\">$regions</span> = \"\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">32</span>             <span style=\"color: #0000ff;\">foreach</span>(<span style=\"color: #800080;\">$keyRegions</span> <span style=\"color: #0000ff;\">as</span> <span style=\"color: #800080;\">$r</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">33</span>                 <span style=\"color: #800080;\">$regions</span> .= \"\'\".<span style=\"color: #800080;\">$r</span>.\"\',\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">35</span>             <span style=\"color: #800080;\">$regions</span> = <span style=\"color: #008080;\">rtrim</span>(<span style=\"color: #800080;\">$regions</span>,\',\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">36</span> &#13;\n<span style=\"color: #008080;\">37</span>             <span style=\"color: #800080;\">$c</span>-&gt;addCondition(\"paper.event_id in (select id from exam_events where type in (\".<span style=\"color: #800080;\">$regions</span>.\"))\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">39</span> &#13;\n<span style=\"color: #008080;\">40</span>         <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$_POST</span>[\'course\'<span style=\"color: #000000;\">]))&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\">42</span>             <span style=\"color: #800080;\">$c</span>-&gt;addInCondition(\'t.course_id\', <span style=\"color: #800080;\">$_POST</span>[\'course\'<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">44</span> &#13;\n<span style=\"color: #008080;\">45</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 判断类型条件</span>&#13;\n<span style=\"color: #008080;\">46</span>         <span style=\"color: #800080;\">$keyTypes</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">47</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$_POST</span>[\'type\'<span style=\"color: #000000;\">])){&#13;\n</span><span style=\"color: #008080;\">48</span>             <span style=\"color: #800080;\">$tps</span> = <span style=\"color: #800080;\">$_POST</span>[\'type\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">49</span>             <span style=\"color: #0000ff;\">foreach</span> (<span style=\"color: #800080;\">$tps</span> <span style=\"color: #0000ff;\">as</span> <span style=\"color: #800080;\">$t</span><span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">            {&#13;\n</span><span style=\"color: #008080;\">51</span>                 <span style=\"color: #800080;\">$keyTypes</span>[] = <span style=\"color: #800080;\">$t</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">54</span>         <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #0000ff;\">empty</span>(<span style=\"color: #800080;\">$keyTypes</span><span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">55</span>             <span style=\"color: #800080;\">$c</span>-&gt;addInCondition(\'t.type\',<span style=\"color: #800080;\">$keyTypes</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">56</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">57</span>         &#13;\n<span style=\"color: #008080;\">58</span>         <span style=\"color: #800080;\">$currentPage</span> = <span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$_GET</span>[\'currentPage\']) ? <span style=\"color: #800080;\">$_GET</span>[\'currentPage\'] : 1<span style=\"color: #000000;\"> ;&#13;\n</span><span style=\"color: #008080;\">59</span>         <span style=\"color: #800080;\">$eleItemCount</span> = = ExamItems::model()-&gt;<span style=\"color: #008080;\">count</span>(<span style=\"color: #800080;\">$c</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">60</span>         <span style=\"color: #800080;\">$pages</span> = PagingTools::getPages(<span style=\"color: #800080;\">$eleItemCount</span>,<span style=\"color: #800080;\">$currentPage</span>,10,4<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">61</span> &#13;\n<span style=\"color: #008080;\">62</span>         <span style=\"color: #800080;\">$c</span>-&gt;limit = <span style=\"color: #800080;\">$pages</span>[\'limit\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">63</span>         <span style=\"color: #800080;\">$c</span>-&gt;offset = <span style=\"color: #800080;\">$pages</span>[\'offset\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">64</span> &#13;\n<span style=\"color: #008080;\">65</span>         <span style=\"color: #800080;\">$result</span>[\'examItems\'] = ExamItems::model()-&gt;findAll(<span style=\"color: #800080;\">$c</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">66</span>         <span style=\"color: #800080;\">$this</span>-&gt;renderPartial(\'result\', <span style=\"color: #0000ff;\">array</span>(\'result\'=&gt;<span style=\"color: #800080;\">$result</span>,\'pages\'=&gt;<span style=\"color: #800080;\">$pages</span>,\'keywords\'=&gt;<span style=\"color: #800080;\">$_POST</span>[\'keywords\'<span style=\"color: #000000;\">]));&#13;\n</span><span style=\"color: #008080;\">67</span> &#13;\n<span style=\"color: #008080;\">68</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">69</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">...</span>&#13;\n<span style=\"color: #008080;\">70</span> }</pre>&#13;\n</div>&#13;\n<p>这里利用CDbCriteria对多条件进行组合，并在最后确定分页结果，传递到视图。</p>&#13;\n<h2>分页工具</h2>&#13;\n<p>这里因为是ajax分页，当时我把yii的分页找了个遍发现都没有符合心意的分页工具。于是打算自己来写这个分页。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\">  2</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\">  3</span> <span style=\"color: #008000;\"> * Created by PhpStorm.&#13;\n</span><span style=\"color: #008080;\">  4</span> <span style=\"color: #008000;\"> * User: Administrator&#13;\n</span><span style=\"color: #008080;\">  5</span> <span style=\"color: #008000;\"> * Date: 15-5-3&#13;\n</span><span style=\"color: #008080;\">  6</span> <span style=\"color: #008000;\"> * Time: 上午9:24&#13;\n</span><span style=\"color: #008080;\">  7</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">  8</span> &#13;\n<span style=\"color: #008080;\">  9</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> PagingTools{&#13;\n</span><span style=\"color: #008080;\"> 10</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    /**&#13;\n</span><span style=\"color: #008080;\"> 11</span> <span style=\"color: #008000;\">//     * @var int 每个页面容纳项目数&#13;\n</span><span style=\"color: #008080;\"> 12</span> <span style=\"color: #008000;\">//     */&#13;\n</span><span style=\"color: #008080;\"> 13</span> <span style=\"color: #008000;\">//    public $pageEleItemCount;&#13;\n</span><span style=\"color: #008080;\"> 14</span> <span style=\"color: #008000;\">//    /**&#13;\n</span><span style=\"color: #008080;\"> 15</span> <span style=\"color: #008000;\">//     * @var int 最多显示多少页面按钮&#13;\n</span><span style=\"color: #008080;\"> 16</span> <span style=\"color: #008000;\">//     */&#13;\n</span><span style=\"color: #008080;\"> 17</span> <span style=\"color: #008000;\">//    public $pageMaxCount;&#13;\n</span><span style=\"color: #008080;\"> 18</span> <span style=\"color: #008000;\">//    /**&#13;\n</span><span style=\"color: #008080;\"> 19</span> <span style=\"color: #008000;\">//     * @var int 总的元素个数&#13;\n</span><span style=\"color: #008080;\"> 20</span> <span style=\"color: #008000;\">//     */&#13;\n</span><span style=\"color: #008080;\"> 21</span> <span style=\"color: #008000;\">//    public $eleItemCount;&#13;\n</span><span style=\"color: #008080;\"> 22</span> <span style=\"color: #008000;\">//    /**&#13;\n</span><span style=\"color: #008080;\"> 23</span> <span style=\"color: #008000;\">//     * @var int 当前页&#13;\n</span><span style=\"color: #008080;\"> 24</span> <span style=\"color: #008000;\">//     */&#13;\n</span><span style=\"color: #008080;\"> 25</span> <span style=\"color: #008000;\">//    public $currentPage = 1;&#13;\n</span><span style=\"color: #008080;\"> 26</span> &#13;\n<span style=\"color: #008080;\"> 27</span> <span style=\"color: #008000;\">//    public function getPages(){&#13;\n</span><span style=\"color: #008080;\"> 28</span> <span style=\"color: #008000;\">//&#13;\n</span><span style=\"color: #008080;\"> 29</span> <span style=\"color: #008000;\">//        $pages = array(&#13;\n</span><span style=\"color: #008080;\"> 30</span> <span style=\"color: #008000;\">//            /* 所求页面总数 */&#13;\n</span><span style=\"color: #008080;\"> 31</span> <span style=\"color: #008000;\">//            \'count\'=&gt;1,&#13;\n</span><span style=\"color: #008080;\"> 32</span> <span style=\"color: #008000;\">//            /* 起始页面 */&#13;\n</span><span style=\"color: #008080;\"> 33</span> <span style=\"color: #008000;\">//            \'start\'=&gt;1,&#13;\n</span><span style=\"color: #008080;\"> 34</span> <span style=\"color: #008000;\">//            /* 结束页面 */&#13;\n</span><span style=\"color: #008080;\"> 35</span> <span style=\"color: #008000;\">//            \'end\'=&gt;1,&#13;\n</span><span style=\"color: #008080;\"> 36</span> <span style=\"color: #008000;\">//        );&#13;\n</span><span style=\"color: #008080;\"> 37</span> <span style=\"color: #008000;\">//&#13;\n</span><span style=\"color: #008080;\"> 38</span> <span style=\"color: #008000;\">//        if($this-&gt;eleItemCount &gt; $this-&gt;pageEleItemCount){&#13;\n</span><span style=\"color: #008080;\"> 39</span> <span style=\"color: #008000;\">//            //需要分页&#13;\n</span><span style=\"color: #008080;\"> 40</span> <span style=\"color: #008000;\">//            $pages[\'count\'] = intval($this-&gt;eleItemCount / $this-&gt;pageEleItemCount);&#13;\n</span><span style=\"color: #008080;\"> 41</span> <span style=\"color: #008000;\">//            if($this-&gt;eleItemCount != $pages[\'count\']*$this-&gt;pageEleItemCount) $pages[\'count\']+=1;&#13;\n</span><span style=\"color: #008080;\"> 42</span> <span style=\"color: #008000;\">//            if($pages[\'count\'] &gt; $this-&gt;pageMaxCount){//多于10页&#13;\n</span><span style=\"color: #008080;\"> 43</span> <span style=\"color: #008000;\">//                $this-&gt;pageMaxCount -= 1;//数学问题3 到 6 的距离等于 6 - 3 + 1&#13;\n</span><span style=\"color: #008080;\"> 44</span> <span style=\"color: #008000;\">//                //从中取10页，包含当前页&#13;\n</span><span style=\"color: #008080;\"> 45</span> <span style=\"color: #008000;\">//                if($this-&gt;currentPage &lt;= intval($this-&gt;pageMaxCount/2)){//很靠近首页&#13;\n</span><span style=\"color: #008080;\"> 46</span> <span style=\"color: #008000;\">//                    $pages[\'start\'] = 1;&#13;\n</span><span style=\"color: #008080;\"> 47</span> <span style=\"color: #008000;\">//                }&#13;\n</span><span style=\"color: #008080;\"> 48</span> <span style=\"color: #008000;\">//                else if($pages[\'count\']-$this-&gt;currentPage &lt; $this-&gt;pageMaxCount/2){//很靠近尾页&#13;\n</span><span style=\"color: #008080;\"> 49</span> <span style=\"color: #008000;\">//                    $pages[\'start\'] = $pages[\'count\'] -  $this-&gt;pageMaxCount ;&#13;\n</span><span style=\"color: #008080;\"> 50</span> <span style=\"color: #008000;\">//                }else{&#13;\n</span><span style=\"color: #008080;\"> 51</span> <span style=\"color: #008000;\">//                    $pages[\'start\'] = $this-&gt;currentPage - intval($this-&gt;pageMaxCount/2);&#13;\n</span><span style=\"color: #008080;\"> 52</span> <span style=\"color: #008000;\">//                }&#13;\n</span><span style=\"color: #008080;\"> 53</span> <span style=\"color: #008000;\">//                $pages[\'end\'] = $this-&gt;pageMaxCount+$pages[\'start\'] &gt; $pages[\'count\'] ? $pages[\'count\'] : $this-&gt;pageMaxCount+$pages[\'start\'];&#13;\n</span><span style=\"color: #008080;\"> 54</span> <span style=\"color: #008000;\">//            }else{&#13;\n</span><span style=\"color: #008080;\"> 55</span> <span style=\"color: #008000;\">//                $pages[\'start\'] = 1;$pages[\'end\'] = $pages[\'count\'];&#13;\n</span><span style=\"color: #008080;\"> 56</span> <span style=\"color: #008000;\">//            }&#13;\n</span><span style=\"color: #008080;\"> 57</span> <span style=\"color: #008000;\">//        }&#13;\n</span><span style=\"color: #008080;\"> 58</span> <span style=\"color: #008000;\">//&#13;\n</span><span style=\"color: #008080;\"> 59</span> <span style=\"color: #008000;\">//        return $pages;</span>&#13;\n<span style=\"color: #008080;\"> 60</span>     <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 61</span> <span style=\"color: #008000;\">     * 获取分页参数&#13;\n</span><span style=\"color: #008080;\"> 62</span> <span style=\"color: #008000;\">     *&#13;\n</span><span style=\"color: #008080;\"> 63</span> <span style=\"color: #008000;\">     * @param int $eleItemCount 总的项目个数&#13;\n</span><span style=\"color: #008080;\"> 64</span> <span style=\"color: #008000;\">     * @param int $currentPage 当前页&#13;\n</span><span style=\"color: #008080;\"> 65</span> <span style=\"color: #008000;\">     * @param int $limit 每个页面容纳项目数&#13;\n</span><span style=\"color: #008080;\"> 66</span> <span style=\"color: #008000;\">     * @param int $pageMaxCount 最多显示多少页面按钮&#13;\n</span><span style=\"color: #008080;\"> 67</span> <span style=\"color: #008000;\">     * @return array&#13;\n</span><span style=\"color: #008080;\"> 68</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 69</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">function</span> getPages(<span style=\"color: #800080;\">$eleItemCount</span>,<span style=\"color: #800080;\">$currentPage</span> = 1,<span style=\"color: #800080;\">$limit</span> = 10,<span style=\"color: #800080;\">$pageMaxCount</span> = 7<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 70</span>         <span style=\"color: #800080;\">$pages</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\"> 71</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 所求页面总数 </span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 72</span>             \'count\' =&gt; 1,&#13;\n<span style=\"color: #008080;\"> 73</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 起始页面 </span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 74</span>             \'start\' =&gt; 1,&#13;\n<span style=\"color: #008080;\"> 75</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 结束页面 </span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 76</span>             \'end\' =&gt; 1 ,&#13;\n<span style=\"color: #008080;\"> 77</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 查询偏移 </span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 78</span>             \'offset\' =&gt; 0 ,&#13;\n<span style=\"color: #008080;\"> 79</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 默认参数直接返回 </span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 80</span>             \'currentPage\' =&gt; <span style=\"color: #800080;\">$currentPage</span>,&#13;\n<span style=\"color: #008080;\"> 81</span>             \'limit\' =&gt;  <span style=\"color: #800080;\">$limit</span>,&#13;\n<span style=\"color: #008080;\"> 82</span>             \'pageMaxCount\' =&gt; <span style=\"color: #800080;\">$pageMaxCount</span>,&#13;\n<span style=\"color: #008080;\"> 83</span> <span style=\"color: #000000;\">        );&#13;\n</span><span style=\"color: #008080;\"> 84</span> &#13;\n<span style=\"color: #008080;\"> 85</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$eleItemCount</span> &gt; <span style=\"color: #800080;\">$limit</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 86</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">需要分页</span>&#13;\n<span style=\"color: #008080;\"> 87</span>             <span style=\"color: #800080;\">$pages</span>[\'count\'] = <span style=\"color: #008080;\">intval</span>(<span style=\"color: #800080;\">$eleItemCount</span> / <span style=\"color: #800080;\">$limit</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 88</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$eleItemCount</span> != <span style=\"color: #800080;\">$pages</span>[\'count\']*<span style=\"color: #800080;\">$limit</span>) <span style=\"color: #800080;\">$pages</span>[\'count\']+=1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 89</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$pages</span>[\'count\'] &gt; <span style=\"color: #800080;\">$pageMaxCount</span>){<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">多于10页</span>&#13;\n<span style=\"color: #008080;\"> 90</span>                 <span style=\"color: #800080;\">$pageMaxCount</span> -= 1;<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">数学问题3 到 6 的距离等于 6 - 3 + 1&#13;\n</span><span style=\"color: #008080;\"> 91</span> <span style=\"color: #008000;\">                //从中取10页，包含当前页</span>&#13;\n<span style=\"color: #008080;\"> 92</span>                 <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$currentPage</span> &lt;= <span style=\"color: #008080;\">intval</span>(<span style=\"color: #800080;\">$pageMaxCount</span>/2)){<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">很靠近首页</span>&#13;\n<span style=\"color: #008080;\"> 93</span>                     <span style=\"color: #800080;\">$pages</span>[\'start\'] = 1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 94</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\"> 95</span>                 <span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$pages</span>[\'count\']-<span style=\"color: #800080;\">$currentPage</span> &lt; <span style=\"color: #800080;\">$pageMaxCount</span>/2){<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">很靠近尾页</span>&#13;\n<span style=\"color: #008080;\"> 96</span>                     <span style=\"color: #800080;\">$pages</span>[\'start\'] = <span style=\"color: #800080;\">$pages</span>[\'count\'] -  <span style=\"color: #800080;\">$pageMaxCount</span><span style=\"color: #000000;\"> ;&#13;\n</span><span style=\"color: #008080;\"> 97</span>                 }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 98</span>                     <span style=\"color: #800080;\">$pages</span>[\'start\'] = <span style=\"color: #800080;\">$currentPage</span> - <span style=\"color: #008080;\">intval</span>(<span style=\"color: #800080;\">$pageMaxCount</span>/2<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 99</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">100</span>                 <span style=\"color: #800080;\">$pages</span>[\'end\'] = <span style=\"color: #800080;\">$pageMaxCount</span>+<span style=\"color: #800080;\">$pages</span>[\'start\'] &gt; <span style=\"color: #800080;\">$pages</span>[\'count\'] ? <span style=\"color: #800080;\">$pages</span>[\'count\'] : <span style=\"color: #800080;\">$pageMaxCount</span>+<span style=\"color: #800080;\">$pages</span>[\'start\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">101</span>             }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">102</span>                 <span style=\"color: #800080;\">$pages</span>[\'start\'] = 1;<span style=\"color: #800080;\">$pages</span>[\'end\'] = <span style=\"color: #800080;\">$pages</span>[\'count\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">103</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">104</span>             <span style=\"color: #800080;\">$pages</span>[\'offset\'] = (<span style=\"color: #800080;\">$currentPage</span> - 1 ) * <span style=\"color: #800080;\">$limit</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">105</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">106</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">$pages</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">107</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">108</span> &#13;\n<span style=\"color: #008080;\">109</span> }</pre>&#13;\n</div>&#13;\n<p>这里的视图放在与PageingTool相同目录的views目录下，</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #800080;\">$isMobile</span> = <span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$isMobile</span>) ? <span style=\"color: #008080;\">intval</span>(<span style=\"color: #800080;\">$isMobile</span>) : 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #800080;\">$pagelinks</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\"> 4</span>     \'start\'=&gt;<span style=\"color: #0000ff;\">array</span>(\'首页\',\'&amp;lt;&amp;lt;\'),&#13;\n<span style=\"color: #008080;\"> 5</span>     \'prev\'=&gt;<span style=\"color: #0000ff;\">array</span>(\'上一页\',\'&amp;lt\'),&#13;\n<span style=\"color: #008080;\"> 6</span>     \'next\'=&gt;<span style=\"color: #0000ff;\">array</span>(\'下一页\',\'&amp;gt\'),&#13;\n<span style=\"color: #008080;\"> 7</span>     \'end\'=&gt;<span style=\"color: #0000ff;\">array</span>(\'末页\',\'&amp;gt;&amp;gt;\'),&#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 9</span> ?&gt;&#13;\n<span style=\"color: #008080;\">10</span> &lt;?php <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$pages</span>[\'count\'] &gt; 1):?&gt;&#13;\n<span style=\"color: #008080;\">11</span>     &lt;div <span style=\"color: #0000ff;\">class</span>=\"paging-container\"&gt;&#13;\n<span style=\"color: #008080;\">12</span>         &lt;ul <span style=\"color: #0000ff;\">class</span>=\"pagination\"&gt;&#13;\n<span style=\"color: #008080;\">13</span>             &lt;li <span style=\"color: #0000ff;\">class</span>=\"page first &lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\']==1 ? \'disabled\' :\'\'?&gt;\"&gt;&lt;a href=\"javascript:void(0)\"  data-page=\"1\"&gt;&lt;?=<span style=\"color: #800080;\">$pagelinks</span>[\'start\'][<span style=\"color: #800080;\">$isMobile</span>]?&gt;&lt;/a&gt;&lt;/li&gt;&#13;\n<span style=\"color: #008080;\">14</span>             &lt;li <span style=\"color: #0000ff;\">class</span>=\"page pprev &lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\']==1 ? \'disabled\' :\'\'?&gt;\"&gt;&lt;a href=\"javascript:void(0)\" aria-label=\"Previous\" data-page=\"&lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\']-1?&gt;\"&gt;&lt;?=<span style=\"color: #800080;\">$pagelinks</span>[\'prev\'][<span style=\"color: #800080;\">$isMobile</span>]?&gt;&lt;/a&gt;&lt;/li&gt;&#13;\n<span style=\"color: #008080;\">15</span>             &lt;?php <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #800080;\">$i</span>=<span style=\"color: #800080;\">$pages</span>[\'start\'];<span style=\"color: #800080;\">$i</span>&lt;=<span style=\"color: #800080;\">$pages</span>[\'end\'] ;<span style=\"color: #800080;\">$i</span>++):?&gt;&#13;\n<span style=\"color: #008080;\">16</span>             &lt;li <span style=\"color: #0000ff;\">class</span>=\"page &lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\'] == <span style=\"color: #800080;\">$i</span> ? \'active\' : \'\'?&gt;\"&gt;&lt;a href=\"javascript:void(0)\" data-page=\"&lt;?=<span style=\"color: #800080;\">$i</span>?&gt;\"&gt;&lt;?=<span style=\"color: #800080;\">$i</span>?&gt;&lt;/a&gt;&lt;/li&gt;&#13;\n<span style=\"color: #008080;\">17</span>             &lt;?php <span style=\"color: #0000ff;\">endfor</span>;?&gt;&#13;\n<span style=\"color: #008080;\">18</span>             &lt;li <span style=\"color: #0000ff;\">class</span>=\"page pnext &lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\']==<span style=\"color: #800080;\">$pages</span>[\'count\'] ? \'disabled\' :\'\'?&gt;\"&gt;&lt;a href=\"javascript:void(0)\" aria-label=\"Next\" data-page=\"&lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\']+1?&gt;\"&gt;&lt;?=<span style=\"color: #800080;\">$pagelinks</span>[\'next\'][<span style=\"color: #800080;\">$isMobile</span>]?&gt;&lt;/a&gt;&lt;/li&gt;&#13;\n<span style=\"color: #008080;\">19</span>             &lt;li <span style=\"color: #0000ff;\">class</span>=\"page last &lt;?=<span style=\"color: #800080;\">$pages</span>[\'currentPage\']==<span style=\"color: #800080;\">$pages</span>[\'count\'] ? \'disabled\' :\'\'?&gt;\"&gt;&lt;a href=\"javascript:void(0)\" data-page=\"&lt;?=<span style=\"color: #800080;\">$pages</span>[\'count\']?&gt;\"&gt;&lt;?=<span style=\"color: #800080;\">$pagelinks</span>[\'end\'][<span style=\"color: #800080;\">$isMobile</span>]?&gt;&lt;/a&gt;&lt;/li&gt;&#13;\n<span style=\"color: #008080;\">20</span>         &lt;/ul&gt;&#13;\n<span style=\"color: #008080;\">21</span>     &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">22</span> &lt;?php <span style=\"color: #0000ff;\">endif</span>;?&gt;</pre>&#13;\n</div>&#13;\n<p>最后为分页按钮增加事件</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> $(document).ready(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     $(\'.list-area\').ajaxSuccess(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 3</span>         <span style=\"color: #0000ff;\">var</span> _this = $(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 4</span>         <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> toPage(v){&#13;\n</span><span style=\"color: #008080;\"> 5</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 修改隐藏的input[name=currentPage]</span>&#13;\n<span style=\"color: #008080;\"> 6</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 异步提交表单</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 8</span>         $(\'.paging-container .page a\').click(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\"> 9</span>             <span style=\"color: #0000ff;\">var</span> _this = $(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">10</span>             <span style=\"color: #0000ff;\">if</span>(!(_this.parent(\'li\').hasClass(\'disabled\'<span style=\"color: #000000;\">))) {&#13;\n</span><span style=\"color: #008080;\">11</span>                 toPage(_this.attr(\'data-page\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\">15</span> });</pre>&#13;\n</div>&#13;\n<h2>效果</h2>&#13;\n<p>这个分页希望实现如下的效果，按钮数量有个上限，并尽量保证活动的按钮最好居中。效果如下。</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201507/051731242321756.png\" alt=\"\"/></p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201507/051731320294907.png\" alt=\"\"/></p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201507/051731393899657.png\" alt=\"\"/></p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201507/051731479207951.png\" alt=\"\"/></p>&#13;\n<h2>视图代码</h2>&#13;\n<p>在视图当中，有了result和pages之后，就可以迭代出结果和分页</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;?php <span style=\"color: #0000ff;\">foreach</span> (<span style=\"color: #800080;\">$result</span>[\'examItems\'] <span style=\"color: #0000ff;\">as</span> <span style=\"color: #800080;\">$item</span>) : ?&gt;&#13;\n<span style=\"color: #008080;\"> 2</span>     &lt;div <span style=\"color: #0000ff;\">class</span>=\"row pt15 pb15 bb1-gray\"&gt;&#13;\n<span style=\"color: #008080;\"> 3</span>         &lt;div <span style=\"color: #0000ff;\">class</span>=\"col-md-12 search-table\" see-url=\"&lt;?=<span style=\"color: #800080;\">$this</span>-&gt;createUrl(\'examItems/ajaxViewItem\')?&gt;\"&gt;&#13;\n<span style=\"color: #008080;\"> 4</span>             &lt;div <span style=\"color: #0000ff;\">class</span>=\"row\"&gt;&#13;\n<span style=\"color: #008080;\"> 5</span>                 &lt;a href=\"javascript:void(0)\" <span style=\"color: #0000ff;\">class</span>=\"item-title\" style=\"font-size: 15px;color: #6c6c6c\"&gt;&#13;\n<span style=\"color: #008080;\"> 6</span>                     &lt;?=Tools::getShortTitle(<span style=\"color: #800080;\">$item</span>-&gt;title,80,<span style=\"color: #0000ff;\">true</span>,<span style=\"color: #800080;\">$keywords</span>,\'code\');?&gt;&#13;\n<span style=\"color: #008080;\"> 7</span>                 &lt;/a&gt;&#13;\n<span style=\"color: #008080;\"> 8</span>                 &lt;div <span style=\"color: #0000ff;\">class</span>=\"pull-right\"&gt;&#13;\n<span style=\"color: #008080;\"> 9</span>                     &lt;a href=\"javascript:void(0)\" <span style=\"color: #0000ff;\">class</span>=\"see\" data-id=\"&lt;?=<span style=\"color: #800080;\">$item</span>-&gt;id?&gt;\"&gt;&lt;i <span style=\"color: #0000ff;\">class</span>=\"fa fa-eye\"&gt;&lt;/i&gt;&lt;span&gt;查看&lt;/span&gt;&lt;/a&gt;&#13;\n<span style=\"color: #008080;\">10</span>                 &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">11</span>             &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">12</span>             &lt;div <span style=\"color: #0000ff;\">class</span>=\"row itemCt\" style=\"display: none;padding:8px\"&gt;&lt;/div&gt;&#13;\n<span style=\"color: #008080;\">13</span>             &lt;div <span style=\"color: #0000ff;\">class</span>=\"row\"&gt;&#13;\n<span style=\"color: #008080;\">14</span>                 &lt;div <span style=\"color: #0000ff;\">class</span>=\"col-md-12\"&gt;&#13;\n<span style=\"color: #008080;\">15</span>                     &lt;div <span style=\"color: #0000ff;\">class</span>=\"col-md-5 pull-left pt10\"&gt;&#13;\n<span style=\"color: #008080;\">16</span>                         &lt;span <span style=\"color: #0000ff;\">class</span>=\"col-md-3  mr10  badge badge-default\"&gt;&lt;?=<span style=\"color: #800080;\">$tps</span>[<span style=\"color: #800080;\">$item</span>-&gt;type]?&gt;&lt;/span&gt;&#13;\n<span style=\"color: #008080;\">17</span>                         &lt;span <span style=\"color: #0000ff;\">class</span>=\"col-md-3 badge badge-default\"&gt;&lt;?=<span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$item</span>-&gt;paper) ? <span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$item</span>-&gt;paper-&gt;event) ? <span style=\"color: #800080;\">$cgs</span>[<span style=\"color: #800080;\">$item</span>-&gt;paper-&gt;event-&gt;type] : \'\' : \'\' ;?&gt;&lt;/span&gt;&#13;\n<span style=\"color: #008080;\">18</span>                     &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">19</span>                     &lt;div <span style=\"color: #0000ff;\">class</span>=\"pull-right mt5\"&gt;&#13;\n<span style=\"color: #008080;\">20</span>                         &lt;?php <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">isset</span>(<span style=\"color: #800080;\">$item</span>-&gt;paper)):?&gt;&#13;\n<span style=\"color: #008080;\">21</span>                             &lt;a data-auth href=\"&lt;?=<span style=\"color: #800080;\">$this</span>-&gt;createUrl(\'course/exam/\'.<span style=\"color: #800080;\">$item</span>-&gt;paper-&gt;id)?&gt;\" target=\"_blank\" <span style=\"color: #0000ff;\">class</span>=\"icon icon-clock text-blue ml15 text-gray\"&gt;&#13;\n<span style=\"color: #008080;\">22</span>                                 &lt;span&gt;&lt;?=<span style=\"color: #800080;\">$item</span>-&gt;paper-&gt;title?&gt;&lt;/span&gt;&#13;\n<span style=\"color: #008080;\">23</span>                             &lt;/a&gt;&#13;\n<span style=\"color: #008080;\">24</span>                         &lt;?php <span style=\"color: #0000ff;\">endif</span>;?&gt;&#13;\n<span style=\"color: #008080;\">25</span>                     &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">26</span>                 &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">27</span>             &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">28</span>         &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">29</span>     &lt;/div&gt;&#13;\n<span style=\"color: #008080;\">30</span> &lt;?php <span style=\"color: #0000ff;\">endforeach</span>; ?&gt;&#13;\n<span style=\"color: #008080;\">31</span> &lt;div <span style=\"color: #0000ff;\">class</span>=\"list-paging text-center pb10\"&gt;&#13;\n<span style=\"color: #008080;\">32</span>     &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\">33</span>         <span style=\"color: #800080;\">$this</span>-&gt;renderPartial(\'application.components.views.paging\',<span style=\"color: #0000ff;\">array</span>(\'pages\'=&gt;<span style=\"color: #800080;\">$pages</span>,\'isMobile\'=&gt;<span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">34</span>     ?&gt;&#13;\n<span style=\"color: #008080;\">35</span> &lt;/div&gt;</pre>&#13;\n</div>&#13;\n<p> </p></div>',402,'2015-07-04 21:47:00','2016-07-31 10:21:42',3,'http://www.cnblogs.com/lvyahui/p/4622714.html',4622714),(494,'yii1.1.15 accessRules的一个小bug','&#13;\npublic function accessRules()&#13;\n{&#13;\n    ','<div id=\"cnblogs_post_body\"><div class=\"cnblogs_code\">&#13;\n<pre>public <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> accessRules()&#13;\n{&#13;\n    </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> array(&#13;\n        array(&#13;\n            </span>\'allow\'<span style=\"color: #000000;\">,&#13;\n            </span>\'actions\'=&gt;array(\'ajaxChangeImage\',\'AjaxImage\',\'changeInfo\',\'my\', \'dashboard\', \'account\',\'selectGoal\', \'ajaxPassword\',\'learn\', \'ajaxOrder\'<span style=\"color: #000000;\">),&#13;\n            </span>\'users\'=&gt;array(\'@\'<span style=\"color: #000000;\">),&#13;\n        ),&#13;\n        array(&#13;\n            </span>\'allow\'<span style=\"color: #000000;\">, &#13;\n            </span>\'actions\'=&gt;<span style=\"color: #000000;\">array(),&#13;\n            </span>\'users\'=&gt;array(\'*\'<span style=\"color: #000000;\">),&#13;\n        ),&#13;\n        array(</span>\'deny\'<span style=\"color: #000000;\">,&#13;\n            </span>\'users\'=&gt;array(\'*\'<span style=\"color: #000000;\">),&#13;\n        ),&#13;\n    );&#13;\n}</span></pre>&#13;\n</div>&#13;\n<p>注意上面第二个规则，不能存在array()空数组，这样会造成整个过滤规则失效。如果对*用户没有做规则限制，则干脆不要写</p></div>',41,'2015-07-04 21:53:00','2016-07-31 10:21:43',3,'http://www.cnblogs.com/lvyahui/p/4622728.html',4622728),(495,'简单的通用后台校验代码','萌生写这个代码的原因，是在使用struts2的验证框架时，总觉的有些不太灵活。当一个action中有多个表单需要处理的时候，struts处理起来就稍微麻烦一点，当校验失败时都会return \"input\"字符串。但我不同表单单校验失败后一般都希望返回不同的result，渲染不同的视图。另外如果我的校验是异步发起的，而我想要的结果是jso','<div id=\"cnblogs_post_body\"><p>萌生写这个代码的原因，是在使用struts2的验证框架时，总觉的有些不太灵活。当一个action中有多个表单需要处理的时候，struts处理起来就稍微麻烦一点，当校验失败时都会return \"input\"字符串。但我不同表单单校验失败后一般都希望返回不同的result，渲染不同的视图。另外如果我的校验是异步发起的，而我想要的结果是json的时候，也比较麻烦。虽然这些问题可以通过修改result type类型和在result中使用ognl表达式来做到，但绕来绕去实在太过麻烦。而若不适用这校验框架，在action中自己来if else if else 来判断更不可取。于是便回想到yii和 laravel框架的校验，这些校验框架在我看来做的非常优秀，非常灵活，于是我想借鉴它们来自己写一写这个校验插件。</p>&#13;\n<h2>希望的效果</h2>&#13;\n<p>首先，我希望做到两点</p>&#13;\n<ul><li><span style=\"color: #ff0000;\"><strong>可以对实体进行校验，不管实体封装的是表单数据还是数据库记录</strong></span></li>&#13;\n<li><span style=\"color: #ff0000;\"><strong>可以直接对request.getParameterMap()获得的map进行校验，这个我暂时还没完成。</strong></span></li>&#13;\n<li><span style=\"color: #ff0000;\"><strong>灵活校验，当校验失败后可以马上通过getErrors拿到错误数据,这样你想咋么响应怎么响应，发json也好，把errors传递到视图也好，都可以。</strong></span>&#13;\n<ul><li><span style=\"color: #ff0000;\"><strong>也就是想下面这样，if(!entity.validate()){....}else{Map map = entity.getErrors()}</strong></span></li>&#13;\n</ul></li>&#13;\n</ul><p>另外当实体的属性没有被struts填充时，也可以使用我写的一个fill方法进行填充，为什么要写这个呢，因为struts的属性驱动，<span style=\"color: #ff0000;\">类驱动，模型驱动都有点局限，但我的action里有多个模型，模型驱动只能为一个模型注值，不够灵活</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> BaseEntity{&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> fill(Map&lt;String, String[]&gt;<span style=\"color: #000000;\"> parameterMap) {&#13;\n</span><span style=\"color: #008080;\"> 3</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(this.getClass());</span>&#13;\n<span style=\"color: #008080;\"> 4</span>         Class clazz = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.getClass();&#13;\n</span><span style=\"color: #008080;\"> 5</span>         Field fields[] =<span style=\"color: #000000;\"> clazz.getDeclaredFields();&#13;\n</span><span style=\"color: #008080;\"> 6</span>         <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">int</span> i = 0; i &lt; fields.length; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\"> 7</span>             String fieldName =<span style=\"color: #000000;\"> fields[i].getName();&#13;\n</span><span style=\"color: #008080;\"> 8</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(fieldName);</span>&#13;\n<span style=\"color: #008080;\"> 9</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">10</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 查找参数集合</span>&#13;\n<span style=\"color: #008080;\">11</span>                 String values [] =<span style=\"color: #000000;\"> parameterMap.get(fieldName);&#13;\n</span><span style=\"color: #008080;\">12</span>                 <span style=\"color: #0000ff;\">if</span>(values!=<span style=\"color: #0000ff;\">null</span> &amp;&amp; values.length&gt;0<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">13</span>                     String methodName = \"set\"+fieldName.substring(0, 1<span style=\"color: #000000;\">).toUpperCase()&#13;\n</span><span style=\"color: #008080;\">14</span>                         + fieldName.substring(1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span>                     Class fieldType =<span style=\"color: #000000;\"> fields[i].getType();&#13;\n</span><span style=\"color: #008080;\">16</span>                     Method method = clazz.getMethod(methodName,<span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Class[]{fieldType});&#13;\n</span><span style=\"color: #008080;\">17</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 设值</span>&#13;\n<span style=\"color: #008080;\">18</span>                     method.invoke(<span style=\"color: #0000ff;\">this</span>,<span style=\"color: #0000ff;\">new</span> Object[]{fieldType.cast(values[0<span style=\"color: #000000;\">])});&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">20</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (Exception e) {&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">                e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">/...</span>&#13;\n<span style=\"color: #008080;\">26</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p>我把代码放在了<a href=\"http://www.svnchina.com/svn/entity_validator\" target=\"_blank\">svnchina</a>和<a href=\"https://github.com/lvyahui8/validator\" target=\"_blank\">github</a>上，有兴趣看看的可以去，有一起做的更好了。</p>&#13;\n<ul><li>http://www.svnchina.com/svn/entity_validator</li>&#13;\n<li>https://github.com/lvyahui8/validator.git</li>&#13;\n</ul><p>我暂时只做了对实体的校验，这里还有个问题，java本身是强类型的语言。对于实体的某些字段，他的类型本身就存在了校验，比如一个字段是Integer类型，那你觉得还有必要去校验他是number类型吗？完全多次一举。只有当属性是字符串，校验它是否是number才有意义，比如手机号码</p>&#13;\n<h2>BaseEntity类</h2>&#13;\n<p>这里我写了一个BaseEntity类，<span style=\"color: #ff0000;\"><strong>如果一个子类要进行校验，那么这个子类要覆写父类的两个方法，rules和labels方法。这两个方法，一个用来定义对该试题的校验规则，一个定义对实体字段的中文翻译。</strong></span></p>&#13;\n<p> </p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.validator;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.lang.reflect.Field;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.lang.reflect.Method;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.HashMap;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Map;&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2015-06-27.&#13;\n</span><span style=\"color: #008080;\">10</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> BaseEntity {&#13;\n</span><span style=\"color: #008080;\">12</span> &#13;\n<span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">private</span> Validator validator = <span style=\"color: #0000ff;\">new</span> Validator(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">14</span> &#13;\n<span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">protected</span> Map&lt;String,String&gt; labelMap = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">16</span> &#13;\n<span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">18</span>         String [][] allLabels =<span style=\"color: #000000;\"> labels();&#13;\n</span><span style=\"color: #008080;\">19</span>         <span style=\"color: #0000ff;\">if</span>(allLabels != <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">20</span>             <span style=\"color: #0000ff;\">for</span><span style=\"color: #000000;\">(String [] label : allLabels){&#13;\n</span><span style=\"color: #008080;\">21</span>                 String prop = label[0],propLabel = label[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">22</span>                 <span style=\"color: #0000ff;\">if</span>(prop != <span style=\"color: #0000ff;\">null</span> &amp;&amp; hasProp(prop) &amp;&amp; propLabel != <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">                    labelMap.put(prop,propLabel);&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">28</span> &#13;\n<span style=\"color: #008080;\">29</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> hasProp(String prop) {&#13;\n</span><span style=\"color: #008080;\">30</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">31</span>             Field field = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.getClass().getDeclaredField(prop);&#13;\n</span><span style=\"color: #008080;\">32</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">33</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (NoSuchFieldException e) {&#13;\n</span><span style=\"color: #008080;\">34</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">37</span> &#13;\n<span style=\"color: #008080;\">38</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String getLabel(String prop){&#13;\n</span><span style=\"color: #008080;\">39</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> labelMap.get(prop);&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">41</span> &#13;\n<span style=\"color: #008080;\">42</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> fill(Map&lt;String, String[]&gt;<span style=\"color: #000000;\"> parameterMap) {&#13;\n</span><span style=\"color: #008080;\">43</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(this.getClass());</span>&#13;\n<span style=\"color: #008080;\">44</span>         Class clazz = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.getClass();&#13;\n</span><span style=\"color: #008080;\">45</span>         Field fields[] =<span style=\"color: #000000;\"> clazz.getDeclaredFields();&#13;\n</span><span style=\"color: #008080;\">46</span>         <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">int</span> i = 0; i &lt; fields.length; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">47</span>             String fieldName =<span style=\"color: #000000;\"> fields[i].getName();&#13;\n</span><span style=\"color: #008080;\">48</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">System.out.println(fieldName);</span>&#13;\n<span style=\"color: #008080;\">49</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">50</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 查找参数集合</span>&#13;\n<span style=\"color: #008080;\">51</span>                 String values [] =<span style=\"color: #000000;\"> parameterMap.get(fieldName);&#13;\n</span><span style=\"color: #008080;\">52</span>                 <span style=\"color: #0000ff;\">if</span>(values!=<span style=\"color: #0000ff;\">null</span> &amp;&amp; values.length&gt;0<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">53</span>                     String methodName = \"set\"+fieldName.substring(0, 1<span style=\"color: #000000;\">).toUpperCase()&#13;\n</span><span style=\"color: #008080;\">54</span>                         + fieldName.substring(1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">55</span>                     Class fieldType =<span style=\"color: #000000;\"> fields[i].getType();&#13;\n</span><span style=\"color: #008080;\">56</span>                     Method method = clazz.getMethod(methodName,<span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Class[]{fieldType});&#13;\n</span><span style=\"color: #008080;\">57</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 设值</span>&#13;\n<span style=\"color: #008080;\">58</span>                     method.invoke(<span style=\"color: #0000ff;\">this</span>,<span style=\"color: #0000ff;\">new</span> Object[]{fieldType.cast(values[0<span style=\"color: #000000;\">])});&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">60</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (Exception e) {&#13;\n</span><span style=\"color: #008080;\">61</span> <span style=\"color: #000000;\">                e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">62</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">63</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">65</span>     &#13;\n<span style=\"color: #008080;\">66</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">67</span> <span style=\"color: #008000;\">     * 进行校验&#13;\n</span><span style=\"color: #008080;\">68</span> <span style=\"color: #008000;\">     * </span><span style=\"color: #808080;\">@return</span><span style=\"color: #008000;\"> 校验&#13;\n</span><span style=\"color: #008080;\">69</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">70</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> validate() {&#13;\n</span><span style=\"color: #008080;\">71</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.validator.validate();&#13;\n</span><span style=\"color: #008080;\">72</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">73</span> &#13;\n<span style=\"color: #008080;\">74</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">75</span> <span style=\"color: #008000;\">     * 如果校验失败通过他获取错误信息&#13;\n</span><span style=\"color: #008080;\">76</span> <span style=\"color: #008000;\">     * </span><span style=\"color: #808080;\">@return</span><span style=\"color: #008000;\"> 错误信息&#13;\n</span><span style=\"color: #008080;\">77</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">78</span>     <span style=\"color: #0000ff;\">public</span> Map&lt;String,Map&lt;String,String&gt;&gt;<span style=\"color: #000000;\"> getErrors(){&#13;\n</span><span style=\"color: #008080;\">79</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.validator.getErrors();&#13;\n</span><span style=\"color: #008080;\">80</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">81</span> &#13;\n<span style=\"color: #008080;\">82</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">83</span> <span style=\"color: #008000;\">     * 校验规则&#13;\n</span><span style=\"color: #008080;\">84</span> <span style=\"color: #008000;\">     * </span><span style=\"color: #808080;\">@return</span><span style=\"color: #008000;\"> 校验规则&#13;\n</span><span style=\"color: #008080;\">85</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">86</span> &#13;\n<span style=\"color: #008080;\">87</span>     <span style=\"color: #0000ff;\">public</span> String[][] labels(){<span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;}&#13;\n</span><span style=\"color: #008080;\">88</span> &#13;\n<span style=\"color: #008080;\">89</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">90</span> <span style=\"color: #008000;\">     * 字段翻译&#13;\n</span><span style=\"color: #008080;\">91</span> <span style=\"color: #008000;\">     * </span><span style=\"color: #808080;\">@return</span><span style=\"color: #008000;\"> 字段翻译&#13;\n</span><span style=\"color: #008080;\">92</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">93</span>     <span style=\"color: #0000ff;\">public</span> String [][] rules(){<span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;}&#13;\n</span><span style=\"color: #008080;\">94</span>     &#13;\n<span style=\"color: #008080;\">95</span> }</pre>&#13;\n</div>&#13;\n<p>下面创建一个子类，重写rules和labels方法。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.validator;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.sql.Timestamp;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2015-06-26.&#13;\n</span><span style=\"color: #008080;\"> 7</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span> UserEntity <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> BaseEntity {&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String username;&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String password;&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String name;&#13;\n</span><span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Integer gold;&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Integer progress;&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Timestamp createdAt;&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String email;&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String phone;&#13;\n</span><span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String site;&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">省略 getter\\setter方法</span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">    @Override&#13;\n</span><span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String[][] rules() {&#13;\n</span><span style=\"color: #008080;\">22</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> String [][] {&#13;\n</span><span style=\"color: #008080;\">23</span>                 {\"username,password,email,gold,progress,phone\",\"required\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">24</span>                 {\"username,password\",\"length\",\"6\",\"14\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">25</span>                 {\"rePassword\",\"equals\",\"password\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">26</span>                 {\"email\",\"email\",\"\\\\w{6,12}\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">27</span>                 {\"createdAt\",\"timestamp\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">28</span>                 {\"phone\",\"number\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">29</span>                 {\"site\",\"url\"<span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">32</span> &#13;\n<span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String[][] labels() {&#13;\n</span><span style=\"color: #008080;\">34</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> String[][]{&#13;\n</span><span style=\"color: #008080;\">35</span>                 {\"username\",\"用户名\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">36</span>                 {\"password\",\"密码\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">37</span>                 {\"rePassword\",\"确认密码\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">38</span>                 {\"email\",\"邮箱\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">39</span>                 {\"progress\",\"进度\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">40</span>                 {\"phone\",\"电话\"<span style=\"color: #000000;\">},&#13;\n</span><span style=\"color: #008080;\">41</span>                 {\"gold\",\"金币\"<span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">44</span> &#13;\n<span style=\"color: #008080;\">45</span> }</pre>&#13;\n</div>&#13;\n<p>可以看到，校验规则的写法，很简单，每一行第一个字符串写了需要校验的字段，第二个字符串写了这些字段应该满足的规则，后面的字符串是这个规则需要的参数</p>&#13;\n<p>labels 就更简单了。</p>&#13;\n<p>另外这个实例化validator类的时候，除了传递实体外，还可以传递第二个参数，表示是否是短路校验。</p>&#13;\n<h2>Validator类</h2>&#13;\n<p>下面是这个校验的核心类Validator</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.validator;&#13;\n</span><span style=\"color: #008080;\">  2</span> &#13;\n<span style=\"color: #008080;\">  3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.lang.reflect.Field;&#13;\n</span><span style=\"color: #008080;\">  4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.lang.reflect.Method;&#13;\n</span><span style=\"color: #008080;\">  5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.sql.Timestamp;&#13;\n</span><span style=\"color: #008080;\">  6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.text.MessageFormat;&#13;\n</span><span style=\"color: #008080;\">  7</span> <span style=\"color: #0000ff;\">import</span> java.util.*<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">  8</span> &#13;\n<span style=\"color: #008080;\">  9</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 10</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2015-06-27.&#13;\n</span><span style=\"color: #008080;\"> 11</span> <span style=\"color: #008000;\"> *&#13;\n</span><span style=\"color: #008080;\"> 12</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 13</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Validator {&#13;\n</span><span style=\"color: #008080;\"> 14</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 15</span> <span style=\"color: #008000;\">     * 校验类型&#13;\n</span><span style=\"color: #008080;\"> 16</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 17</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String required = \"required\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 18</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String length = \"length\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 19</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String number = \"number\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 20</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String equals = \"equals\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 21</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String email = \"email\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 22</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String url = \"url\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 23</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String regex = \"regex\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 24</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String timestamp = \"timestamp\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 25</span> &#13;\n<span style=\"color: #008080;\"> 26</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 27</span> <span style=\"color: #008000;\">     * 附加参数类型&#13;\n</span><span style=\"color: #008080;\"> 28</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 29</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">int</span> PATTERN = 1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 30</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">int</span> MIN = 2<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 31</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">int</span> MAX = 3<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 32</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">int</span> PROP = 4<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 33</span> &#13;\n<span style=\"color: #008080;\"> 34</span>     <span style=\"color: #0000ff;\">private</span> Map&lt;Integer,Object&gt; params = <span style=\"color: #0000ff;\">new</span> HashMap&lt;Integer,Object&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 35</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 36</span> <span style=\"color: #008000;\">     * 验证失败的错误信息，形式如下&#13;\n</span><span style=\"color: #008080;\"> 37</span> <span style=\"color: #008000;\">     * {\"username\":{\"REQUIRED\":\"用户名必须为空\",...},...}&#13;\n</span><span style=\"color: #008080;\"> 38</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 39</span>     <span style=\"color: #0000ff;\">protected</span> Map&lt;String,Map&lt;String,String&gt;&gt;<span style=\"color: #000000;\"> errors&#13;\n</span><span style=\"color: #008080;\"> 40</span>         = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String,Map&lt;String,String&gt;&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 41</span> &#13;\n<span style=\"color: #008080;\"> 42</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 43</span> <span style=\"color: #008000;\">     * 被校验的实体&#13;\n</span><span style=\"color: #008080;\"> 44</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 45</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> BaseEntity baseEntity;&#13;\n</span><span style=\"color: #008080;\"> 46</span> &#13;\n<span style=\"color: #008080;\"> 47</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 48</span> <span style=\"color: #008000;\">     * 被校验实体的类型&#13;\n</span><span style=\"color: #008080;\"> 49</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 50</span>     <span style=\"color: #0000ff;\">private</span> Class entityClass = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 51</span> &#13;\n<span style=\"color: #008080;\"> 52</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 53</span> <span style=\"color: #008000;\">     * 当前正在被校验的字段&#13;\n</span><span style=\"color: #008080;\"> 54</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 55</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Field field;&#13;\n</span><span style=\"color: #008080;\"> 56</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 57</span> <span style=\"color: #008000;\">     * 当前执行的校验&#13;\n</span><span style=\"color: #008080;\"> 58</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 59</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String validateType ;&#13;\n</span><span style=\"color: #008080;\"> 60</span> &#13;\n<span style=\"color: #008080;\"> 61</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 62</span> <span style=\"color: #008000;\">     * 当前被校验字段的值&#13;\n</span><span style=\"color: #008080;\"> 63</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 64</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Object value;&#13;\n</span><span style=\"color: #008080;\"> 65</span> &#13;\n<span style=\"color: #008080;\"> 66</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 67</span> <span style=\"color: #008000;\">     * 是否短路&#13;\n</span><span style=\"color: #008080;\"> 68</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 69</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> direct;&#13;\n</span><span style=\"color: #008080;\"> 70</span> &#13;\n<span style=\"color: #008080;\"> 71</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String [][] rules ;&#13;\n</span><span style=\"color: #008080;\"> 72</span> &#13;\n<span style=\"color: #008080;\"> 73</span>     <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 74</span> <span style=\"color: #008000;\">     *&#13;\n</span><span style=\"color: #008080;\"> 75</span> <span style=\"color: #008000;\">     * </span><span style=\"color: #808080;\">@param</span><span style=\"color: #008000;\"> baseEntity&#13;\n</span><span style=\"color: #008080;\"> 76</span>      <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 77</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> Validator(BaseEntity baseEntity) {&#13;\n</span><span style=\"color: #008080;\"> 78</span>         <span style=\"color: #0000ff;\">this</span>(baseEntity,<span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 79</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 80</span> &#13;\n<span style=\"color: #008080;\"> 81</span>     <span style=\"color: #0000ff;\">public</span> Validator(BaseEntity baseEntity,<span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> direct){&#13;\n</span><span style=\"color: #008080;\"> 82</span>         <span style=\"color: #0000ff;\">this</span>.baseEntity =<span style=\"color: #000000;\"> baseEntity;&#13;\n</span><span style=\"color: #008080;\"> 83</span>         entityClass =<span style=\"color: #000000;\"> baseEntity.getClass();&#13;\n</span><span style=\"color: #008080;\"> 84</span>         rules =<span style=\"color: #000000;\"> baseEntity.rules();&#13;\n</span><span style=\"color: #008080;\"> 85</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 86</span> &#13;\n<span style=\"color: #008080;\"> 87</span>     <span style=\"color: #0000ff;\">public</span> Map&lt;String,Map&lt;String,String&gt;&gt;<span style=\"color: #000000;\"> getErrors() {&#13;\n</span><span style=\"color: #008080;\"> 88</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> errors;&#13;\n</span><span style=\"color: #008080;\"> 89</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 90</span> &#13;\n<span style=\"color: #008080;\"> 91</span>     <span style=\"color: #0000ff;\">public</span> Map&lt;String,String&gt;<span style=\"color: #000000;\"> getError(String prop){&#13;\n</span><span style=\"color: #008080;\"> 92</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.errors.get(prop);&#13;\n</span><span style=\"color: #008080;\"> 93</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 94</span> &#13;\n<span style=\"color: #008080;\"> 95</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> addError(String prop,String validatorType,String message){&#13;\n</span><span style=\"color: #008080;\"> 96</span>         Map&lt;String,String&gt; error = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.errors.get(prop);&#13;\n</span><span style=\"color: #008080;\"> 97</span>         <span style=\"color: #0000ff;\">if</span>(error==<span style=\"color: #0000ff;\">null</span> || error.size() == 0<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 98</span>             error = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\"> 99</span> <span style=\"color: #000000;\">            errors.put(prop, error);&#13;\n</span><span style=\"color: #008080;\">100</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">101</span> <span style=\"color: #000000;\">        error.put(validatorType,message);&#13;\n</span><span style=\"color: #008080;\">102</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">103</span> &#13;\n<span style=\"color: #008080;\">104</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setRules(String[][] rules) {&#13;\n</span><span style=\"color: #008080;\">105</span>         <span style=\"color: #0000ff;\">this</span>.rules =<span style=\"color: #000000;\"> rules;&#13;\n</span><span style=\"color: #008080;\">106</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">107</span> &#13;\n<span style=\"color: #008080;\">108</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> required(){&#13;\n</span><span style=\"color: #008080;\">109</span>         <span style=\"color: #0000ff;\">if</span>(value!=<span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">110</span>             <span style=\"color: #0000ff;\">if</span>(value.getClass() == String.<span style=\"color: #0000ff;\">class</span> &amp;&amp; \"\"<span style=\"color: #000000;\">.equals(((String)value).trim())){&#13;\n</span><span style=\"color: #008080;\">111</span>                 <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">112</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">113</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">114</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">115</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">116</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">117</span> &#13;\n<span style=\"color: #008080;\">118</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> number(){&#13;\n</span><span style=\"color: #008080;\">119</span>         <span style=\"color: #0000ff;\">if</span>(value.getClass().getGenericSuperclass() == Number.<span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">120</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">121</span>         }<span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(((String)value).matches(\"^\\\\d+$\"<span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">122</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">123</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">124</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">125</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">126</span> &#13;\n<span style=\"color: #008080;\">127</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> email(){&#13;\n</span><span style=\"color: #008080;\">128</span>         <span style=\"color: #0000ff;\">return</span> ((String) value).matches(\"^\\\\w+@\\\\w+.\\\\w+.*\\\\w*$\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">129</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">130</span> &#13;\n<span style=\"color: #008080;\">131</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> url(){&#13;\n</span><span style=\"color: #008080;\">132</span>         <span style=\"color: #0000ff;\">return</span> ((String)value).matches(\"^([a-zA-Z]*://)?([\\\\w-]+\\\\.)+[\\\\w-]+(/[\\\\w\\\\-\\\\.]+)*[/\\\\?%&amp;=]*$\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">133</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">134</span> &#13;\n<span style=\"color: #008080;\">135</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> regex(){&#13;\n</span><span style=\"color: #008080;\">136</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> ((String)value).matches((String) params.get(regex));&#13;\n</span><span style=\"color: #008080;\">137</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">138</span> &#13;\n<span style=\"color: #008080;\">139</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span> equals() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> NoSuchFieldException, IllegalAccessException {&#13;\n</span><span style=\"color: #008080;\">140</span>         String prop =<span style=\"color: #000000;\"> (String) params.get(PROP);&#13;\n</span><span style=\"color: #008080;\">141</span>         Field equalsField =<span style=\"color: #000000;\"> entityClass.getDeclaredField(prop);&#13;\n</span><span style=\"color: #008080;\">142</span>         equalsField.setAccessible(<span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">143</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> value.equals(equalsField.get(baseEntity));&#13;\n</span><span style=\"color: #008080;\">144</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">145</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> timestamp(){&#13;\n</span><span style=\"color: #008080;\">146</span>         <span style=\"color: #0000ff;\">if</span>(field.getType().equals(Timestamp.<span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">147</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">148</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">149</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">150</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">151</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> length() {&#13;\n</span><span style=\"color: #008080;\">152</span>         String val =<span style=\"color: #000000;\"> (String) value;&#13;\n</span><span style=\"color: #008080;\">153</span>         Integer min =<span style=\"color: #000000;\"> (Integer) params.get(MIN);&#13;\n</span><span style=\"color: #008080;\">154</span>         Integer max =<span style=\"color: #000000;\"> (Integer) params.get(MAX);&#13;\n</span><span style=\"color: #008080;\">155</span> &#13;\n<span style=\"color: #008080;\">156</span>         <span style=\"color: #0000ff;\">return</span> val.length() &gt; min &amp;&amp; (max == <span style=\"color: #0000ff;\">null</span> || val.length() &lt;<span style=\"color: #000000;\"> max);&#13;\n</span><span style=\"color: #008080;\">157</span> &#13;\n<span style=\"color: #008080;\">158</span> &#13;\n<span style=\"color: #008080;\">159</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">160</span> &#13;\n<span style=\"color: #008080;\">161</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> validate(){&#13;\n</span><span style=\"color: #008080;\">162</span> <span style=\"color: #000000;\">        errors.clear();&#13;\n</span><span style=\"color: #008080;\">163</span>         <span style=\"color: #0000ff;\">if</span>(rules==<span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">164</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">165</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">166</span> &#13;\n<span style=\"color: #008080;\">167</span>         <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">int</span> i = 0; i &lt; rules.length; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">168</span>             String [] rule = rules[i],fields = rule[0].split(\",\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">169</span>             validateType = rule[1<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">170</span> <span style=\"color: #000000;\">            setParams(rule);&#13;\n</span><span style=\"color: #008080;\">171</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">172</span>                 Method validateMethod = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.getClass()&#13;\n</span><span style=\"color: #008080;\">173</span> <span style=\"color: #000000;\">                    .getMethod(validateType);&#13;\n</span><span style=\"color: #008080;\">174</span>                 <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">int</span> j = 0; j &lt; fields.length; j++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">175</span>                     <span style=\"color: #0000ff;\">if</span>(direct &amp;&amp; getError(fields[j]) != <span style=\"color: #0000ff;\">null</span>){ <span style=\"color: #0000ff;\">continue</span><span style=\"color: #000000;\">; }&#13;\n</span><span style=\"color: #008080;\">176</span> &#13;\n<span style=\"color: #008080;\">177</span>                     field =<span style=\"color: #000000;\"> entityClass.getDeclaredField(fields[j]);&#13;\n</span><span style=\"color: #008080;\">178</span>                     field.setAccessible(<span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">179</span>                     value =<span style=\"color: #000000;\"> field.get(baseEntity);&#13;\n</span><span style=\"color: #008080;\">180</span>                     <span style=\"color: #0000ff;\">if</span>(value != <span style=\"color: #0000ff;\">null</span> || (value == <span style=\"color: #0000ff;\">null</span> &amp;&amp; validateType ==<span style=\"color: #000000;\"> required)){&#13;\n</span><span style=\"color: #008080;\">181</span>                         <span style=\"color: #0000ff;\">if</span>(!(Boolean)validateMethod.invoke(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">182</span> <span style=\"color: #000000;\">                            handleError();&#13;\n</span><span style=\"color: #008080;\">183</span> <span style=\"color: #000000;\">                        }&#13;\n</span><span style=\"color: #008080;\">184</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">185</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">186</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (Exception e) {&#13;\n</span><span style=\"color: #008080;\">187</span> <span style=\"color: #000000;\">                e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">188</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">189</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">190</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">191</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">192</span> &#13;\n<span style=\"color: #008080;\">193</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setParams(String [] rule) {&#13;\n</span><span style=\"color: #008080;\">194</span> <span style=\"color: #000000;\">        params.clear();&#13;\n</span><span style=\"color: #008080;\">195</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 取附加参数</span>&#13;\n<span style=\"color: #008080;\">196</span>         <span style=\"color: #0000ff;\">switch</span><span style=\"color: #000000;\"> (validateType){&#13;\n</span><span style=\"color: #008080;\">197</span>             <span style=\"color: #0000ff;\">case</span><span style=\"color: #000000;\"> regex:&#13;\n</span><span style=\"color: #008080;\">198</span>                 params.put(PATTERN,rule[3<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">199</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">200</span>             <span style=\"color: #0000ff;\">case</span><span style=\"color: #000000;\"> equals:&#13;\n</span><span style=\"color: #008080;\">201</span>                 params.put(PROP, rule[2<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">202</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">203</span>             <span style=\"color: #0000ff;\">case</span><span style=\"color: #000000;\"> length:&#13;\n</span><span style=\"color: #008080;\">204</span>                 <span style=\"color: #0000ff;\">if</span>(rule[2] != <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">205</span>                     params.put(MIN, Integer.valueOf(rule[2<span style=\"color: #000000;\">]));&#13;\n</span><span style=\"color: #008080;\">206</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">207</span>                 <span style=\"color: #0000ff;\">if</span>(rule.length &gt;= 4<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">208</span>                     params.put(MAX,Integer.valueOf(rule[3<span style=\"color: #000000;\">]));&#13;\n</span><span style=\"color: #008080;\">209</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">210</span>                 <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">211</span>             <span style=\"color: #0000ff;\">default</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">212</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">213</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">214</span> &#13;\n<span style=\"color: #008080;\">215</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> handleError() {&#13;\n</span><span style=\"color: #008080;\">216</span>         String name = <span style=\"color: #0000ff;\">this</span>.baseEntity.getLabel(field.getName()) != <span style=\"color: #0000ff;\">null</span>&#13;\n<span style=\"color: #008080;\">217</span>                 ? <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.baseEntity.getLabel(field.getName()) : field.getName(),&#13;\n</span><span style=\"color: #008080;\">218</span>                 message =<span style=\"color: #000000;\"> MessageFormat.format(Messages.getMsg(validateType),name);&#13;\n</span><span style=\"color: #008080;\">219</span>         <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.addError(field.getName(), validateType, message);&#13;\n</span><span style=\"color: #008080;\">220</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">221</span> &#13;\n<span style=\"color: #008080;\">222</span> }</pre>&#13;\n</div>&#13;\n<h2>消息模板</h2>&#13;\n<p>下面是错误消息模板</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.validator;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.HashMap;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Map;&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2015-06-28.&#13;\n</span><span style=\"color: #008080;\"> 8</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Messages {&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> Map&lt;String,String&gt; msgMap = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String,String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">static</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">13</span>         msgMap.put(Validator.required,\"{0}必须填写\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">14</span>         msgMap.put(Validator.email,\"{0}不合法\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span>         msgMap.put(Validator.equals,\"{0}与{1}不相同\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span>         msgMap.put(Validator.length,\"{0}长度必须在{1}-{2}之间\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">17</span>         msgMap.put(Validator.regex,\"{0}不符合表达式\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">18</span>         msgMap.put(Validator.timestamp,\"{0}不是合法的日期格式\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">19</span>         msgMap.put(Validator.number,\"{0}不是数字格式\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">20</span>         msgMap.put(Validator.url,\"{0}不是合法的url\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">22</span> &#13;\n<span style=\"color: #008080;\">23</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span><span style=\"color: #000000;\"> String getMsg(String validateType) {&#13;\n</span><span style=\"color: #008080;\">24</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> msgMap.get(validateType);&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">26</span> }</pre>&#13;\n</div>&#13;\n<h2>测试结果</h2>&#13;\n<p>下面写个main方法测试</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.validator;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2015-06-28.&#13;\n</span><span style=\"color: #008080;\"> 5</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> MainTest {&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span>         UserEntity userEntity = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> UserEntity();&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">        userEntity.validate();&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">        System.out.println(userEntity.getErrors());&#13;\n</span><span style=\"color: #008080;\">12</span> &#13;\n<span style=\"color: #008080;\">13</span>         userEntity.setUsername(\"lvyahui\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">14</span>         userEntity.setRePassword(\"admin888\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span>         userEntity.setPassword(\"admin888\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span>         userEntity.setEmail(\"lvyaui82.com\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">        userEntity.validate();&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">        System.out.println(userEntity.getErrors());&#13;\n</span><span style=\"color: #008080;\">19</span> &#13;\n<span style=\"color: #008080;\">20</span>         userEntity.setEmail(\"lvyaui8@12.com\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">21</span>         userEntity.setPhone(\"hjhjkhj7867868\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">22</span>         userEntity.setGold(1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">23</span>         userEntity.setSite(\"www.baidu.com\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">        userEntity.validate();&#13;\n</span><span style=\"color: #008080;\">26</span> &#13;\n<span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">        System.out.println(userEntity.getErrors());&#13;\n</span><span style=\"color: #008080;\">28</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> ([a-zA-Z]*:</span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">)?([\\w-]+\\.)+[\\w-]+(/[\\w-]+)*[/?%&amp;=]*</span>&#13;\n<span style=\"color: #008080;\">29</span>         userEntity.setSite(\"http://www.baidu.com/index.php\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">30</span>         userEntity.setProgress(123<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">31</span>         userEntity.setPhone(\"156464564512\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">        userEntity.validate();&#13;\n</span><span style=\"color: #008080;\">33</span> &#13;\n<span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">        System.out.println(userEntity.getErrors());&#13;\n</span><span style=\"color: #008080;\">35</span> &#13;\n<span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">37</span> &#13;\n<span style=\"color: #008080;\">38</span> }</pre>&#13;\n</div>&#13;\n<p>运行程序，得到这样的输出</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> {gold={required=金币必须填写}, password={required=密码必须填写}, phone={required=电话必须填写}, progress={required=进度必须填写}, email={required=邮箱必须填写}, username={required=<span style=\"color: #000000;\">用户名必须填写}}&#13;\n</span><span style=\"color: #008080;\">2</span> {gold={required=金币必须填写}, phone={required=电话必须填写}, progress={required=进度必须填写}, email={email=<span style=\"color: #000000;\">邮箱不合法}}&#13;\n</span><span style=\"color: #008080;\">3</span> {phone={number=电话不是数字格式}, progress={required=<span style=\"color: #000000;\">进度必须填写}}&#13;\n</span><span style=\"color: #008080;\">4</span> {}</pre>&#13;\n</div>&#13;\n<p>后面要做的就是直接对map进行校验</p>&#13;\n<p>我的想法是通过validator类添加set方法注入规则和翻译。当然上面的错误信息模板可以到xml文件中进行配置，至于校验规则和翻译个人认为没有必要放到xml中去。</p>&#13;\n<p> </p></div>',944,'2015-07-13 04:17:00','2016-07-31 10:21:44',2,'http://www.cnblogs.com/lvyahui/p/4642538.html',4642538),(496,'ajax 异步上传视频带进度条并提取缩略图','最近在做一个集富媒体功能于一身的项目。需要上传视频。这里我希望做成异步上传，并且有进度条，响应有状态码，视频连接，缩略图。&#13;\n服务端响应&#13;\n&#13;\n1 ','<div id=\"cnblogs_post_body\"><p>最近在做一个集富媒体功能于一身的项目。需要上传视频。这里我希望做成异步上传，并且有进度条，响应有状态码，视频连接，缩略图。</p>&#13;\n<h2>服务端响应</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">2</span>     \"thumbnail\": \"/slsxpt//upload/thumbnail/6f05d4985598160c548e6e8f537247c8.jpg\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">3</span>     \"success\": <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">4</span>     \"link\": \"/slsxpt//upload/video/6f05d4985598160c548e6e8f537247c8.mp4\"&#13;\n<span style=\"color: #008080;\">5</span> }</pre>&#13;\n</div>&#13;\n<p>并且希望我的input file控件不要被form标签包裹。原因是form中不能嵌套form，另外form标签在浏览器了还是有一点点默认样式的，搞不好又要写css。</p>&#13;\n<p>以前用ajaxFileUpload做过文件异步上传。不过这个东西好久未更新，代码还有bug，虽然最后勉强成功用上了，但总觉不好。而且ajaxFileUpload没有直接添加xhr2的progress事件响应，比较麻烦。</p>&#13;\n<p>上网找了一下，发现方法都是很多。</p>&#13;\n<p>比如在文件上传后，将上传进度放到session中，轮询服务器session。但我总觉的这个方法有问题，我认为这种方法看到的进度，应该是我的服务端应用程序代码（我的也就是action）从服务器的临时目录复制文件的进度，因为所有请求都应该先提交给服务器软件，也就是tomcat，tomcat对请求进行封装session，request等对象，并且文件实际上也应该是它来接收的。也就是说在我的action代码执行之前，文件实际上已经上传完毕了。</p>&#13;\n<p>后来找到个比较好的方法使用 jquery.form.js插件的ajaxSubmit方法。这个方法以表单来提交，也就是 $.fn.ajaxSubmit.：$(form selector).ajaxSubmit({})，这个api的好处是它已经对xhr2的progress时间进行了处理，可以在调用时传递一个uploadProgress的function，在function里就能够拿到进度。而且如果不想input file被form包裹也没关系，在代码里createElement应该可以。不过这个方法我因为犯了个小错误最后没有成功，可惜了。</p>&#13;\n<h2>ajaxSubmit源码</h2>&#13;\n<p>最后，还是使用了$.ajax 方法来做。$.ajax 不需要关联form，有点像个静态方法哦。唯一的遗憾就是$.ajax options里没有对progress的响应。不过它有一个参数为 xhr ,也就是你可以定制xhr，那么久可以通过xhr添加progress的事件处理程序。再结合看一看ajaxSubmit方法里对progress事件的处理，顿时豁然开朗</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/152203182359330.png\" alt=\"\"/></p>&#13;\n<p>那么我也可以在$.ajax 方法中添加progress事件处理函数了。为了把对dom的操作从上传业务中抽取出来，我决定以插件的形式写。下面是插件的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> ;(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> ($) {&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">var</span> defaults =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 3</span>             uploadProgress        :    <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 4</span>             beforeSend            :    <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 5</span>             success                :    <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\"> 7</span>         setting =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">var</span> upload = <span style=\"color: #0000ff;\">function</span>($<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">12</span>         $<span style=\"color: #0000ff;\">this</span>.parent().on(\'change\',$<span style=\"color: #0000ff;\">this</span>,<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(event){&#13;\n</span><span style=\"color: #008080;\">13</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">var $this = $(event.target),</span>&#13;\n<span style=\"color: #008080;\">14</span>             <span style=\"color: #0000ff;\">var</span>    formData = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> FormData(),&#13;\n</span><span style=\"color: #008080;\">15</span>                 target = event.target ||<span style=\"color: #000000;\"> event.srcElement;&#13;\n</span><span style=\"color: #008080;\">16</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">$.each(target.files, function(key, value)</span>&#13;\n<span style=\"color: #008080;\">17</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">{</span>&#13;\n<span style=\"color: #008080;\">18</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    console.log(key);</span>&#13;\n<span style=\"color: #008080;\">19</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    formData.append(key, value);</span>&#13;\n<span style=\"color: #008080;\">20</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">});</span>&#13;\n<span style=\"color: #008080;\">21</span>             formData.append(\'file\',target.files[0<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">22</span>             settings.fileType &amp;&amp; formData.append(\'fileType\'<span style=\"color: #000000;\">,settings.fileType);&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">            $.ajax({&#13;\n</span><span style=\"color: #008080;\">24</span>                 url                :    $<span style=\"color: #0000ff;\">this</span>.data(\'url\'<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">25</span>                 type            :    \"POST\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">                data            :    formData,&#13;\n</span><span style=\"color: #008080;\">27</span>                 dataType        :    \'json\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">28</span>                 processData        :    <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">29</span>                 contentType        :    <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">30</span>                 cache            :    <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">31</span>                 beforeSend        :    <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">32</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">console.log(\'start\');</span>&#13;\n<span style=\"color: #008080;\">33</span>                     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(settings.beforeSend){&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">                        settings.beforeSend();&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">                },&#13;\n</span><span style=\"color: #008080;\">37</span>                 xhr                :     <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">() {&#13;\n</span><span style=\"color: #008080;\">38</span>                     <span style=\"color: #0000ff;\">var</span> xhr =<span style=\"color: #000000;\"> $.ajaxSettings.xhr();&#13;\n</span><span style=\"color: #008080;\">39</span>                     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(xhr.upload){&#13;\n</span><span style=\"color: #008080;\">40</span>                         xhr.upload.addEventListener(\'progress\',<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(event){&#13;\n</span><span style=\"color: #008080;\">41</span>                             <span style=\"color: #0000ff;\">var</span> total =<span style=\"color: #000000;\"> event.total,&#13;\n</span><span style=\"color: #008080;\">42</span>                                 position = event.loaded  ||<span style=\"color: #000000;\"> event.position,&#13;\n</span><span style=\"color: #008080;\">43</span>                                 percent = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">44</span>                             <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(event.lengthComputable){&#13;\n</span><span style=\"color: #008080;\">45</span>                                 percent = Math.ceil(position / total * 100<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">                            }&#13;\n</span><span style=\"color: #008080;\">47</span>                             <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(settings.uploadProgress){&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">                                settings.uploadProgress(event, position, total, percent);&#13;\n</span><span style=\"color: #008080;\">49</span> <span style=\"color: #000000;\">                            }&#13;\n</span><span style=\"color: #008080;\">50</span> &#13;\n<span style=\"color: #008080;\">51</span>                         }, <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">53</span>                     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> xhr;&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">                },&#13;\n</span><span style=\"color: #008080;\">55</span>                 success            :    <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(data,status,jXhr){&#13;\n</span><span style=\"color: #008080;\">56</span>                     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(settings.success){&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">                        settings.success(data);&#13;\n</span><span style=\"color: #008080;\">58</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">                },&#13;\n</span><span style=\"color: #008080;\">60</span>                 error            :    <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(jXhr,status,error){&#13;\n</span><span style=\"color: #008080;\">61</span>                     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(settings.error){&#13;\n</span><span style=\"color: #008080;\">62</span> <span style=\"color: #000000;\">                        settings.error(jXhr,status,error);&#13;\n</span><span style=\"color: #008080;\">63</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">65</span> <span style=\"color: #000000;\">            });&#13;\n</span><span style=\"color: #008080;\">66</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\">67</span> &#13;\n<span style=\"color: #008080;\">68</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">69</span>     $.fn.uploadFile = <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> (options) {&#13;\n</span><span style=\"color: #008080;\">70</span>         settings =<span style=\"color: #000000;\"> $.extend({}, defaults, options);&#13;\n</span><span style=\"color: #008080;\">71</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 文件上传</span>&#13;\n<span style=\"color: #008080;\">72</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span>.each(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">73</span>             upload($(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">74</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\">75</span> &#13;\n<span style=\"color: #008080;\">76</span> &#13;\n<span style=\"color: #008080;\">77</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">78</span> })($ || jQuery);</pre>&#13;\n</div>&#13;\n<p>下面就可以在我的jsp页面里面使用这个api了。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;div class=\"col-sm-5\"&gt;&#13;\n<span style=\"color: #008080;\"> 2</span>     &lt;input type=\"text\" name=\"resource_url\" id=\"resource_url\" hidden=\"hidden\"/&gt;&#13;\n<span style=\"color: #008080;\"> 3</span>     &lt;div class=\"progress\" style=\'display: none;\'&gt;&#13;\n<span style=\"color: #008080;\"> 4</span>         &lt;div class=\"progress-bar progress-bar-success uploadVideoProgress\" role=\"progressbar\"&#13;\n<span style=\"color: #008080;\"> 5</span>              aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%\"&gt;&#13;\n<span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span>         &lt;/div&gt;&#13;\n<span style=\"color: #008080;\"> 8</span>     &lt;/div&gt;&#13;\n<span style=\"color: #008080;\"> 9</span>     &lt;input type=\"file\" class=\"form-control file2 inline btn btn-primary uploadInput uploadVideo\"&#13;\n<span style=\"color: #008080;\">10</span>            accept=\"video/mp4\"&#13;\n<span style=\"color: #008080;\">11</span>            data-url=\"${baseUrl}/upload-video.action\"&#13;\n<span style=\"color: #008080;\">12</span>            data-label=\"&lt;i class=\'glyphicon glyphicon-circle-arrow-up\'&gt;&lt;/i&gt; &amp;nbsp;选择文件\" /&gt;&#13;\n<span style=\"color: #008080;\">13</span>     &lt;script&gt;&#13;\n<span style=\"color: #008080;\">14</span>         (<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">($){&#13;\n</span><span style=\"color: #008080;\">15</span>             $(document).ready(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">16</span>                 <span style=\"color: #0000ff;\">var</span> $progress   = $(\'.uploadVideoProgress\'<span style=\"color: #000000;\">),&#13;\n</span><span style=\"color: #008080;\">17</span>                         start  = <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">18</span>                 $(\'input.uploadInput.uploadVideo\'<span style=\"color: #000000;\">).uploadFile({&#13;\n</span><span style=\"color: #008080;\">19</span>                     beforeSend      : <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">                        $progress.parent().show();&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">                    },&#13;\n</span><span style=\"color: #008080;\">22</span>                     uploadProgress  : <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(event, position, total, percent){&#13;\n</span><span style=\"color: #008080;\">23</span>                         $progress.attr(\'aria-valuenow\'<span style=\"color: #000000;\">,percent);&#13;\n</span><span style=\"color: #008080;\">24</span>                         $progress.width(percent+\'%\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">25</span>                         <span style=\"color: #0000ff;\">if</span>(percent &gt;= 100<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">                            $progress.parent().hide();&#13;\n</span><span style=\"color: #008080;\">27</span>                             $progress.attr(\'aria-valuenow\',0<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">28</span>                             $progress.width(0+\'%\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">                        }&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">                    },&#13;\n</span><span style=\"color: #008080;\">31</span>                     success         : <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(data){&#13;\n</span><span style=\"color: #008080;\">32</span>                         <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(data.success){&#13;\n</span><span style=\"color: #008080;\">33</span>                             setTimeout(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n</span><span style=\"color: #008080;\">34</span>                                 $(\'#thumbnail\').attr(\'src\'<span style=\"color: #000000;\">,data.thumbnail);&#13;\n</span><span style=\"color: #008080;\">35</span>                             },800<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">                        }&#13;\n</span><span style=\"color: #008080;\">37</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">                });&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">            });&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">        })(jQuery);&#13;\n</span><span style=\"color: #008080;\">41</span>     &lt;/script&gt;&#13;\n<span style=\"color: #008080;\">42</span> &lt;/div&gt;</pre>&#13;\n</div>&#13;\n<p>这里在响应succes的时候设置超时800毫秒之后获取图片，因为提取缩量图是另一个进程在做可能响应完成的时候缩略图还没提取完成</p>&#13;\n<h2>看下效果</h2>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/152211010016387.gif\" alt=\"\"/></p>&#13;\n<h2>提取缩量图</h2>&#13;\n<p>下面部分就是服务端处理上传，并且对视频提取缩量图下面是action的处理代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.app.actions;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.commons.io.FileUtils;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.struts2.ServletActionContext;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.lyh.app.base.BaseAction;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.lyh.library.SiteHelpers;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.lyh.library.VideoUtils;&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.io.File;&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.io.IOException;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.security.KeyStore;&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.HashMap;&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Map;&#13;\n</span><span style=\"color: #008080;\">14</span> &#13;\n<span style=\"color: #008080;\">15</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">16</span> <span style=\"color: #008000;\"> * Created by admin on 2015/7/2.&#13;\n</span><span style=\"color: #008080;\">17</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">18</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span> UploadAction <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> BaseAction{&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String saveBasePath;&#13;\n</span><span style=\"color: #008080;\">20</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String imagePath;&#13;\n</span><span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String videoPath;&#13;\n</span><span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String audioPath;&#13;\n</span><span style=\"color: #008080;\">23</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String thumbnailPath;&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> File file;&#13;\n</span><span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String fileFileName;&#13;\n</span><span style=\"color: #008080;\">27</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String fileContentType;&#13;\n</span><span style=\"color: #008080;\">28</span>     &#13;\n<span style=\"color: #008080;\">29</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 省略setter getter方法</span>&#13;\n<span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String video() {&#13;\n</span><span style=\"color: #008080;\">32</span>         Map&lt;String, Object&gt; dataJson = <span style=\"color: #0000ff;\">new</span> HashMap&lt;String, Object&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">        System.out.println(file);&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">        System.out.println(fileFileName);&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">        System.out.println(fileContentType);&#13;\n</span><span style=\"color: #008080;\">36</span>         String fileExtend = fileFileName.substring(fileFileName.lastIndexOf(\".\"<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">37</span>         String newFileName = SiteHelpers.md5(fileFileName +<span style=\"color: #000000;\"> file.getTotalSpace());&#13;\n</span><span style=\"color: #008080;\">38</span>         String typeDir = \"normal\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">39</span>         String thumbnailName = <span style=\"color: #0000ff;\">null</span>,thumbnailFile = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">40</span>         <span style=\"color: #0000ff;\">boolean</span> needThumb = <span style=\"color: #0000ff;\">false</span>,extractOk = <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">41</span>         <span style=\"color: #0000ff;\">if</span> (fileContentType.contains(\"video\"<span style=\"color: #000000;\">)) {&#13;\n</span><span style=\"color: #008080;\">42</span>             typeDir =<span style=\"color: #000000;\"> videoPath;&#13;\n</span><span style=\"color: #008080;\">43</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 提取缩量图</span>&#13;\n<span style=\"color: #008080;\">44</span>             needThumb = <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">45</span>             thumbnailName = newFileName + \".jpg\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">            thumbnailFile&#13;\n</span><span style=\"color: #008080;\">47</span>                     = app.getRealPath(saveBasePath + thumbnailPath) + \"/\" +<span style=\"color: #000000;\"> thumbnailName;&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">49</span>         String realPath = app.getRealPath(saveBasePath +<span style=\"color: #000000;\"> typeDir);&#13;\n</span><span style=\"color: #008080;\">50</span>         File saveFile = <span style=\"color: #0000ff;\">new</span> File(realPath, newFileName +<span style=\"color: #000000;\"> fileExtend);&#13;\n</span><span style=\"color: #008080;\">51</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 存在同名文件，跳过</span>&#13;\n<span style=\"color: #008080;\">52</span>         <span style=\"color: #0000ff;\">if</span> (!<span style=\"color: #000000;\">saveFile.exists()) {&#13;\n</span><span style=\"color: #008080;\">53</span>             <span style=\"color: #0000ff;\">if</span> (!<span style=\"color: #000000;\">saveFile.getParentFile().exists()) {&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">                saveFile.getParentFile().mkdirs();&#13;\n</span><span style=\"color: #008080;\">55</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">56</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">                FileUtils.copyFile(file, saveFile);&#13;\n</span><span style=\"color: #008080;\">58</span>                 <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(needThumb){&#13;\n</span><span style=\"color: #008080;\">59</span>                     extractOk =<span style=\"color: #000000;\"> VideoUtils.extractThumbnail(saveFile, thumbnailFile);&#13;\n</span><span style=\"color: #008080;\">60</span>                     System.out.println(\"提取缩略图成功:\"+<span style=\"color: #000000;\">extractOk);&#13;\n</span><span style=\"color: #008080;\">61</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">62</span>                 dataJson.put(\"success\", <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">63</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (IOException e) {&#13;\n</span><span style=\"color: #008080;\">64</span> <span style=\"color: #000000;\">                System.out.println(e.getMessage());&#13;\n</span><span style=\"color: #008080;\">65</span>                 dataJson.put(\"success\", <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">66</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">67</span>         }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">68</span>             dataJson.put(\"success\", <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">69</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">70</span>         <span style=\"color: #0000ff;\">if</span>((Boolean)dataJson.get(\"success\"<span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\">71</span>             dataJson.put(\"link\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">72</span>                     app.getContextPath() + \"/\" + saveBasePath + typeDir + \"/\" + newFileName +<span style=\"color: #000000;\"> fileExtend);&#13;\n</span><span style=\"color: #008080;\">73</span>             <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(needThumb){&#13;\n</span><span style=\"color: #008080;\">74</span>                 dataJson.put(\"thumbnail\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">75</span>                         app.getContextPath() + \"/\" + saveBasePath + thumbnailPath + \"/\" +<span style=\"color: #000000;\"> thumbnailName);&#13;\n</span><span style=\"color: #008080;\">76</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">77</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">78</span>         <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.responceJson(dataJson);&#13;\n</span><span style=\"color: #008080;\">79</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> NONE;&#13;\n</span><span style=\"color: #008080;\">80</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">81</span> &#13;\n<span style=\"color: #008080;\">82</span> }</pre>&#13;\n</div>&#13;\n<h2>action配置</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> &lt;action name=\"upload-*\" <span style=\"color: #0000ff;\">class</span>=\"uploadAction\" method=\"{1}\"&gt;&#13;\n<span style=\"color: #008080;\">2</span>         &lt;param name=\"saveBasePath\"&gt;/upload&lt;/param&gt;&#13;\n<span style=\"color: #008080;\">3</span>         &lt;param name=\"imagePath\"&gt;/images&lt;/param&gt;&#13;\n<span style=\"color: #008080;\">4</span>         &lt;param name=\"videoPath\"&gt;/video&lt;/param&gt;&#13;\n<span style=\"color: #008080;\">5</span>         &lt;param name=\"audioPath\"&gt;/audio&lt;/param&gt;&#13;\n<span style=\"color: #008080;\">6</span>         &lt;param name=\"thumbnailPath\"&gt;/thumbnail&lt;/param&gt;&#13;\n<span style=\"color: #008080;\">7</span> &lt;/action&gt;</pre>&#13;\n</div>&#13;\n<p>这里个人认为，如果文件的名称跟大小完全一样的话，它们是一个文件的概率就非常大了，所以我这里取文件名跟文件大小做md5运算，应该可以稍微避免下重复上传相同文件了。</p>&#13;\n<p>转码的时候用到FFmpeg。需要的可以去这里下载。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.library;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.io.File;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.io.IOException;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.io.InputStream;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.ArrayList;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.List;&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\"> * Created by admin on 2015/7/15.&#13;\n</span><span style=\"color: #008080;\">11</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> VideoUtils {&#13;\n</span><span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> String FFMPEG_EXECUTOR = \"C:/Software/ffmpeg.exe\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">int</span> THUMBNAIL_WIDTH = 400<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">int</span> THUMBNAIL_HEIGHT = 300<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span> &#13;\n<span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">boolean</span><span style=\"color: #000000;\"> extractThumbnail(File inputFile,String thumbnailOutput){&#13;\n</span><span style=\"color: #008080;\">18</span>         List&lt;String&gt; command = <span style=\"color: #0000ff;\">new</span> ArrayList&lt;String&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">19</span>         File ffmpegExe = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> File(FFMPEG_EXECUTOR);&#13;\n</span><span style=\"color: #008080;\">20</span>         <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #000000;\">ffmpegExe.exists()){&#13;\n</span><span style=\"color: #008080;\">21</span>             System.out.println(\"转码工具不存在\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">22</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">        System.out.println(ffmpegExe.getAbsolutePath());&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">        System.out.println(inputFile.getAbsolutePath());&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">        command.add(ffmpegExe.getAbsolutePath());&#13;\n</span><span style=\"color: #008080;\">28</span>         command.add(\"-i\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">        command.add(inputFile.getAbsolutePath());&#13;\n</span><span style=\"color: #008080;\">30</span>         command.add(\"-y\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">31</span>         command.add(\"-f\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">32</span>         command.add(\"image2\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">33</span>         command.add(\"-ss\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">34</span>         command.add(\"10\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">35</span>         command.add(\"-t\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">36</span>         command.add(\"0.001\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">37</span>         command.add(\"-s\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">38</span>         command.add(THUMBNAIL_WIDTH+\"*\"+<span style=\"color: #000000;\">THUMBNAIL_HEIGHT);&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">        command.add(thumbnailOutput);&#13;\n</span><span style=\"color: #008080;\">40</span> &#13;\n<span style=\"color: #008080;\">41</span>         ProcessBuilder builder = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ProcessBuilder();&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">        builder.command(command);&#13;\n</span><span style=\"color: #008080;\">43</span>         builder.redirectErrorStream(<span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">44</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">45</span>             <span style=\"color: #0000ff;\">long</span> startTime =<span style=\"color: #000000;\"> System.currentTimeMillis();&#13;\n</span><span style=\"color: #008080;\">46</span>             Process process =<span style=\"color: #000000;\"> builder.start();&#13;\n</span><span style=\"color: #008080;\">47</span>             System.out.println(\"启动耗时\"+(System.currentTimeMillis()-<span style=\"color: #000000;\">startTime));&#13;\n</span><span style=\"color: #008080;\">48</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">49</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (IOException e) {&#13;\n</span><span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">51</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">54</span> &#13;\n<span style=\"color: #008080;\">55</span> }</pre>&#13;\n</div>&#13;\n<p>另外这里由java启动了另外一个进程，在我看来他们应该是互不相干的，java启动了ffmpeg.exe之后，应该回来继续执行下面的代码，所以并不需要单独起一个线程去提取缩量图。测试看也发现耗时不多。每次长传耗时也区别不大，下面是两次上传同一个文件耗时</p>&#13;\n<p>第一次</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/152239219079550.png\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/152239090639273.png\" alt=\"\"/></p>&#13;\n<p>第二次</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/152240047983648.png\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/152240224388890.png\" alt=\"\"/></p>&#13;\n<p>就用户体验来说没有很大的区别。</p>&#13;\n<p>另外这里上传较大文件需要对tomcat和struct做点配置</p>&#13;\n<p>修改tomcat下conf目录下的server.xml文件，为Connector节点添加属性 maxPostSize=\"0\"表示不显示上传大小</p>&#13;\n<p>另外修改 struts.xml添加配置，这里的value单位为字节，这里大概300多mb</p>&#13;\n<pre>&lt;constant name=\"struts.multipart.maxSize\" value=\"396014978\"/&gt;</pre>&#13;\n<p> </p></div>',1255,'2015-07-15 02:47:00','2016-07-31 10:21:45',2,'http://www.cnblogs.com/lvyahui/p/4649754.html',4649754),(497,'1505: 酷酷的单词','Time Limit: 1 Sec  Memory Limit: 128 MB&#13;\nDescription&#13;\n','<div id=\"cnblogs_post_body\"><h3><span class=\"green\">Time Limit: 1 Sec  <span class=\"green\">Memory Limit: 128 MB<span class=\"green\"><br/></span></span></span></h3>&#13;\n<h3>Description</h3>&#13;\n<div class=\"content\">&#13;\n<p>输入一些仅由小写字母组成的单词。你的任务是统计有多少个单词是“酷”的，即每种字母出现的次数都不同。<br/>比如ada是酷的，因为a出现2次，d出现1次，而1和2不同。再比如，banana也是酷的，因为a出现3次，n出现2次，b出现1次。但是，bbacccd不是酷的，因为a和d出现的次数相同（均为1次）。</p>&#13;\n<p> </p>&#13;\n&#13;\n&#13;\n</div>&#13;\n<h3>Input</h3>&#13;\n<div class=\"content\">&#13;\n<p>输入包含不超过30组数据。每组数据第一行为单词个数n (1&lt;=n&lt;=10000)。以下n行各包含一个单词，字母个数为1~30。</p>&#13;\n<p> </p>&#13;\n&#13;\n&#13;\n</div>&#13;\n<h3>Output</h3>&#13;\n<div class=\"content\">&#13;\n<p>对于每组数据，输出测试点编号和酷单词的个数。</p>&#13;\n<p> </p>&#13;\n&#13;\n&#13;\n</div>&#13;\n<h3>Sample Input</h3>&#13;\n<pre class=\"content\"><span class=\"sampledata\">2&#13;\nada&#13;\nbbacccd&#13;\n2&#13;\nillness&#13;\na</span></pre>&#13;\n<h3>Sample Output</h3>&#13;\n<pre class=\"content\"><span class=\"sampledata\">Case 1: 1&#13;\nCase 2: 0<br/></span></pre>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;<span style=\"color: #0000ff;\">string</span>.h&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> &#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> main(){&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">int</span> ct[<span style=\"color: #800080;\">255</span>],ft[<span style=\"color: #800080;\">40</span>],k=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">,n;&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">char</span> tmp[<span style=\"color: #800080;\">40</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">freopen(\"1505.in\",\"r\",stdin);</span>&#13;\n<span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">while</span>(scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d</span><span style=\"color: #800000;\">\"</span>,&amp;n) == <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 9</span>         <span style=\"color: #0000ff;\">int</span> count = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">10</span>         <span style=\"color: #0000ff;\">while</span>(n--<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">11</span>             <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i,j,len;&#13;\n</span><span style=\"color: #008080;\">12</span>             scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%s</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,tmp);&#13;\n</span><span style=\"color: #008080;\">13</span>             len =<span style=\"color: #000000;\"> strlen(tmp);&#13;\n</span><span style=\"color: #008080;\">14</span>             memset(ct,<span style=\"color: #800080;\">0</span>,<span style=\"color: #0000ff;\">sizeof</span><span style=\"color: #000000;\">(ct));&#13;\n</span><span style=\"color: #008080;\">15</span>             memset(ft,<span style=\"color: #800080;\">0</span>,<span style=\"color: #0000ff;\">sizeof</span><span style=\"color: #000000;\">(ft));&#13;\n</span><span style=\"color: #008080;\">16</span>             <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;len;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">17</span>                 ct[tmp[i]]++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">19</span>             <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;<span style=\"color: #800080;\">255</span>;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">20</span>                 <span style=\"color: #0000ff;\">if</span>(ct[i] != <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">21</span>                     ft[ct[i]]++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">24</span>             <span style=\"color: #0000ff;\">int</span> flag = <span style=\"color: #800080;\">0</span>,t=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">25</span>             <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;<span style=\"color: #800080;\">40</span>;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">26</span>                 <span style=\"color: #0000ff;\">if</span>(ft[i]==<span style=\"color: #800080;\">1</span>) t++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">27</span>                 <span style=\"color: #0000ff;\">if</span>(ft[i]&gt;<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">28</span>                     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> bu ku </span>&#13;\n<span style=\"color: #008080;\">29</span>                     flag = <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">30</span>                     <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">33</span>             <span style=\"color: #0000ff;\">if</span>(!flag &amp;&amp; t!=<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">34</span>                 count++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">37</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Case %d: %d\\n</span><span style=\"color: #800000;\">\"</span>,++<span style=\"color: #000000;\">k,count);&#13;\n</span><span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">39</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">40</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<pre class=\"content\"><span class=\"sampledata\"><br/><br/></span></pre></div>',66,'2015-07-16 01:36:00','2016-07-31 10:21:46',12,'http://www.cnblogs.com/lvyahui/p/4652586.html',4652586),(498,'基本数据结构和算法回顾','最近想回过头来看看以前写的一些代码，可叹为何刚进大学的时候不知道要养成写博客的好习惯。现在好多东西都没有做记录，后面也没再遇到相同的问题，忘的都差不多了。只能勉强整理了下面写的一些代码，这些代码有的有参考别人的代码，但都是自己曾经一点点敲的，挂出来，虽然很基础，但希望能对别人有帮助。&#13;\n链表&#13;\n','<div id=\"cnblogs_post_body\"><p>最近想回过头来看看以前写的一些代码，可叹为何刚进大学的时候不知道要养成写博客的好习惯。现在好多东西都没有做记录，后面也没再遇到相同的问题，忘的都差不多了。只能勉强整理了下面写的一些代码，这些代码有的有参考别人的代码，但都是自己曾经一点点敲的，挂出来，虽然很基础，但希望能对别人有帮助。</p>&#13;\n<h2>链表</h2>&#13;\n<p>链表是一种非常基本的数据结构，被广泛的用在各种语言的集合框架中。</p>&#13;\n<p>首先链表是一张表，只不过链表中的元素在内存中不一定相邻，并且每个元素都可带有指向另一个元素的指针。</p>&#13;\n<p>链表有，单项链表，双向链表，循环链表等。</p>&#13;\n<h3>单项链表的数据结构</h3>&#13;\n<p>如下</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> NODE{&#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #0000ff;\">struct</span> NODE *<span style=\"color: #000000;\"> link;&#13;\n</span><span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> value;&#13;\n</span><span style=\"color: #008080;\">4</span> } Node;</pre>&#13;\n</div>&#13;\n<h3>对链表的操作</h3>&#13;\n<p>主要有增删查</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> Node *<span style=\"color: #000000;\"> create(){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     Node * head,* p,*<span style=\"color: #000000;\"> tail;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  这里创建不带头节点的链表</span>&#13;\n<span style=\"color: #008080;\"> 4</span>     head=<span style=\"color: #000000;\">NULL;&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">do</span>&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 7</span>         p=(Node*)<span style=\"color: #0000ff;\">malloc</span><span style=\"color: #000000;\">(LEN);&#13;\n</span><span style=\"color: #008080;\"> 8</span>         scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%ld</span><span style=\"color: #800000;\">\"</span>,&amp;p-&gt;<span style=\"color: #000000;\">value);&#13;\n</span><span style=\"color: #008080;\"> 9</span>         &#13;\n<span style=\"color: #008080;\">10</span>         <span style=\"color: #0000ff;\">if</span>(p-&gt;value ==<span style=\"color: #800080;\">0</span>) <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  第一次插入</span>&#13;\n<span style=\"color: #008080;\">12</span>         <span style=\"color: #0000ff;\">if</span>(head==<span style=\"color: #000000;\">NULL)&#13;\n</span><span style=\"color: #008080;\">13</span>             head=<span style=\"color: #000000;\">p;&#13;\n</span><span style=\"color: #008080;\">14</span>         <span style=\"color: #0000ff;\">else</span>&#13;\n<span style=\"color: #008080;\">15</span>             tail-&gt;link=<span style=\"color: #000000;\">p;&#13;\n</span><span style=\"color: #008080;\">16</span>         tail=<span style=\"color: #000000;\">p;&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">while</span>(<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">19</span>     tail-&gt;link=<span style=\"color: #000000;\">NULL;&#13;\n</span><span style=\"color: #008080;\">20</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> head;&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">22</span> &#13;\n<span style=\"color: #008080;\">23</span> <span style=\"color: #0000ff;\">int</span> delet(Node **linkp,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> del_value){&#13;\n</span><span style=\"color: #008080;\">24</span>     register Node *<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\">25</span>     Node *<span style=\"color: #000000;\"> m_del;&#13;\n</span><span style=\"color: #008080;\">26</span> &#13;\n<span style=\"color: #008080;\">27</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">寻找正确的删除位置，方法是按顺序访问链表，直到到达等于的节点</span>&#13;\n<span style=\"color: #008080;\">28</span>     <span style=\"color: #0000ff;\">while</span>((current = *linkp)!=NULL  &amp;&amp;  current-&gt;value !=<span style=\"color: #000000;\"> del_value)&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">    {    &#13;\n</span><span style=\"color: #008080;\">30</span>         linkp = &amp;current-&gt;<span style=\"color: #000000;\">link;&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">32</span> &#13;\n<span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">if</span>(NULL==<span style=\"color: #000000;\">current)&#13;\n</span><span style=\"color: #008080;\">34</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> FALSE;&#13;\n</span><span style=\"color: #008080;\">35</span>     <span style=\"color: #0000ff;\">else</span>&#13;\n<span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">37</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">把该节点删除，返回TRUE</span>&#13;\n<span style=\"color: #008080;\">38</span>         m_del=current-&gt;<span style=\"color: #000000;\">link;&#13;\n</span><span style=\"color: #008080;\">39</span>         <span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(current);&#13;\n</span><span style=\"color: #008080;\">40</span>         *linkp=<span style=\"color: #000000;\">m_del;&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">42</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> TRUE;&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">44</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">需要形参为链表头指针的地址和要插入的值</span>&#13;\n<span style=\"color: #008080;\">45</span> <span style=\"color: #0000ff;\">int</span> insert(Node **linkp,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> new_value){&#13;\n</span><span style=\"color: #008080;\">46</span>     register Node *<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\">47</span>     Node *<span style=\"color: #000000;\"> m_new;&#13;\n</span><span style=\"color: #008080;\">48</span> &#13;\n<span style=\"color: #008080;\">49</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">寻找真确的插入位置，方法是按顺序访问链表，直到到达其值大于或等于新插入值的节点</span>&#13;\n<span style=\"color: #008080;\">50</span>     <span style=\"color: #0000ff;\">while</span>((current = *linkp)!=NULL  &amp;&amp;  current-&gt;value &lt;<span style=\"color: #000000;\"> new_value)&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">    {    &#13;\n</span><span style=\"color: #008080;\">52</span>         linkp = &amp;current-&gt;<span style=\"color: #000000;\">link;&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">54</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">为新节点分配内存，并把新值存到新节点中，如果分配失败，返回FALSE</span>&#13;\n<span style=\"color: #008080;\">55</span>     m_new =(Node*)<span style=\"color: #0000ff;\">malloc</span><span style=\"color: #000000;\">(LEN);&#13;\n</span><span style=\"color: #008080;\">56</span>     <span style=\"color: #0000ff;\">if</span>(NULL==<span style=\"color: #000000;\">m_new)&#13;\n</span><span style=\"color: #008080;\">57</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> FALSE;&#13;\n</span><span style=\"color: #008080;\">58</span>     m_new-&gt;value =<span style=\"color: #000000;\"> new_value;&#13;\n</span><span style=\"color: #008080;\">59</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">把新节点放入链表，返回TRUE</span>&#13;\n<span style=\"color: #008080;\">60</span> &#13;\n<span style=\"color: #008080;\">61</span>     m_new-&gt;link =<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\">62</span>     *linkp=<span style=\"color: #000000;\">m_new;&#13;\n</span><span style=\"color: #008080;\">63</span> &#13;\n<span style=\"color: #008080;\">64</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> TRUE;&#13;\n</span><span style=\"color: #008080;\">65</span> }</pre>&#13;\n</div>&#13;\n<p>仅仅只需要将尾指针指向头节点，就可以构成单项循环链表，即tail-&gt;link=head;，有的时候，可能需要将链表逆置，当然，如果需要逆置，最好一开始就做双向链表。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> Node * reverse(Node *<span style=\"color: #000000;\"> head){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     Node * p,*<span style=\"color: #000000;\">q;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     q=<span style=\"color: #000000;\"> head;&#13;\n</span><span style=\"color: #008080;\"> 4</span>     p = head-&gt;<span style=\"color: #000000;\">link;&#13;\n</span><span style=\"color: #008080;\"> 5</span>     head =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">while</span><span style=\"color: #000000;\">(p)&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">    {    &#13;\n</span><span style=\"color: #008080;\"> 8</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  接到新链表里面去</span>&#13;\n<span style=\"color: #008080;\"> 9</span>         q-&gt;link =<span style=\"color: #000000;\"> head; &#13;\n</span><span style=\"color: #008080;\">10</span>         head  =<span style=\"color: #000000;\"> q;&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  继续遍历原来的链表</span>&#13;\n<span style=\"color: #008080;\">12</span>         q =<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\">13</span>         p = p-&gt;<span style=\"color: #000000;\">link;&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">15</span>     q-&gt;link =<span style=\"color: #000000;\"> head; &#13;\n</span><span style=\"color: #008080;\">16</span>     head  =<span style=\"color: #000000;\"> q;&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\">  head;&#13;\n</span><span style=\"color: #008080;\">18</span> }</pre>&#13;\n</div>&#13;\n<p>删除链表中所有值为x的节点，以及清除链表中重复的节点</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    功能：    删除链表中所有值为x的节点&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    形参：    1、若不带头结点，便是链表头指针的地址，即&amp;head&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            2、若带头结点，便是链表头节点的next域的地址，即&amp;head-&gt;next&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    形参：    为链表头指针的地址和要删除的值</span>&#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">void</span> del_link(Node ** plink,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> x){&#13;\n</span><span style=\"color: #008080;\"> 6</span>     register Node *<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">while</span>((current = *plink)!=<span style=\"color: #000000;\">NULL)&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 9</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 处理连续出现x的情况</span>&#13;\n<span style=\"color: #008080;\">10</span>         <span style=\"color: #0000ff;\">while</span>(current &amp;&amp; current-&gt;data ==<span style=\"color: #000000;\"> x){&#13;\n</span><span style=\"color: #008080;\">11</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  保留指向下一个节点的指针</span>&#13;\n<span style=\"color: #008080;\">12</span>             Node * temp =<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\">13</span>             * plink = current = current-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">14</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  删除当前节点</span>&#13;\n<span style=\"color: #008080;\">15</span>             <span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(temp);&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">17</span>         &#13;\n<span style=\"color: #008080;\">18</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">向下遍历链表</span>&#13;\n<span style=\"color: #008080;\">19</span>         <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\"> (current)&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\">21</span>             plink = &amp;current-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    功能：    删除链表中重复多余的节点&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    形参：    1、若不带头结点，便是链表头指针的地址，即&amp;head&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            2、若带头结点，便是链表头节点的next域的地址，即&amp;head-&gt;next</span>&#13;\n<span style=\"color: #008080;\">28</span> <span style=\"color: #0000ff;\">void</span> del_linkAll(Node **<span style=\"color: #000000;\"> plink){&#13;\n</span><span style=\"color: #008080;\">29</span>     register Node *<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\">30</span>     <span style=\"color: #0000ff;\">while</span>((current = *plink) !=<span style=\"color: #000000;\"> NULL){&#13;\n</span><span style=\"color: #008080;\">31</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">注意，这里取指向下一个元素的指针的地址，这样删除是会保留这一个节点</span>&#13;\n<span style=\"color: #008080;\">32</span>         del_link(&amp;current-&gt;next,current-&gt;<span style=\"color: #000000;\">data);&#13;\n</span><span style=\"color: #008080;\">33</span>         plink = &amp;current-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">35</span> }</pre>&#13;\n</div>&#13;\n<p>对于双向链表，也就是在节点中再添加一个节点，让它与另一个指针指向的方向相反。当然，当节点有了两个节点之后，就可以构成更复杂的比如树图等复杂结构了，双向链表可像如下定义</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #000000;\">#ifndef __LINKLISTEX_H__&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">#define</span> __LINKLISTEX_H__&#13;\n<span style=\"color: #008080;\"> 3</span> #include &lt;<span style=\"color: #0000ff;\">string</span>&gt;&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">using</span> std::<span style=\"color: #0000ff;\">string</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">================双向链表的定义===============</span>&#13;\n<span style=\"color: #008080;\"> 6</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> DulLinkList&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">10</span>     typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> DulNode{&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #0000ff;\">struct</span> DulNode *<span style=\"color: #000000;\"> prior;&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">        T    data;&#13;\n</span><span style=\"color: #008080;\">13</span>         <span style=\"color: #0000ff;\">struct</span> DulNode *<span style=\"color: #000000;\"> next;&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">    }DulNode;&#13;\n</span><span style=\"color: #008080;\">15</span>     DulNode *<span style=\"color: #000000;\"> frist;&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> Init();&#13;\n</span><span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">void</span> Del(DulNode *<span style=\"color: #000000;\"> delNode);&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">    DulLinkList();&#13;\n</span><span style=\"color: #008080;\">20</span>     ~<span style=\"color: #000000;\">DulLinkList();&#13;\n</span><span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">void</span> AddElem(<span style=\"color: #0000ff;\">const</span> T &amp;<span style=\"color: #000000;\">  data);&#13;\n</span><span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">void</span> DelElem(<span style=\"color: #0000ff;\">const</span> T &amp;<span style=\"color: #000000;\"> data);&#13;\n</span><span style=\"color: #008080;\">23</span>     <span style=\"color: #0000ff;\">string</span> ToString()<span style=\"color: #0000ff;\">const</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #0000ff;\">protected</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #0000ff;\">#endif</span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">__LINKLISTEX_H__</span></pre>&#13;\n</div>&#13;\n<p>对双向链表的操作也无外乎增删改</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">LinkListEx.h</span><span style=\"color: #800000;\">\"</span>&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;iostream&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">using</span> <span style=\"color: #0000ff;\">namespace</span><span style=\"color: #000000;\">  std;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\"> 6</span> DulLinkList&lt;T&gt;<span style=\"color: #000000;\">::DulLinkList(){&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">    Init();&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">void</span> DulLinkList&lt;T&gt;<span style=\"color: #000000;\">::Init(){&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 初始化第一个结点</span>&#13;\n<span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">this</span>-&gt;frist = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> DulNode;&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">this</span>-&gt;frist-&gt;prior =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">this</span>-&gt;frist-&gt;next =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">17</span> &#13;\n<span style=\"color: #008080;\">18</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\">19</span> <span style=\"color: #0000ff;\">void</span> DulLinkList&lt;T&gt;::AddElem(<span style=\"color: #0000ff;\">const</span> T &amp;<span style=\"color: #000000;\"> data){&#13;\n</span><span style=\"color: #008080;\">20</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 直接头部插入节点</span>&#13;\n<span style=\"color: #008080;\">21</span>     DulNode * newNode = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> DulNode;&#13;\n</span><span style=\"color: #008080;\">22</span>     newNode-&gt;data =<span style=\"color: #000000;\"> data;&#13;\n</span><span style=\"color: #008080;\">23</span>     newNode-&gt;next = <span style=\"color: #0000ff;\">this</span>-&gt;<span style=\"color: #000000;\">frist;&#13;\n</span><span style=\"color: #008080;\">24</span>     newNode-&gt;prior =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\">25</span>     <span style=\"color: #0000ff;\">this</span>-&gt;frist-&gt;prior =<span style=\"color: #000000;\"> newNode;&#13;\n</span><span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">this</span>-&gt;frist =<span style=\"color: #000000;\"> newNode;&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">28</span> &#13;\n<span style=\"color: #008080;\">29</span> &#13;\n<span style=\"color: #008080;\">30</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\">31</span> <span style=\"color: #0000ff;\">void</span> DulLinkList&lt;T&gt;::DelElem(<span style=\"color: #0000ff;\">const</span> T &amp;<span style=\"color: #000000;\"> data){&#13;\n</span><span style=\"color: #008080;\">32</span>     DulNode * current = <span style=\"color: #0000ff;\">this</span>-&gt;frist-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">while</span> (current  != NULL  &amp;&amp; current-&gt;data !=<span style=\"color: #000000;\"> data) {&#13;\n</span><span style=\"color: #008080;\">34</span>         current = current-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">36</span>     <span style=\"color: #0000ff;\">if</span> (!<span style=\"color: #000000;\">current)&#13;\n</span><span style=\"color: #008080;\">37</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">38</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">    Del(current);&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">42</span> &#13;\n<span style=\"color: #008080;\">43</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\">44</span> <span style=\"color: #0000ff;\">void</span> DulLinkList&lt;T&gt;::Del(DulNode *<span style=\"color: #000000;\"> delNode){&#13;\n</span><span style=\"color: #008080;\">45</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 调整当前节点两端的节点的指针</span>&#13;\n<span style=\"color: #008080;\">46</span>     delNode-&gt;prior-&gt;next = delNode-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">47</span>     delNode-&gt;next-&gt;prior = delNode-&gt;<span style=\"color: #000000;\">prior;&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">    delete delNode;&#13;\n</span><span style=\"color: #008080;\">49</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">50</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\">51</span> DulLinkList&lt;T&gt;::~<span style=\"color: #000000;\">DulLinkList(){&#13;\n</span><span style=\"color: #008080;\">52</span>     DulNode * current = <span style=\"color: #0000ff;\">this</span>-&gt;<span style=\"color: #000000;\">frist;&#13;\n</span><span style=\"color: #008080;\">53</span>     <span style=\"color: #0000ff;\">while</span><span style=\"color: #000000;\"> (current)&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">55</span>         DulNode * old =<span style=\"color: #000000;\"> current;&#13;\n</span><span style=\"color: #008080;\">56</span>         current = current-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">        delete old;&#13;\n</span><span style=\"color: #008080;\">58</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">60</span> &#13;\n<span style=\"color: #008080;\">61</span> template&lt;<span style=\"color: #0000ff;\">class</span> T&gt;&#13;\n<span style=\"color: #008080;\">62</span> <span style=\"color: #0000ff;\">string</span> DulLinkList&lt;T&gt;::ToString()<span style=\"color: #0000ff;\">const</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">63</span>     <span style=\"color: #0000ff;\">string</span><span style=\"color: #000000;\"> res;&#13;\n</span><span style=\"color: #008080;\">64</span>     DulNode * current = <span style=\"color: #0000ff;\">this</span>-&gt;frist-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">65</span>     <span style=\"color: #0000ff;\">while</span><span style=\"color: #000000;\"> (current)&#13;\n</span><span style=\"color: #008080;\">66</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">67</span>         res.append(<span style=\"color: #800080;\">1</span>,current-&gt;<span style=\"color: #000000;\">data);&#13;\n</span><span style=\"color: #008080;\">68</span>         current = current-&gt;<span style=\"color: #000000;\">next;&#13;\n</span><span style=\"color: #008080;\">69</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">70</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> res;&#13;\n</span><span style=\"color: #008080;\">71</span> }</pre>&#13;\n</div>&#13;\n<p>链表是个很基础的东西，后面一些复杂的算法或数据结构的本质也是一个链表。链表和顺序表（也就是数组）都可以再进一步抽象成更复杂的数据结构。</p>&#13;\n<p>比如<span style=\"color: #ff0000;\">队列和栈，不过是在链表或顺序表的基础上限制单端操作</span>而已。再比如，由链表和顺序表还可以构成二叉树堆，它们还可以组合使用构成邻接表，十字链表，邻接多重表等结构用来描述图，等等。</p>&#13;\n<h2>字符串相关算法</h2>&#13;\n<p>做里快两年web开发了，可以说字符串是用多最多的数据类型了，所以针对字符串的算法也非常的多。先从简单的慢慢来。</p>&#13;\n<p>首先最基本的是对字符串的求长，连接，比较，复制等</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 统计字符串长度</span>&#13;\n<span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">int</span> str_len(<span style=\"color: #0000ff;\">char</span> *<span style=\"color: #000000;\">str){&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">return</span> *str ? str_len(str+<span style=\"color: #800080;\">1</span>)+<span style=\"color: #800080;\">1</span> : <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\"> ;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 字符串复制</span>&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">void</span> str_cpy(<span style=\"color: #0000ff;\">char</span> *str1,<span style=\"color: #0000ff;\">char</span> *<span style=\"color: #000000;\">str2){&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">while</span>(*str1++ = *str2++); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">当str2指向\'\\0\'时，赋值给*str1 表达式的值为0 即为假。退出循环&#13;\n</span><span style=\"color: #008080;\"> 8</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">if(*str1 == \'\\0\')    </span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 考虑到 串2的长度大于串1的长度，防止指针越界&#13;\n</span><span style=\"color: #008080;\"> 9</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">break;</span>&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 字符串比较</span>&#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">int</span> str_cmp(<span style=\"color: #0000ff;\">char</span> *str1,<span style=\"color: #0000ff;\">char</span> *<span style=\"color: #000000;\">str2){&#13;\n</span><span style=\"color: #008080;\">13</span>     <span style=\"color: #0000ff;\">int</span> i;<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> i指向字符不同时数组下标</span>&#13;\n<span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;str1[i]==str2[i] &amp;&amp; str1[i]!=<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span> &amp;&amp; str2[i]!=<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span>;i++<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">return</span> str1[i]-<span style=\"color: #000000;\">str2[i];&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 字符串连接</span>&#13;\n<span style=\"color: #008080;\">18</span> <span style=\"color: #0000ff;\">void</span> str_cat(<span style=\"color: #0000ff;\">char</span> *str1,<span style=\"color: #0000ff;\">char</span> *<span style=\"color: #000000;\">str2){&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">while</span>(*str1 != <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">20</span>         str1++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">while</span>(*str1++ = *str2++<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">22</span> }</pre>&#13;\n</div>&#13;\n<p>字符串比较复杂一点的就是模式匹配和子序列（编辑距离）的问题。</p>&#13;\n<p>首先是较为简单的BF算法，这种算法原理非常简单，比如连个串a（主串）和b（模式串），首先将a1和b1进行比较，如果相同，则将b2与a2进行比较，如果还相同，继续拿a3与b3比，直到b串匹配完，怎匹配完成，如果出现不同的，怎回到最初的状态，将b1与a2进行比较，将b2与a3比较，等等，如此反复直到失败或成功。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">char</span> *<span style=\"color: #000000;\"> str;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> length;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">}String;&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">int</span> Index_BF(String mainStr,String modeStr,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> pos){&#13;\n</span><span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">int</span>    i = pos-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">int</span>    j = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 9</span>     <span style=\"color: #0000ff;\">while</span> (i&lt;mainStr.length &amp;&amp; j&lt;<span style=\"color: #000000;\">modeStr.length)&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #0000ff;\">if</span> (mainStr.str[i] ==<span style=\"color: #000000;\"> modeStr.str[j])&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">        {&#13;\n</span><span style=\"color: #008080;\">13</span>             i++,j++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">15</span>         <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">16</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 出现不同的，回退到模式第一个字符的状态，将模式右移进行匹配</span>&#13;\n<span style=\"color: #008080;\">17</span>             i = i - j + <span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">18</span>             j = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">if</span> (j==<span style=\"color: #000000;\">modeStr.length)&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">return</span> i -<span style=\"color: #000000;\"> modeStr.length;&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span>     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">26</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">28</span> }</pre>&#13;\n</div>&#13;\n<p>较为复杂的算法是KMP算法，KMP算法的关键是避免BF算法中的回朔。并且当匹配失败后向右滑动到一个能自左最大对齐的位置继续匹配。</p>&#13;\n<p><span style=\"color: #ff0000;\">若在ai,bj的位置匹配失败，所以已经匹配的串便是</span></p>&#13;\n<p><span style=\"color: #ff0000;\">B1 B2 ... Bj-1 == Ai-j+1 Ai-j+2 ... Ai-1;</span></p>&#13;\n<p><span style=\"color: #ff0000;\">假设滑动完后要让Bk与Ai对齐，则应该有</span></p>&#13;\n<p><span style=\"color: #ff0000;\">B1 B2 B3 ... Bk-1 == Ai-k+1 A-k+2 ... Ai-1;</span></p>&#13;\n<p><span style=\"color: #ff0000;\">因为是向右滑动，想一想i的位置不变，B向右滑动，很显然，k要小于j。</span></p>&#13;\n<p><span style=\"color: #ff0000;\">所以进一步可以得到k到j之间B的子串（Bj前面的k-1个字符）与Ai前的k-1个字符是相同的，即</span></p>&#13;\n<p><span style=\"line-height: 1.5; color: #ff0000;\">Bj-k+1 Bj-k+2 ... Bj-1 == Ai-k+1 Ai-k+2 ... Ai-1;</span></p>&#13;\n<p><span style=\"color: #ff0000;\">所以有</span></p>&#13;\n<p><span style=\"color: #ff0000;\">B1 B2 B3 ... Bk-1  == Bj-k+1 Bj-k+2 ... Bj-1</span></p>&#13;\n<p><span style=\"color: #ff0000;\">可以看出来，这个有个特点，字符串 B1 B2 ..... Bj-1关于Bk有种对称的感觉，不过这个不是镜像对称，不过我还是喜欢这么记`对称`,这也是求next值的依据，这个next就是k，就是偏移值。</span></p>&#13;\n<p>next(j) = 0 (j==1) || max{k|1&lt;=k&lt;j &amp;&amp; B1 B2 B3 ... Bk-1  == Bj-k+1 Bj-k+2 ... Bj-1} || 1；</p>&#13;\n<p>下面是完整的KMP算法</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">void</span> GetNext(<span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">char</span> * mode,<span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> next){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">求模式mode的next值并存入数组next中</span>&#13;\n<span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">int</span> i=<span style=\"color: #800080;\">1</span>,j=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 4</span>     next[<span style=\"color: #800080;\">1</span>] = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">while</span>(i &lt; mode[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">]){&#13;\n</span><span style=\"color: #008080;\"> 6</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">0</span> == j || mode[i] ==<span style=\"color: #000000;\"> mode[j]){&#13;\n</span><span style=\"color: #008080;\"> 7</span>             i++;j++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span>             next[i] =<span style=\"color: #000000;\"> j;&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">10</span>         <span style=\"color: #0000ff;\">else</span>&#13;\n<span style=\"color: #008080;\">11</span>             j =<span style=\"color: #000000;\"> next[j];&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #0000ff;\">int</span> Index_KMP(<span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">char</span> * str,<span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">char</span> * mode,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> pos){&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">int</span> i=pos,j=<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">int</span> * next = (<span style=\"color: #0000ff;\">int</span> *)<span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span>)*(mode[<span style=\"color: #800080;\">0</span>]+<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">17</span>     next[<span style=\"color: #800080;\">0</span>]=mode[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">    GetNext(str,next);&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">while</span> (i&lt;=str[<span style=\"color: #800080;\">0</span>] &amp;&amp; j&lt;= mode[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">]) {&#13;\n</span><span style=\"color: #008080;\">20</span>         <span style=\"color: #0000ff;\">if</span> (<span style=\"color: #800080;\">0</span>==j || str[i] ==<span style=\"color: #000000;\"> mode[j]) {&#13;\n</span><span style=\"color: #008080;\">21</span>             i++;j++<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">24</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 滑动模式串，注意next[j]是小于j的，这才是向右滑动</span>&#13;\n<span style=\"color: #008080;\">25</span>             j =<span style=\"color: #000000;\"> next[j];&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">28</span>     <span style=\"color: #0000ff;\">return</span> j&gt;mode[<span style=\"color: #800080;\">0</span>] ?  i - mode[<span style=\"color: #800080;\">0</span>] : <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(){&#13;\n</span><span style=\"color: #008080;\">32</span>     <span style=\"color: #0000ff;\">char</span> <span style=\"color: #0000ff;\">string</span>[<span style=\"color: #800080;\">16</span>] = <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">\\016abcabcabaabcac</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">char</span> mode[<span style=\"color: #800080;\">10</span>] = <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">\\010abaabcac</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">34</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">模式串在主串中的位置:%d\\n</span><span style=\"color: #800000;\">\"</span>,Index_KMP(<span style=\"color: #0000ff;\">string</span>,mode,<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">35</span> }</pre>&#13;\n</div>&#13;\n<p>下面的问题是最长公共子序列，算法的思想是动态规划，核心是转义方程</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201507/312245259236685.png\" alt=\"\"/>，也就是<span style=\"color: #ff0000;\">当两个字符相等时取左上元素+1，不相等时取左和上中大的那个</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include &lt;<span style=\"color: #0000ff;\">string</span>.h&gt;&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">#define</span> MAXN 128&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">#define</span> MAXM MAXN&#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a[MAXN][MAXM];&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b[MAXN][MAXM];&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">char</span> * str1 = <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">ABCBDAB</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">char</span> * str2 = <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">BDCABA</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">int</span> LCS(<span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">char</span> *s1,<span style=\"color: #0000ff;\">int</span> m, <span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">char</span> *s2,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> n)&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> i, j;&#13;\n</span><span style=\"color: #008080;\">13</span>     a[<span style=\"color: #800080;\">0</span>][<span style=\"color: #800080;\">0</span>] = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">for</span>( i=<span style=\"color: #800080;\">1</span>; i &lt;= m; ++<span style=\"color: #000000;\">i ) {&#13;\n</span><span style=\"color: #008080;\">15</span>             a[i][<span style=\"color: #800080;\">0</span>] = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span>     memset(b,<span style=\"color: #800080;\">0</span>,<span style=\"color: #0000ff;\">sizeof</span><span style=\"color: #000000;\">(b));&#13;\n</span><span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">for</span>( i=<span style=\"color: #800080;\">1</span>; i &lt;= n; ++<span style=\"color: #000000;\">i ) {&#13;\n</span><span style=\"color: #008080;\">19</span>         a[<span style=\"color: #800080;\">0</span>][i] = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">for</span>( i=<span style=\"color: #800080;\">1</span>; i &lt;= m; ++<span style=\"color: #000000;\">i ){&#13;\n</span><span style=\"color: #008080;\">22</span>         <span style=\"color: #0000ff;\">for</span>( j=<span style=\"color: #800080;\">1</span>; j &lt;= n; ++<span style=\"color: #000000;\">j ){&#13;\n</span><span style=\"color: #008080;\">23</span>             <span style=\"color: #0000ff;\">if</span>(s1[i-<span style=\"color: #800080;\">1</span>]==s2[j-<span style=\"color: #800080;\">1</span>]){          <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">如果想等，则从对角线加1得来</span>&#13;\n<span style=\"color: #008080;\">24</span>                 a[i][j] = a[i-<span style=\"color: #800080;\">1</span>][j-<span style=\"color: #800080;\">1</span>]+<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">25</span>                 b[i][j] = <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">27</span>             <span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(a[i-<span style=\"color: #800080;\">1</span>][j]&gt;a[i][j-<span style=\"color: #800080;\">1</span>]){    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">否则判段它上面、右边的值，将大的数给他</span>&#13;\n<span style=\"color: #008080;\">28</span>                 a[i][j]= a[i-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">][j];&#13;\n</span><span style=\"color: #008080;\">29</span>                 b[i][j] = <span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">31</span>             <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">32</span>                 a[i][j] = a[i][j-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">33</span>                 b[i][j] = <span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">35</span> &#13;\n<span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">37</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">38</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> a[m][n];&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #0000ff;\">char</span><span style=\"color: #000000;\"> str[MAXN];&#13;\n</span><span style=\"color: #008080;\">41</span> <span style=\"color: #0000ff;\">int</span> p=<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #0000ff;\">void</span> cSubQ(<span style=\"color: #0000ff;\">int</span> i,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> j){&#13;\n</span><span style=\"color: #008080;\">43</span>     <span style=\"color: #0000ff;\">if</span>(i&lt;<span style=\"color: #800080;\">1</span> || j&lt;<span style=\"color: #800080;\">1</span>) <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">44</span>     <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">1</span>==<span style=\"color: #000000;\">b[i][j]){&#13;\n</span><span style=\"color: #008080;\">45</span>         cSubQ(i-<span style=\"color: #800080;\">1</span>,j-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">46</span>         str[p++]=str1[i-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">47</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">48</span>     <span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">2</span> ==<span style=\"color: #000000;\"> b[i][j])&#13;\n</span><span style=\"color: #008080;\">49</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">50</span>         cSubQ(i-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">,j);&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">52</span>     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">53</span>         cSubQ(i,j-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">55</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">56</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> main()&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">58</span>     <span style=\"color: #0000ff;\">int</span> m = strlen(str1), n =<span style=\"color: #000000;\"> strlen(str2);&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">    LCS(str1,m,str2,n);&#13;\n</span><span style=\"color: #008080;\">60</span> <span style=\"color: #000000;\">    cSubQ(m,n);&#13;\n</span><span style=\"color: #008080;\">61</span>     str[p] = <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\0</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">62</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%s\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,str);&#13;\n</span><span style=\"color: #008080;\">63</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">64</span> }</pre>&#13;\n</div>&#13;\n<p>很显然，这个算法的时间复杂度和空间复杂度为o(n*m)</p>&#13;\n<h2>二叉树</h2>&#13;\n<p>树这里主要以二叉树为例，二叉树算是一种特殊的树，一种特殊的图。</p>&#13;\n<p>二叉树具备如下特征</p>&#13;\n<ul><li><span style=\"color: #ff0000;\">第i层最多有2^(i-1)次方个节点</span></li>&#13;\n<li><span style=\"color: #ff0000;\">深度为k的树最多有2^i-1个节点，也就是满二叉树等比求和</span></li>&#13;\n<li><span style=\"color: #ff0000;\">n0=n2+1，即叶子节点的数量恰好是度为2的节点数加1，主要原因是节点数总比度数多1，因为根节点没有入度，所以有 n0 + n1 + n2 -1 = n1 + 2*n2。</span></li>&#13;\n<li><span style=\"color: #ff0000;\">对于满二叉树，如果以有序表存储，根节点放在0的位置上，左右孩子放在1,2上，相当于从上到下，从左到右，从0开始对节点进行编号，则对于节点i，它的左孩子应该位于2*i+1上，右孩子位于2*i+2上</span></li>&#13;\n<li><span style=\"color: #ff0000;\">等等，暂时只记得这些了。</span></li>&#13;\n</ul><p>用数组和链表都可以存储二叉树，但我见过的算法大都用数组存储二叉树，想必链表虽然易于理解，但相比写起算法来未必好写。</p>&#13;\n<h3>对二叉树的操作</h3>&#13;\n<p>有增删查遍历等操作，代码如下。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> bitnode{&#13;\n</span><span style=\"color: #008080;\">  2</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> m_iDate;&#13;\n</span><span style=\"color: #008080;\">  3</span>     <span style=\"color: #0000ff;\">struct</span> bitnode * m_lChild<span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">左孩子指针</span><span style=\"color: #008000;\">*/</span>,* m_rChild<span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">右孩子指针</span><span style=\"color: #008000;\">*/</span><span style=\"color: #000000;\">;        &#13;\n</span><span style=\"color: #008080;\">  4</span> <span style=\"color: #000000;\">} CBiTNode;&#13;\n</span><span style=\"color: #008080;\">  5</span> &#13;\n<span style=\"color: #008080;\">  6</span> &#13;\n<span style=\"color: #008080;\">  7</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">建立一个带头结点的空的二叉树</span>&#13;\n<span style=\"color: #008080;\">  8</span> CBiTNode *<span style=\"color: #000000;\"> Initiate(){&#13;\n</span><span style=\"color: #008080;\">  9</span>     CBiTNode *<span style=\"color: #000000;\"> bt;&#13;\n</span><span style=\"color: #008080;\"> 10</span>     bt = (CBiTNode*)malloc(<span style=\"color: #0000ff;\">sizeof</span><span style=\"color: #000000;\"> CBiTNode);&#13;\n</span><span style=\"color: #008080;\"> 11</span>     bt-&gt;m_iDate = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 12</span>     bt-&gt;m_lChild =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\"> 13</span>     bt-&gt;m_rChild =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\"> 14</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> bt;&#13;\n</span><span style=\"color: #008080;\"> 15</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 16</span> &#13;\n<span style=\"color: #008080;\"> 17</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\"> 18</span> <span style=\"color: #008000;\">//建立一个不带头结点的空的二叉树&#13;\n</span><span style=\"color: #008080;\"> 19</span> <span style=\"color: #008000;\">CBiTNode * Initiate(){&#13;\n</span><span style=\"color: #008080;\"> 20</span> <span style=\"color: #008000;\">    CBiTNode * bt;&#13;\n</span><span style=\"color: #008080;\"> 21</span> <span style=\"color: #008000;\">    bt = NULL;&#13;\n</span><span style=\"color: #008080;\"> 22</span> <span style=\"color: #008000;\">    return bt;&#13;\n</span><span style=\"color: #008080;\"> 23</span> <span style=\"color: #008000;\">}&#13;\n</span><span style=\"color: #008080;\"> 24</span> <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 25</span> &#13;\n<span style=\"color: #008080;\"> 26</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">生成一棵以x为根节点数据域信息，以lbt和rbt为左右子树的二叉树</span>&#13;\n<span style=\"color: #008080;\"> 27</span> CBiTNode * Create(<span style=\"color: #0000ff;\">int</span> x,CBiTNode * lbt,CBiTNode *<span style=\"color: #000000;\"> rbt){&#13;\n</span><span style=\"color: #008080;\"> 28</span>     CBiTNode *<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 29</span>     <span style=\"color: #0000ff;\">if</span>((p=(CBiTNode*)malloc(<span style=\"color: #0000ff;\">sizeof</span> CBiTNode)) ==<span style=\"color: #000000;\">NULL)&#13;\n</span><span style=\"color: #008080;\"> 30</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\"> 31</span>     p-&gt;m_iDate =<span style=\"color: #000000;\"> x;&#13;\n</span><span style=\"color: #008080;\"> 32</span>     p-&gt;m_lChild =<span style=\"color: #000000;\"> lbt;&#13;\n</span><span style=\"color: #008080;\"> 33</span>     p-&gt;m_rChild =<span style=\"color: #000000;\"> rbt;&#13;\n</span><span style=\"color: #008080;\"> 34</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 35</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 36</span> &#13;\n<span style=\"color: #008080;\"> 37</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">在二叉树bt中的parent所指节点和其左子树之间插入数据元素为x的节点</span>&#13;\n<span style=\"color: #008080;\"> 38</span> <span style=\"color: #0000ff;\">bool</span> InsertL(<span style=\"color: #0000ff;\">int</span> x,CBiTNode *<span style=\"color: #000000;\"> parent){&#13;\n</span><span style=\"color: #008080;\"> 39</span>     CBiTNode *<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 40</span> &#13;\n<span style=\"color: #008080;\"> 41</span>     <span style=\"color: #0000ff;\">if</span>(NULL ==<span style=\"color: #000000;\"> parent){&#13;\n</span><span style=\"color: #008080;\"> 42</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">L插入有误</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 43</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 44</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 45</span> &#13;\n<span style=\"color: #008080;\"> 46</span>     <span style=\"color: #0000ff;\">if</span>((p=(CBiTNode*)malloc(<span style=\"color: #0000ff;\">sizeof</span> CBiTNode)) ==<span style=\"color: #000000;\">NULL)&#13;\n</span><span style=\"color: #008080;\"> 47</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 48</span> &#13;\n<span style=\"color: #008080;\"> 49</span>     p-&gt;m_iDate =<span style=\"color: #000000;\"> x;&#13;\n</span><span style=\"color: #008080;\"> 50</span>     p-&gt;m_lChild =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\"> 51</span>     p-&gt;m_rChild =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\"> 52</span> &#13;\n<span style=\"color: #008080;\"> 53</span>     <span style=\"color: #0000ff;\">if</span>(NULL == parent-&gt;<span style=\"color: #000000;\">m_lChild)&#13;\n</span><span style=\"color: #008080;\"> 54</span>         parent-&gt;m_lChild =<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 55</span>     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 56</span>         p-&gt;m_lChild = parent-&gt;<span style=\"color: #000000;\">m_lChild;&#13;\n</span><span style=\"color: #008080;\"> 57</span>         parent-&gt;m_lChild =<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 58</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 59</span> &#13;\n<span style=\"color: #008080;\"> 60</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 61</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 62</span> &#13;\n<span style=\"color: #008080;\"> 63</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">在二叉树bt中的parent所指节点和其右子树之间插入数据元素为x的节点</span>&#13;\n<span style=\"color: #008080;\"> 64</span> <span style=\"color: #0000ff;\">bool</span> InsertR(<span style=\"color: #0000ff;\">int</span> x,CBiTNode *<span style=\"color: #000000;\"> parent){&#13;\n</span><span style=\"color: #008080;\"> 65</span>     CBiTNode *<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 66</span> &#13;\n<span style=\"color: #008080;\"> 67</span>     <span style=\"color: #0000ff;\">if</span>(NULL ==<span style=\"color: #000000;\"> parent){&#13;\n</span><span style=\"color: #008080;\"> 68</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">R??',1597,'2015-08-01 03:37:00','2016-07-31 10:21:47',12,'http://www.cnblogs.com/lvyahui/p/4693373.html',4693373),(499,'或许有一两点你不知的C语言特性','关键字篇&#13;\nvolatile关键字&#13;\n鲜为人知的关键字之一volatile，表示变量是\'易变的\'，之所以会有这个关键字，主要是消除编译优化带来的一些问题，看下面的代码&#13;\n&#13;\n','<div id=\"cnblogs_post_body\"><h2>关键字篇</h2>&#13;\n<h3>volatile关键字</h3>&#13;\n<p>鲜为人知的关键字之一volatile，表示变量是\'易变的\'，之所以会有这个关键字，主要是消除编译优化带来的一些问题，看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">8</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">int</span> b =<span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">int</span> c = a;</pre>&#13;\n</div>&#13;\n<p>编译器认为，上面的第2句代码与第三句代码之间，没有存在对a赋值的语句，所以编译出来的汇编代码在讲a的值赋给c的时候，不会再次到内存取这个变量的值，而是取cache中的值。这样虽然提高了效率，但也带来了一些问题，比如如果变量a被多个线程共享，且在a赋值给了b之后，a的值立马被另一个线程修改，则再赋值给c的就是过时的数据，有时希望c拿到的是实时的数据，这个时候volatile关键字就派上了用场</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #0000ff;\">volatile</span> <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">8</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #0000ff;\">int</span> b =<span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #0000ff;\">int</span> c = a;</pre>&#13;\n</div>&#13;\n<p>上面的关键字告诉编译器a的值是随时可能发生变化的值，要求每次使用都到内存中取值，这样就能保证c能获得实时数据。</p>&#13;\n<h3>sizeof关键字</h3>&#13;\n<p>很多人都认为sizeof 是函数，因为带括号嘛，还有返回值，不是函数是啥。其实sizeof 是关键字，不信你在测试变量的时候把括号去掉试试，当然，如果测试的是类型，则必须加括号，因为你如果sizeof 类型，不打扩号的话，编译器认为你在定义变量，而定义变量的时候前面显然是只能是修饰符如const，static和extern之类的，绝对不能是sizeof 所以会报错。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">9</span><span style=\"color: #000000;\">; &#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">sizeof</span>(a) ; <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 合法</span>&#13;\n<span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">sizeof</span> a ;  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 合法</span>&#13;\n<span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">sizeof</span> <span style=\"color: #0000ff;\">int</span> ;<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 非法</span>&#13;\n<span style=\"color: #008080;\">5</span> <span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span>);<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 合法</span></pre>&#13;\n</div>&#13;\n<h3>register关键字</h3>&#13;\n<p>register关键字定义的变量可能放在寄存器里面，可能放在寄存器里，也可能放在内存里，所以为了安全起见，不能对寄存器变量取地址，所以下面的代码编译会报错</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> register <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">2</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,&amp;a);</pre>&#13;\n</div>&#13;\n<h3>const关键字</h3>&#13;\n<p>C语言中，const关键字定义了一个不可变的变量a ，注意a还是一个变量，没错是变量，不是常量，只是值不能变，是只读变量，编译的时候是不能确定值的。下面的代码可以说明问题</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">const</span> <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">int</span> arr[a];</pre>&#13;\n</div>&#13;\n<p>上面的代码在VC6.0的ANSI标准下会报错，因为const定义的依然是变量，当然在GNU这种先进的编译器下会通过。</p>&#13;\n<h3>typedef关键字</h3>&#13;\n<p>大多人认为typedef是定义一个新的数据类型，其实不是，typedef关键字是给一个已经存在的数据类型取一个别名，很多人喜欢在定义类型的同时使用 typedef关键字，这就让自己慢慢的也误以为typedef是在定义一种新的数据类型</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> s{&#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\">4</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> c;&#13;\n</span><span style=\"color: #008080;\">5</span> } NS;</pre>&#13;\n</div>&#13;\n<p>其实换成像下面这样可能会更好</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> s{&#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\">4</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> c;&#13;\n</span><span style=\"color: #008080;\">5</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">6</span> typedef <span style=\"color: #0000ff;\">struct</span> s NS;</pre>&#13;\n</div>&#13;\n<p>另外看看下面的代码</p>&#13;\n<p>先添加这样的声明</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> typedef <span style=\"color: #0000ff;\">struct</span> s * PNS;</pre>&#13;\n</div>&#13;\n<p>看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #000000;\">NS ns;&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">const</span> PNS pns1 = &amp;<span style=\"color: #000000;\">ns;&#13;\n</span><span style=\"color: #008080;\">3</span> pns1-&gt;a = <span style=\"color: #800080;\">8</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #000000;\">NS ns2 ;&#13;\n</span><span style=\"color: #008080;\">5</span> pns1 = &amp;ns2; <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 报错,pns1 只读</span>&#13;\n<span style=\"color: #008080;\">6</span> PNS <span style=\"color: #0000ff;\">const</span> pns2 = &amp;<span style=\"color: #000000;\">ns;&#13;\n</span><span style=\"color: #008080;\">7</span> pns2-&gt;a = <span style=\"color: #800080;\">8</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">8</span> pns2 = &amp;ns2; <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 报错，pns2 只读</span></pre>&#13;\n</div>&#13;\n<p>大家可能都能明白 const int  * p和 int * const p的区别，但这里就有些模糊了，这个结果颠覆了大家的思维。</p>&#13;\n<p>这是因为能把 （struct s *）重定义为一个整体，const遇到整体的类型定义会直接将这个整体忽略，也就是对于const int  * p和 int * const p以及const int p和 int const p，编译器会把int忽略，得到 const * p和* const p，以及const p。</p>&#13;\n<p>所以对于cosnt PNS pns1 和 PNS const pns2，PNS会被忽略，就得到了const pns1和const pns2，所以const修饰什么显而易见</p>&#13;\n<h2>数据类型篇</h2>&#13;\n<h3>struct类型</h3>&#13;\n<p>相信让大家说struct与c++class的区别，99%的开发者都知道有，标准的C语言中struct中不能定义函数的</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> s{&#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> getA(){&#13;\n</span><span style=\"color: #008080;\">4</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\">5</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">6</span> };</pre>&#13;\n</div>&#13;\n<p>上面的代码在C语言的环境下会报错。再就是struct与class的默认访问属性不同。</p>&#13;\n<p>除了上面的区别，struct还具备一些class不具备的一些属性</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> s{&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> c;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 直接初始化</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">struct</span> s ele = {<span style=\"color: #800080;\">1</span>,<span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 全部成员初始化为0</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">struct</span> s ele2 = {<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 指定初始化</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">struct</span> s ele3 = {.a = <span style=\"color: #800080;\">1</span>};</pre>&#13;\n</div>&#13;\n<p><span style=\"line-height: 1.5;\">还用空的结构体大小，在老版本的VC6.0 （应该是C89标准）不为0，而为1 ，因为最小的c语言类型为char，一个字节，struct的设计者要求struct至少能容纳一个字符，但是到了现在的C11标准，C语言中的空结构体大小为0，在C++中大小为1。</span></p>&#13;\n<p>另外，结构体还有一个很神奇的东西--柔性数组，也就是结构体的最后一个成员可以定义为一个柔性数组--b变长数组。这个柔性数组的大小不会算在结构体的大小内，向下面这样</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> s{&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> c;&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> arr[];&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> typedef <span style=\"color: #0000ff;\">struct</span><span style=\"color: #000000;\"> s NS;&#13;\n</span><span style=\"color: #008080;\"> 9</span> typedef <span style=\"color: #0000ff;\">struct</span> s *<span style=\"color: #000000;\"> PNS;&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 实例化</span>&#13;\n<span style=\"color: #008080;\">11</span> PNS p = (PNS) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(NS)+<span style=\"color: #800080;\">100</span>*<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span>));</pre>&#13;\n</div>&#13;\n<p>上面的代码就定义了一个结构体，并且分配了一个大小为100的柔性数组</p>&#13;\n<h3>多字符常量</h3>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> str = <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">ABCD</span><span style=\"color: #800000;\">\'</span>;</pre>&#13;\n</div>&#13;\n<p>上面的代码会让四个字母分别占据int的四个字节，至于具体值，取决于存储的是大端模式还是小端模式</p>&#13;\n<h2>表达式和结构篇</h2>&#13;\n<h3>switch语句</h3>&#13;\n<p>奇葩写法1</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">char</span> ch = <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">c</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">switch</span><span style=\"color: #000000;\">(ch){&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">case</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">a</span><span style=\"color: #800000;\">\'</span>...<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">z</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 4</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">a-z</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">case</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">A</span><span style=\"color: #800000;\">\'</span>...<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">Z</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 7</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">A-Z</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">default</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">运行结果a-z</span></pre>&#13;\n</div>&#13;\n<p>这种写法还算正常，GNU C扩充的，能够接受，下面这种。。</p>&#13;\n<p>奇葩写法2</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">3</span>,b = <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">,m;&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">switch</span><span style=\"color: #000000;\">(a){&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">case</span> <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 4</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">1</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">if</span>(b == <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 7</span>         <span style=\"color: #0000ff;\">case</span> <span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\"> 8</span>             printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">2</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">            ;&#13;\n</span><span style=\"color: #008080;\">10</span>     }<span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">case</span> <span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">:{&#13;\n</span><span style=\"color: #008080;\">11</span>         printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">3</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">12</span>         <span style=\"color: #0000ff;\">for</span>(m = <span style=\"color: #800080;\">1</span>;m&lt;<span style=\"color: #800080;\">3</span>;m++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">13</span>         <span style=\"color: #0000ff;\">case</span> <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">14</span>             printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">4</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">            ;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">18</span>         <span style=\"color: #0000ff;\">default</span><span style=\"color: #000000;\">:&#13;\n</span><span style=\"color: #008080;\">19</span>             <span style=\"color: #0000ff;\">break</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 运行结果 344</span></pre>&#13;\n</div>&#13;\n<p><span style=\"line-height: 1.5;\">第一次看到，我也惊呆了</span></p>&#13;\n<h3>scanf忽略输入</h3>&#13;\n<p>这个问题相比很多人都遇到过，scanf读取无用的换行符，下面的代码可以很好的解决这个问题</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">char</span><span style=\"color: #000000;\"> c1,c2;&#13;\n</span><span style=\"color: #008080;\">2</span> scanf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%c%*c%c</span><span style=\"color: #800000;\">\"</span>,&amp;c1,&amp;<span style=\"color: #000000;\">c2);&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #000000;\">putchar(c1);&#13;\n</span><span style=\"color: #008080;\">4</span> putchar(c2);</pre>&#13;\n</div>&#13;\n<p>这样，你换行输入单个字符才不会有问题，也有用下面这样的代码过滤换行符的</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">while</span>((ch = getchar()) == <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">\\n</span><span style=\"color: #800000;\">\'</span>);</pre>&#13;\n</div>&#13;\n<h3>printf变量限定格式</h3>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> a=<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">float</span> m = <span style=\"color: #800080;\">3.1415926</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">3</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%.*f\\n</span><span style=\"color: #800000;\">\"</span>,a,m);   <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 3.142</span></pre>&#13;\n</div>&#13;\n<h3>宏定义中的#号</h3>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">#define</span> SQR(x) printf(\"x^2 = %d\\n\",((x)*(x)));&#13;\n<span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">#define</span> SQR2(x) printf(\"\"#x\"^2 = %d\\n\",((x)*(x)));&#13;\n<span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">#define</span> SQR3(x) printf(\"%d^2 = %d\\n\",x,((x)*(x)));&#13;\n<span style=\"color: #008080;\">4</span> &#13;\n<span style=\"color: #008080;\">5</span> SQR(<span style=\"color: #800080;\">3</span>);     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> x^2 = 9</span>&#13;\n<span style=\"color: #008080;\">6</span> SQR2(<span style=\"color: #800080;\">3</span>);    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 3^2 = 9</span>&#13;\n<span style=\"color: #008080;\">7</span> SQR3(<span style=\"color: #800080;\">3</span>);    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 3^2 = 9</span></pre>&#13;\n</div>&#13;\n<h3>数组名</h3>&#13;\n<p>数组名是指针常量，定义完之后不能修改</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> arr[<span style=\"color: #800080;\">3</span>] = {<span style=\"color: #800080;\">1</span>,<span style=\"color: #800080;\">2</span>,<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">int</span> a2[<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">int</span> * p =<span style=\"color: #000000;\"> a2;&#13;\n</span><span style=\"color: #008080;\">4</span> arr =<span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\">5</span> arr = a2;</pre>&#13;\n</div>&#13;\n<p>函数调用时不能传递数组，传递的只不过是一个指针</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">void</span> fun(<span style=\"color: #0000ff;\">int</span> arr[<span style=\"color: #800080;\">100</span><span style=\"color: #000000;\">]){&#13;\n</span><span style=\"color: #008080;\">2</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,<span style=\"color: #0000ff;\">sizeof</span><span style=\"color: #000000;\">(arr));&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">int</span> arr[<span style=\"color: #800080;\">3</span>] = {<span style=\"color: #800080;\">1</span>,<span style=\"color: #800080;\">2</span>,<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">5</span> fun(arr); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 4</span></pre>&#13;\n</div>&#13;\n<p>没错，那个参数列表中的100然并luan。关于向函数传递数组，后面还有讲解。</p>&#13;\n<h2>指针与函数篇</h2>&#13;\n<p>指针这部分如果学到比较好的这个应该都知道，算不得什么特性</p>&#13;\n<h3>直接对内存地址赋值</h3>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> *(<span style=\"color: #0000ff;\">int</span>*)<span style=\"color: #800080;\">0x12ff7c</span> = <span style=\"color: #800080;\">100</span>;</pre>&#13;\n</div>&#13;\n<h3>取数组一行的最后一个值</h3>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> arr[<span style=\"color: #800080;\">5</span>] = {<span style=\"color: #800080;\">1</span>,<span style=\"color: #800080;\">2</span>,<span style=\"color: #800080;\">3</span>,<span style=\"color: #800080;\">4</span>,<span style=\"color: #800080;\">5</span><span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">2</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,*(*(&amp;arr+<span style=\"color: #800080;\">1</span>)-<span style=\"color: #800080;\">1</span>)); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 5</span></pre>&#13;\n</div>&#13;\n<p>这个其实也很简单，arr是一级指针，列指针，再取一次地址后得到行指针，+1之后偏移一行，再解引用降级为列指针，再减1恰好指向arr[4]，所以就是5。另外注意arr其实就是&amp;arr[0]的值，也就是数组首元素的首地址。它与数组首地址其实有区别的，当arr为二维数组的时候，两者就存在区别。如果为二位数组，则arr==&amp;arr[0]==&amp;&amp;arr[0][0]。</p>&#13;\n<h3>数组与指针参数</h3>&#13;\n<p>就像前面说到的，不能像函数传递一个数组，传递数组，编译器总是将它解析成一个指向数组首元素的指针，也就是说传递的使用个指针，指向数组的首元素，但不指向数组，也就是说传递arr与传递&amp;arr[0]没有区别，这进一步说明了数组首地址与数组首元素的首地址是有却别的。</p>&#13;\n<p>另外，指针传递也是数值传递看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> f(<span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> p){&#13;\n</span><span style=\"color: #008080;\">2</span>     p =<span style=\"color: #000000;\"> NULL;&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">5</span> <span style=\"color: #0000ff;\">int</span> *p = &amp;<span style=\"color: #000000;\">a;&#13;\n</span><span style=\"color: #008080;\">6</span> <span style=\"color: #000000;\">f(p);&#13;\n</span><span style=\"color: #008080;\">7</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,*p);</pre>&#13;\n</div>&#13;\n<p>在没有C++引用传递的情况下，想传递指针，就要传递指针的指针。像下面这样</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> f2( <span style=\"color: #0000ff;\">int</span> **<span style=\"color: #000000;\"> pp){&#13;\n</span><span style=\"color: #008080;\">2</span>     *pp = (<span style=\"color: #0000ff;\">int</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span> (<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">3</span>     **pp = <span style=\"color: #800080;\">9</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">5</span> f2(&amp;<span style=\"color: #000000;\">p);&#13;\n</span><span style=\"color: #008080;\">6</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,*p); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 9</span></pre>&#13;\n</div>&#13;\n<h3>指针返回值</h3>&#13;\n<p>不要将局部变量的地址作为返回值返回，像下面这样的代码。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> getP(){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">return</span> &amp;<span style=\"color: #000000;\">a;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span> *<span style=\"color: #000000;\"> getP1(){&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">int</span> * p = (<span style=\"color: #0000ff;\">int</span> *) <span style=\"color: #0000ff;\">malloc</span>(<span style=\"color: #0000ff;\">sizeof</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 7</span>     *p = <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> p;&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">int</span> *p =<span style=\"color: #000000;\"> getP();&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">int</span> *p1 =<span style=\"color: #000000;\"> getP1();&#13;\n</span><span style=\"color: #008080;\">13</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,*<span style=\"color: #000000;\">p); &#13;\n</span><span style=\"color: #008080;\">14</span> printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">%d\\n</span><span style=\"color: #800000;\">\"</span>,*p1);</pre>&#13;\n</div>&#13;\n<p>虽然在我测试的时候都给出了正确的结果，但是这样做还是很危险的，因为局部变量在函数执行完毕后会被销毁，这个时候如果将局部变量的地址返回可能会得到野指针。</p>&#13;\n<h3>函数指针</h3>&#13;\n<p>下面来分析一个比较复杂的函数指针调用</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> (*(<span style=\"color: #0000ff;\">int</span>** (*) (<span style=\"color: #0000ff;\">int</span> **,<span style=\"color: #0000ff;\">int</span> **))<span style=\"color: #800080;\">0</span>)(<span style=\"color: #0000ff;\">int</span> **,<span style=\"color: #0000ff;\">int</span> **);</pre>&#13;\n</div>&#13;\n<p>有点晕，其实分开来看，</p>&#13;\n<p>int** (*) (int **,int **) 其实就是一个函数指针，函数的返回值是整形的二级指针，参数是两个整形的二级指针。</p>&#13;\n<p>而(int** (*) (int **,int **))0就是讲地址0指向的区域转换为函数指针</p>&#13;\n<p>*(int** (*) (int **,int **))0就是对这个函数进行解引用</p>&#13;\n<p>而(*(int** (*) (int **,int **))0)(int **,int **)则是指行函数调用</p>&#13;\n<p> </p>&#13;\n<p>先整理这么多吧，C语言博大精深，有着各种鲜为人知的高级特性，这里列出来的只是九牛一毛而已，权当复习而已。</p>&#13;\n<p> </p></div>',1332,'2015-08-01 17:58:00','2016-07-31 10:21:48',4,'http://www.cnblogs.com/lvyahui/p/4695627.html',4695627),(500,'上传文件到服务器端后进一步推送到sftp服务器','扩展安装&#13;\n要想sftp服务端发送文件，就需要php脚本具有作为ssh客户端的能力，所以需先为php安装如下扩展&#13;\nopenssl&#13;\nopenssl-dev&#13;\nlibssh&#13;\nphp ssh 扩展','<div id=\"cnblogs_post_body\"><h2>扩展安装</h2>&#13;\n<p>要想sftp服务端发送文件，就需要php脚本具有作为ssh客户端的能力，所以需先为php安装如下扩展</p>&#13;\n<ul><li>openssl</li>&#13;\n<li>openssl-dev</li>&#13;\n<li>libssh</li>&#13;\n<li>php ssh 扩展</li>&#13;\n</ul><p>按照下面的命令进行安装</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> rpm -qa | <span style=\"color: #0000ff;\">grep</span><span style=\"color: #000000;\"> openssl&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">www.libssh2.org/download/libssh2-1.6.0.tar.gz</span>&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">tar</span> zxvf llibssh2-<span style=\"color: #800080;\">1.6</span>.<span style=\"color: #800080;\">0</span>.<span style=\"color: #0000ff;\">tar</span><span style=\"color: #000000;\">.gz&#13;\n</span><span style=\"color: #008080;\"> 4</span> cd libssh2-<span style=\"color: #800080;\">1.6</span>.<span style=\"color: #800080;\">0</span>&#13;\n<span style=\"color: #008080;\"> 5</span> ./<span style=\"color: #000000;\">configure&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">make</span> &amp;&amp; <span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">pecl.php.net/get/ssh2-0.11.3.tgz</span>&#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">tar</span> xvf ssh2-<span style=\"color: #800080;\">0.11</span>.<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">.tgz&#13;\n</span><span style=\"color: #008080;\"> 9</span> cd ssh2-<span style=\"color: #800080;\">0.11</span>.<span style=\"color: #800080;\">3</span>&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">phpize&#13;\n</span><span style=\"color: #008080;\">11</span> ./configure --with-<span style=\"color: #000000;\">ssh2&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">cp</span> modules/ssh2.so /alidata/server/php-<span style=\"color: #800080;\">5.4</span>.<span style=\"color: #800080;\">23</span>/lib/php/extensions/no-debug-non-zts-<span style=\"color: #800080;\">20100525</span>&#13;\n<span style=\"color: #008080;\">14</span> <span style=\"color: #0000ff;\">echo</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">extension=ssh2.so</span><span style=\"color: #800000;\">\'</span> &gt;&gt; /alidata/server/php-<span style=\"color: #800080;\">5.4</span>.<span style=\"color: #800080;\">23</span>/etc/<span style=\"color: #000000;\">php.ini&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">service nginx restart&#13;\n</span><span style=\"color: #008080;\">16</span> php -i | <span style=\"color: #0000ff;\">grep</span> ssh2</pre>&#13;\n</div>&#13;\n<p>服务器软件安装路径需要根据实际情况修改</p>&#13;\n<h2>php推送脚本</h2>&#13;\n<p>注意这里服务端已经处理完文件上传，这个推送的部分可以另起一个线程或进程去推送</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">function</span> proccessFile(<span style=\"color: #800080;\">$destinationPath</span>, <span style=\"color: #800080;\">$filename</span><span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">parent::proccessFile($destinationPath, $filename); // TODO: Change the autogenerated stub</span>&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span>   <span style=\"color: #800080;\">$remoteBasePath</span> = \'/mnt/java/pipeline/ads/upload/\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span>   <span style=\"color: #800080;\">$localBasePath</span> = \'/alidata/www/aft/\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 7</span>   <span style=\"color: #800080;\">$connection</span> = ssh2_connect(\'XXX.XXX.XXX.XXX\', 22<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 8</span>   ssh2_auth_password(<span style=\"color: #800080;\">$connection</span>, \'username\', \'password\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 9</span>   <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">  $sftp = ssh2_sftp($connection);&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\">  SiteHelpers::PE($sftp);&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #008000;\">  $resFile = fopen(\"ssh2.sftp://$sftp/mnt/java/pipeline/ads/upload\", \'w\');&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #008000;\">  $srcFile = fopen(\'/alidata/www/aft/\'.$destinationPath.\'/\'.$filename,\'r\');&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #008000;\">  $writtenBytes = stream_copy_to_stream($srcFile, $resFile);&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #008000;\">  fclose($resFile);&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #008000;\">  fclose($srcFile);&#13;\n</span><span style=\"color: #008080;\">17</span>   <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">18</span>   <span style=\"color: #800080;\">$dateDir</span> = <span style=\"color: #008080;\">date</span>(\"Y-m/d\",<span style=\"color: #008080;\">strtotime</span>(\"-1 day\"<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    SiteHelpers::PE($remoteBasePath.$dateDir.\'/\'.$filename);&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #008000;\">//    $sftp = ssh2_sftp($connection);&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #008000;\">//    ssh2_sftp_mkdir($sftp,$remoteBasePath.$dateDir);</span>&#13;\n<span style=\"color: #008080;\">22</span>   ssh2_exec(<span style=\"color: #800080;\">$connection</span>,\'mkdir -p \'.<span style=\"color: #800080;\">$remoteBasePath</span>.<span style=\"color: #800080;\">$dateDir</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">23</span>   ssh2_scp_send(<span style=\"color: #800080;\">$connection</span>,&#13;\n<span style=\"color: #008080;\">24</span>      <span style=\"color: #800080;\">$localBasePath</span>.<span style=\"color: #800080;\">$destinationPath</span>.\'/\'.<span style=\"color: #800080;\">$filename</span>,&#13;\n<span style=\"color: #008080;\">25</span>      <span style=\"color: #800080;\">$remoteBasePath</span>.<span style=\"color: #800080;\">$dateDir</span>.\'/\'.<span style=\"color: #800080;\">$filename</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">26</span> &#13;\n<span style=\"color: #008080;\">27</span>   <span style=\"color: #008080;\">Log</span>::info(\'处理了投放数据\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">28</span>   <span style=\"color: #008080;\">Log</span>::info(<span style=\"color: #800080;\">$destinationPath</span>.\'/\'.<span style=\"color: #800080;\">$filename</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">29</span> }</pre>&#13;\n</div>&#13;\n<p>可以看到最后文件成功推送到sftp服务器</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/021449397986414.png\" alt=\"\"/></p></div>',93,'2015-08-01 18:51:00','2016-07-31 10:21:49',3,'http://www.cnblogs.com/lvyahui/p/4695764.html',4695764),(501,'服务端生成word并压缩打包下载','所需工具&#13;\nphpwrod 库&#13;\nphp_zip 扩展&#13;\n下载phpword库，放到类加载路径。&#13;\n安装php_zip扩展&#13;\n下载地址 &#13;\n','<div id=\"cnblogs_post_body\"><h2>所需工具</h2>&#13;\n<ul><li>phpwrod 库</li>&#13;\n<li>php_zip 扩展</li>&#13;\n</ul><p>下载phpword库，放到类加载路径。</p>&#13;\n<p>安装php_zip扩展</p>&#13;\n<p>下载地址 </p>&#13;\n<div><a href=\"http://pecl.php.net/package/zip\">http://pecl.php.net/package/zip</a></div>&#13;\n<div>linux下载targz包，windows下下载dll</div>&#13;\n<div> </div>&#13;\n<div>linux下</div>&#13;\n<div>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">pecl.php.net/get/zip-1.12.5.tgz</span>&#13;\n<span style=\"color: #008080;\"> 2</span> cd <span style=\"color: #0000ff;\">zip</span>-<span style=\"color: #800080;\">1.12</span>.<span style=\"color: #800080;\">5</span>&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #000000;\">phpize&#13;\n</span><span style=\"color: #008080;\"> 4</span> ./<span style=\"color: #000000;\">configure&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">cp</span> <span style=\"color: #0000ff;\">zip</span>.so /alidata/server/php-<span style=\"color: #800080;\">5.4</span>.<span style=\"color: #800080;\">23</span>/lib/php/extensions/no-debug-non-zts-<span style=\"color: #800080;\">20100525</span>/&#13;\n<span style=\"color: #008080;\"> 7</span> cd /alidata/server/php-<span style=\"color: #800080;\">5.4</span>.<span style=\"color: #800080;\">23</span>/etc/&#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">cp</span><span style=\"color: #000000;\"> php.ini php.ini.bak&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">echo</span> <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">extension=zip.so</span><span style=\"color: #800000;\">\'</span> &gt;&gt;<span style=\"color: #000000;\"> php.ini&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">tail</span><span style=\"color: #000000;\"> php.ini&#13;\n</span><span style=\"color: #008080;\">11</span> service httpd restart</pre>&#13;\n</div>&#13;\n<p><img style=\"line-height: 1.5; display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/021458571268714.png\" alt=\"\"/></p>&#13;\n</div>&#13;\n<div>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/021459088456732.png\" alt=\"\"/></p>&#13;\n<h2>PHPword生成脚本</h2>&#13;\n<p>首先要在word模板文件中定义好变量，定义的方式为</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> ${变量名}</pre>&#13;\n</div>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">protected</span> <span style=\"color: #0000ff;\">function</span> proccessWord(<span style=\"color: #800080;\">$templeteFilename</span>,<span style=\"color: #800080;\">$values</span>,<span style=\"color: #800080;\">$defaultValues</span>,<span style=\"color: #800080;\">$baseFloder</span>,<span style=\"color: #800080;\">$outFilename</span> = \'word\'<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #800080;\">$values</span> = <span style=\"color: #008080;\">array_merge</span>(<span style=\"color: #800080;\">$defaultValues</span>,<span style=\"color: #800080;\">$values</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #800080;\">$template</span> = <span style=\"color: #0000ff;\">new</span> TemplateProcessor(<span style=\"color: #800080;\">$templeteFilename</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">foreach</span> (<span style=\"color: #800080;\">$values</span> <span style=\"color: #0000ff;\">as</span> <span style=\"color: #800080;\">$k</span>=&gt;<span style=\"color: #800080;\">$v</span><span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 6</span>         <span style=\"color: #0000ff;\">if</span>(!<span style=\"color: #008080;\">is_array</span>(<span style=\"color: #800080;\">$v</span><span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\"> 7</span>             <span style=\"color: #800080;\">$template</span>-&gt;setValue(<span style=\"color: #800080;\">$k</span>, <span style=\"color: #008080;\">strval</span>(<span style=\"color: #800080;\">$v</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">if</span> ( ! <span style=\"color: #008080;\">preg_match</span>(\"|.+?\\.docx$|\", <span style=\"color: #800080;\">$outFilename</span><span style=\"color: #000000;\">))&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">12</span>         <span style=\"color: #800080;\">$outFilename</span> .= \'.docx$\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #800080;\">$outFille</span> = <span style=\"color: #800080;\">$baseFloder</span>.\'/\'.<span style=\"color: #800080;\">$outFilename</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #800080;\">$template</span>-&gt;saveAs(<span style=\"color: #800080;\">$outFille</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">$outFille</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">17</span> }</pre>&#13;\n</div>&#13;\n<h2>PHP压缩打包并响应</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> postDocs(){&#13;\n</span><span style=\"color: #008080;\"> 2</span>   <span style=\"color: #800080;\">$query</span> = Ownerdebt::whereNotNull(\'id\')-&gt;with(\'owner.block\')-&gt;where(\'status\',\'active\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 3</span>   <span style=\"color: #0000ff;\">if</span>(Input::get(\'type\') == \'all\'<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 4</span>   }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 5</span>      <span style=\"color: #800080;\">$selected</span> = Input::get(\'selected\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 6</span>      <span style=\"color: #800080;\">$ids</span> = <span style=\"color: #008080;\">array_unique</span>(<span style=\"color: #008080;\">explode</span>(\",\",<span style=\"color: #800080;\">$selected</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 7</span>      <span style=\"color: #800080;\">$query</span> = <span style=\"color: #800080;\">$query</span>-&gt;whereIn(\'id\',<span style=\"color: #800080;\">$ids</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\"> 9</span>   <span style=\"color: #800080;\">$ownerdebts</span> = <span style=\"color: #800080;\">$query</span>-&gt;<span style=\"color: #000000;\">get();&#13;\n</span><span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span>   <span style=\"color: #800080;\">$user</span> = User::with(\'property\')-&gt;find(Auth::user()-&gt;<span style=\"color: #000000;\">id);&#13;\n</span><span style=\"color: #008080;\">12</span>   <span style=\"color: #800080;\">$defaultValues</span> = <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">13</span>      \'name\'     =&gt;\'姓名\',&#13;\n<span style=\"color: #008080;\">14</span>      \'property\' =&gt;\'某公司\',&#13;\n<span style=\"color: #008080;\">15</span>      \'block\'    =&gt;\'某小区\',&#13;\n<span style=\"color: #008080;\">16</span>      \'room\'     =&gt;\'某房\',&#13;\n<span style=\"color: #008080;\">17</span>      \'start_time\'=&gt;\'2015年X月X日\',&#13;\n<span style=\"color: #008080;\">18</span>      \'end_time\' =&gt;\'2015年X月X日\',&#13;\n<span style=\"color: #008080;\">19</span>      \'money\'    =&gt;\'1000\',  &#13;\n<span style=\"color: #008080;\">20</span>      \'extra\'    =&gt;\'400\',             &#13;\n<span style=\"color: #008080;\">21</span>      \'total\'    =&gt;\'1400\',&#13;\n<span style=\"color: #008080;\">22</span>      \'last_time\'=&gt;\'2015年X月X日\',<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    最后期限</span>&#13;\n<span style=\"color: #008080;\">23</span>      \'create_date\'=&gt;\'2015年X月X日\',&#13;\n<span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">  );&#13;\n</span><span style=\"color: #008080;\">25</span>   <span style=\"color: #800080;\">$baseFloder</span> = base_path().\'/../uploads/docs/\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">26</span>   <span style=\"color: #800080;\">$allDocs</span> =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">27</span>   <span style=\"color: #800080;\">$property</span> = <span style=\"color: #800080;\">$user</span>-&gt;<span style=\"color: #000000;\">property;&#13;\n</span><span style=\"color: #008080;\">28</span>   <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$property</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">29</span>      <span style=\"color: #0000ff;\">foreach</span>(<span style=\"color: #800080;\">$ownerdebts</span> <span style=\"color: #0000ff;\">as</span> <span style=\"color: #800080;\">$ot</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">30</span>         <span style=\"color: #800080;\">$values</span> = <span style=\"color: #800080;\">$ot</span>-&gt;<span style=\"color: #000000;\">toArray();&#13;\n</span><span style=\"color: #008080;\">31</span>         <span style=\"color: #800080;\">$values</span>[\'name\']         =  <span style=\"color: #800080;\">$ot</span>-&gt;owner-&gt;<span style=\"color: #000000;\">name;&#13;\n</span><span style=\"color: #008080;\">32</span>         <span style=\"color: #800080;\">$values</span>[\'property\']     =  <span style=\"color: #800080;\">$property</span>-&gt;<span style=\"color: #000000;\">name;&#13;\n</span><span style=\"color: #008080;\">33</span>         <span style=\"color: #800080;\">$values</span>[\'block\']        =  <span style=\"color: #800080;\">$ot</span>-&gt;owner-&gt;block-&gt;<span style=\"color: #000000;\">name;&#13;\n</span><span style=\"color: #008080;\">34</span>         <span style=\"color: #800080;\">$values</span>[\'room\']         =  <span style=\"color: #800080;\">$values</span>[\'owner\'][\'room\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">35</span>         <span style=\"color: #800080;\">$values</span>[\'start_time\']   =  <span style=\"color: #008080;\">date</span>(\'Y 年 m 月 d\',<span style=\"color: #008080;\">strtotime</span>(<span style=\"color: #800080;\">$values</span>[\'start_time\'<span style=\"color: #000000;\">]));&#13;\n</span><span style=\"color: #008080;\">36</span>         <span style=\"color: #800080;\">$values</span>[\'end_time\']     =  <span style=\"color: #008080;\">date</span>(\'Y 年 m 月 d\',<span style=\"color: #008080;\">strtotime</span>(<span style=\"color: #800080;\">$values</span>[\'end_time\'<span style=\"color: #000000;\">]));&#13;\n</span><span style=\"color: #008080;\">37</span>         <span style=\"color: #800080;\">$values</span>[\'total\']        =  <span style=\"color: #800080;\">$values</span>[\'money\'] + <span style=\"color: #800080;\">$values</span>[\'extra\'<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">38</span>         <span style=\"color: #800080;\">$values</span>[\'last_time\']    =  <span style=\"color: #008080;\">date</span>(\'Y 年 m 月 d\',<span style=\"color: #008080;\">strtotime</span>(\'+30 day\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">39</span>         <span style=\"color: #800080;\">$values</span>[\'create_date\']  =  <span style=\"color: #008080;\">date</span>(\'Y 年 m 月 d\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">40</span> &#13;\n<span style=\"color: #008080;\">41</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">SiteHelpers::P($values);</span>&#13;\n<span style=\"color: #008080;\">42</span>         <span style=\"color: #800080;\">$fileName</span> = <span style=\"color: #800080;\">$values</span>[\'room\'].\'-\'.<span style=\"color: #008080;\">date</span>(\"Y-m-d\").\'.docx\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">43</span>         <span style=\"color: #800080;\">$allDocs</span> [] = <span style=\"color: #800080;\">$fileName</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">44</span>         <span style=\"color: #800080;\">$this</span>-&gt;<span style=\"color: #000000;\">proccessWord(&#13;\n</span><span style=\"color: #008080;\">45</span>            app_path().\'/template/lawyer.docx\',&#13;\n<span style=\"color: #008080;\">46</span>            <span style=\"color: #800080;\">$values</span>,&#13;\n<span style=\"color: #008080;\">47</span>            <span style=\"color: #800080;\">$defaultValues</span>,&#13;\n<span style=\"color: #008080;\">48</span>            <span style=\"color: #800080;\">$baseFloder</span>,&#13;\n<span style=\"color: #008080;\">49</span>            <span style=\"color: #800080;\">$fileName</span>&#13;\n<span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">        );&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">     }&#13;\n</span><span style=\"color: #008080;\">52</span>      <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 打包</span>&#13;\n<span style=\"color: #008080;\">53</span>      <span style=\"color: #800080;\">$zip_file</span> = <span style=\"color: #008080;\">dirname</span>(base_path()).\"/uploads/zip/lawyer-\".<span style=\"color: #008080;\">date</span>(\'Y-m-d-H-i-s\').\".zip\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">54</span>      <span style=\"color: #800080;\">$zipHelpers</span> = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ZipHelpers();&#13;\n</span><span style=\"color: #008080;\">55</span>      <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">$zipTool = new ZipArchive();&#13;\n</span><span style=\"color: #008080;\">56</span> <span style=\"color: #008000;\">     //if(file_exists($zip_file)) unlink($zip_file);&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #008000;\">     //$open = $zipTool-&gt;open($zip_file,ZipArchive::CREATE);</span>&#13;\n<span style=\"color: #008080;\">58</span>      <span style=\"color: #0000ff;\">foreach</span>(<span style=\"color: #800080;\">$allDocs</span> <span style=\"color: #0000ff;\">as</span> <span style=\"color: #800080;\">$docs</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">59</span>         <span style=\"color: #800080;\">$zipHelpers</span>-&gt;add_data(\'docs/\'.<span style=\"color: #800080;\">$docs</span>, <span style=\"color: #008080;\">file_get_contents</span>(<span style=\"color: #800080;\">$baseFloder</span>.\'/\'.<span style=\"color: #800080;\">$docs</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">60</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">if($open) $zipTool-&gt;addFile($docs,$baseFloder.\'/\'.$docs);</span>&#13;\n<span style=\"color: #008080;\">61</span> <span style=\"color: #000000;\">     }&#13;\n</span><span style=\"color: #008080;\">62</span>      <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">if($open) $zipTool-&gt;close();</span>&#13;\n<span style=\"color: #008080;\">63</span> &#13;\n<span style=\"color: #008080;\">64</span>      <span style=\"color: #800080;\">$flag</span> = <span style=\"color: #800080;\">$zipHelpers</span>-&gt;archive(<span style=\"color: #800080;\">$zip_file</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">65</span>      <span style=\"color: #800080;\">$zipHelpers</span>-&gt;<span style=\"color: #000000;\">clear_data();&#13;\n</span><span style=\"color: #008080;\">66</span> &#13;\n<span style=\"color: #008080;\">67</span>      <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #800080;\">$flag</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">68</span>         <span style=\"color: #008080;\">header</span>(\"Content-type: application/zip\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">69</span>         <span style=\"color: #008080;\">header</span>(\"Content-Disposition: attachment; filename=\\\"\" .<span style=\"color: #008080;\">basename</span>(<span style=\"color: #800080;\">$zip_file</span>) . \"\\\"\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">70</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">       header(\"Content-Length: \" . filesize($zip_file)); // 这里不能响应长度，否则会造成压缩包损坏</span>&#13;\n<span style=\"color: #008080;\">71</span>         <span style=\"color: #008080;\">readfile</span>(<span style=\"color: #800080;\">$zip_file</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">72</span>      }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">73</span> &#13;\n<span style=\"color: #008080;\">74</span> <span style=\"color: #000000;\">     }&#13;\n</span><span style=\"color: #008080;\">75</span> <span style=\"color: #000000;\">  }&#13;\n</span><span style=\"color: #008080;\">76</span>   <span style=\"color: #0000ff;\">exit</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">77</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n</div></div>',71,'2015-08-01 19:07:00','2016-07-31 10:21:50',10,'http://www.cnblogs.com/lvyahui/p/4695798.html',4695798);
INSERT INTO `post` VALUES (502,'回顾javase点滴','数据类型&#13;\n8种基本数据类型和引用类型&#13;\n&#13;\n数据类型&#13;\n','<div id=\"cnblogs_post_body\"><h2>数据类型</h2>&#13;\n<h3>8种基本数据类型和引用类型</h3>&#13;\n<div>&#13;\n<table style=\"width: 100%;\" border=\"1\" cellspacing=\"0\" cellpadding=\"2\"><tbody><tr><td valign=\"top\">数据类型</td>&#13;\n<td valign=\"top\">占用位数</td>&#13;\n<td valign=\"top\">存储方式</td>&#13;\n<td valign=\"top\">最小值</td>&#13;\n<td valign=\"top\">最大值</td>&#13;\n<td valign=\"top\">默认值</td>&#13;\n</tr><tr><td valign=\"top\">byte</td>&#13;\n<td valign=\"top\">8</td>&#13;\n<td valign=\"top\">1+7</td>&#13;\n<td valign=\"top\">-128(-2^7)</td>&#13;\n<td valign=\"top\">127(2^7-1)</td>&#13;\n<td valign=\"top\">0</td>&#13;\n</tr><tr><td valign=\"top\">short</td>&#13;\n<td valign=\"top\">16</td>&#13;\n<td valign=\"top\">1+15</td>&#13;\n<td valign=\"top\">-32768(-2^15)</td>&#13;\n<td valign=\"top\">32767(2^15-1)</td>&#13;\n<td valign=\"top\">0</td>&#13;\n</tr><tr><td valign=\"top\">int</td>&#13;\n<td valign=\"top\">32</td>&#13;\n<td valign=\"top\">1+31</td>&#13;\n<td valign=\"top\">-2147483648(-2^31)</td>&#13;\n<td valign=\"top\">2147483647(2^31-1)</td>&#13;\n<td valign=\"top\">0</td>&#13;\n</tr><tr><td valign=\"top\">long</td>&#13;\n<td valign=\"top\">64</td>&#13;\n<td valign=\"top\">1+63</td>&#13;\n<td valign=\"top\">-2^63</td>&#13;\n<td valign=\"top\">2^63-1</td>&#13;\n<td valign=\"top\">0L</td>&#13;\n</tr><tr><td valign=\"top\">float</td>&#13;\n<td valign=\"top\">32</td>&#13;\n<td valign=\"top\">1实数符号位+1指数符号位+7指数位+23实数位<br/>&#13;\n(与整数不同,符号位1为正,0为负,有效位数为1+23位 )</td>&#13;\n<td valign=\"top\">1.4E-45</td>&#13;\n<td valign=\"top\">3.4028235E38</td>&#13;\n<td valign=\"top\">0.0f</td>&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n</tr><tr><td valign=\"top\">double</td>&#13;\n<td valign=\"top\">64</td>&#13;\n<td valign=\"top\">1实数符号位+1指数符号位+10位指数位+52实数位</td>&#13;\n<td valign=\"top\">4.9E-324</td>&#13;\n<td valign=\"top\">1.7976931348623157E308</td>&#13;\n<td valign=\"top\">0.0f</td>&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n</tr><tr><td valign=\"top\">char</td>&#13;\n<td valign=\"top\">16</td>&#13;\n<td valign=\"top\"> </td>&#13;\n<td valign=\"top\">0</td>&#13;\n<td valign=\"top\">2^16</td>&#13;\n<td valign=\"top\">0</td>&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n</tr><tr><td valign=\"top\">boolean</td>&#13;\n<td valign=\"top\"> </td>&#13;\n<td valign=\"top\"> </td>&#13;\n<td valign=\"top\"> </td>&#13;\n<td valign=\"top\"> </td>&#13;\n<td valign=\"top\">false</td>&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n</tr></tbody></table><div> </div>&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n&#13;\n</div>&#13;\n<div>上述的默认值是在作为属性时才有</div>&#13;\n<div>对于boolean值占用的位数，sun公司给出的描述是使用了一位的信息，但具体占用多少字节并不一定。因此对这个问题众说纷纭</div>&#13;\n<div>下面是官方文档 <a style=\"line-height: 1.5;\" href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></div>&#13;\n<div>另外我不知java中 void算不算一种类型，但java.lang包中却是有一个Void类，这个东西有一个作用，可以解决java中不能传递void类型参数，可以在ClassLoder源码中看到</div>&#13;\n<div><img src=\"http://images0.cnblogs.com/blog2015/635249/201508/161228282708661.png\" alt=\"\"/></div>&#13;\n<div> </div>&#13;\n<h3>基本类型对应的包装类</h3>&#13;\n<div>Boolean,Character,Byte,Double,Float,Integer,Long,Short。</div>&#13;\n<div>java可以直接自动装箱拆箱</div>&#13;\n<div>比如</div>&#13;\n<div>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 自动装箱</span>&#13;\n<span style=\"color: #008080;\">2</span> Integer iobj = 1<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">3</span> Integer iobj = Integer.valueOf(1<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 自动拆箱</span>&#13;\n<span style=\"color: #008080;\">5</span> <span style=\"color: #0000ff;\">int</span> i =<span style=\"color: #000000;\"> iboj;&#13;\n</span><span style=\"color: #008080;\">6</span> <span style=\"color: #0000ff;\">int</span> i = iobj.intValue();</pre>&#13;\n</div>&#13;\n<p>特别的，像Integer使用了缓存机制，我看了下Short的源代码也有，别的没去看了</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> Integer i1 = 127<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">2</span> Integer i2 = 127<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">3</span> Integer i3 = 128<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">4</span> Integer i4 = 128<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">5</span> System.out.println(i1 == i2); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> true</span>&#13;\n<span style=\"color: #008080;\">6</span> System.out.println(i3 == i4); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> false</span></pre>&#13;\n</div>&#13;\n<p>这个可以在源代码中看到</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201508/161255554422808.png\" alt=\"\"/></p>&#13;\n<p>另外基本数据类型与包装类型可以区分变量是否被赋值</p>&#13;\n<h3>引用类型</h3>&#13;\n<p>引用数据类型存放对象，对象可分为数组，类对象，接口对象，枚举对象</p>&#13;\n<p>引用类型变量的值存于栈中，变量引用的对象存在于堆中。</p>&#13;\n<p>java中数组也是对象，并且继承自Object，这一点就算大家没听过，在ide环境的代码提示下也会看到数组集成了Object的方法</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">int</span> arr [] = <span style=\"color: #0000ff;\">new</span> <span style=\"color: #0000ff;\">int</span>[12<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">2</span> System.out.println(arr.getClass().getSuperclass());<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">class java.lang.Object</span></pre>&#13;\n</div>&#13;\n<p><span style=\"color: #ff0000;\">接口中方法缺省为abstract public 表示必须实现的抽象方法，字段缺省为public static fina</span>l，表示全局常量，因为接口要体现比抽象类更高的抽象原则。</p>&#13;\n<p>另外接口在运行时也应是以Class的方式实现的，并继承自Object类。</p>&#13;\n<p>看下面的代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">interface</span><span style=\"color: #000000;\"> U {&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run();&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">void wait();    </span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">Test.java:3: 错误: U中的wait()无法覆盖Object中的wait()</span>&#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> PU{&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String toString(){&#13;\n</span><span style=\"color: #008080;\"> 7</span>         <span style=\"color: #0000ff;\">return</span> \"PUPU\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">class</span> UI <span style=\"color: #0000ff;\">extends</span> PU <span style=\"color: #0000ff;\">implements</span><span style=\"color: #000000;\"> U{&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run(){&#13;\n</span><span style=\"color: #008080;\">12</span>         &#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String toString(){&#13;\n</span><span style=\"color: #008080;\">15</span>         <span style=\"color: #0000ff;\">return</span> \"UU\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Test{&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String [] a){&#13;\n</span><span style=\"color: #008080;\">20</span>         U u = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> UI();&#13;\n</span><span style=\"color: #008080;\">21</span>         System.out.println(u <span style=\"color: #0000ff;\">instanceof</span> Object); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> true</span>&#13;\n<span style=\"color: #008080;\">22</span>         System.out.println(u.toString()); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> UU</span>&#13;\n<span style=\"color: #008080;\">23</span>         Object obj =<span style=\"color: #000000;\"> u;&#13;\n</span><span style=\"color: #008080;\">24</span>         System.out.println(obj);    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> UU&#13;\n</span><span style=\"color: #008080;\">25</span>         <span style=\"color: #008000;\">//</span> &#13;\n<span style=\"color: #008080;\">26</span>         System.out.println(Object.<span style=\"color: #0000ff;\">class</span>.isAssignableFrom(U.<span style=\"color: #0000ff;\">class</span>)); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> true</span>&#13;\n<span style=\"color: #008080;\">27</span>         System.out.println(U.<span style=\"color: #0000ff;\">class</span>.getGenericInterfaces()); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> [Ljava.lang.Class;@15db9742</span>&#13;\n<span style=\"color: #008080;\">28</span>         System.out.println(UI.<span style=\"color: #0000ff;\">class</span>.getGenericInterfaces());<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> [Ljava.lang.Class;@6d06d69c</span>&#13;\n<span style=\"color: #008080;\">29</span>         System.out.println(U.<span style=\"color: #0000ff;\">class</span>.getGenericSuperclass()); <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> null</span>&#13;\n<span style=\"color: #008080;\">30</span>         System.out.println(U.<span style=\"color: #0000ff;\">class</span>.getSuperclass());    <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> null</span>&#13;\n<span style=\"color: #008080;\">31</span>         System.out.println(U.<span style=\"color: #0000ff;\">class</span>.isInterface());  <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> true</span>&#13;\n<span style=\"color: #008080;\">32</span>         &#13;\n<span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">34</span> }</pre>&#13;\n</div>&#13;\n<p>反编译看U.class也可看到接口与Object存在关系</p>&#13;\n<p><img src=\"http://images0.cnblogs.com/blog2015/635249/201508/162255036455029.png\" alt=\"\"/></p>&#13;\n<p>这里我有个疑问，<span style=\"color: #ff0000;\">像上面的UI继承PU类并实现U接口，而按照之前的分析，UI应该应有Object的方法拷贝，那是不是意味着Java虽然不直接支持多继承，但还是不可避免的出现这种疑似多副本的问题，但很显然Java并不存在这个问题。那么Java设计者是怎么做的，像C++虚基类那样么？只保留唯一一个Object的多个引用吗</span>？这个问题暂时没有找到答案。</p>&#13;\n<p>枚举类型基于类来实现，<span style=\"color: #ff0000;\">所有枚举类型继承自java.lang.Enum。从jdk文档中可以看到Enum类有静态方法valueOf方法，但却看不到常用的values方法，那么这个values方法从哪来呢？编译时加的</span>。详情参考<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" target=\"_blank\">文档</a> http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html 。另外可以发现Enum很神奇的泛型定义，为毛要这么定义，因为Enum要实现Comparable接口，并且只希望同一类系的枚举对象进行比较。<a href=\"http://www.it165.net/pro/html/201305/5643.html\" target=\"_blank\">参考</a> http://www.it165.net/pro/html/201305/5643.html</p>&#13;\n<p>类是java核心，我也见了很多人总在说着java中万物皆对象。类的整个生命周期包括，加载、验证、准备、解析、初始化、使用、销毁，这篇<a href=\"http://blog.csdn.net/ns_code/article/details/17881581\" target=\"_blank\">文章</a>写的非常不错。java有好几个类加载器，但很显然总有一个类加载器不是java写的，就像总有一个编译器，是由最底层代码写的。以前看过一篇文章，记得是C++写的。</p>&#13;\n<h4>类的初始化过程</h4>&#13;\n<p><span style=\"color: #ff0000;\">1、父类静态成员初始化</span></p>&#13;\n<p><span style=\"color: #ff0000;\">2、父类静态代码块执行</span></p>&#13;\n<p><span style=\"color: #ff0000;\">3、子类静态成员初始化</span></p>&#13;\n<p><span style=\"color: #ff0000;\">4、子类静态代码块执行</span></p>&#13;\n<p><span style=\"color: #ff0000;\">5、父类构造代码块执行</span></p>&#13;\n<p><span style=\"color: #ff0000;\">6、父类构造函数执行</span></p>&#13;\n<p><span style=\"color: #ff0000;\">7、子类构造代码块执行</span></p>&#13;\n<p><span style=\"color: #ff0000;\">8、子类构造函数执行</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.devlyh.clazz;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">class</span> PClass <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> Object{&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">int</span> anInt = 10<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span> sVal = 20<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span> initVal =<span style=\"color: #000000;\"> init();&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">static</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 9</span>         System.out.println(\"父类静态代码块执行:\"+<span style=\"color: #000000;\">sVal);&#13;\n</span><span style=\"color: #008080;\">10</span>         sVal = 100<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">12</span> &#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">14</span>         System.out.println(\"父类构造代码块执行\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span>         anInt = 30<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span> &#13;\n<span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> PClass(){&#13;\n</span><span style=\"color: #008080;\">19</span>         System.out.println(\"父类构造函数执行 :\"+<span style=\"color: #000000;\">anInt);&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> init(){&#13;\n</span><span style=\"color: #008080;\">23</span>         System.out.println(PClass.<span style=\"color: #0000ff;\">class</span>.getName()+\"静态成员初始化\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">24</span>         <span style=\"color: #0000ff;\">return</span> 1000<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">27</span> &#13;\n<span style=\"color: #008080;\">28</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span> ClassInitDemo <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> PClass{&#13;\n</span><span style=\"color: #008080;\">29</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">int</span> anInt = 4<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span>     <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">int</span> sVal = 3<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">32</span> &#13;\n<span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span> initVal =<span style=\"color: #000000;\"> init();&#13;\n</span><span style=\"color: #008080;\">34</span> &#13;\n<span style=\"color: #008080;\">35</span>     <span style=\"color: #0000ff;\">static</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">36</span>         System.out.println(\"子类静态代码执行 sval:\"+<span style=\"color: #000000;\">sVal);&#13;\n</span><span style=\"color: #008080;\">37</span>         sVal = 10<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">39</span>     &#13;\n<span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">41</span>         System.out.println(\"子类构造代码块执行\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">42</span>         anInt = 10<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">44</span> &#13;\n<span style=\"color: #008080;\">45</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> init(){&#13;\n</span><span style=\"color: #008080;\">46</span>         System.out.println(ClassInitDemo.<span style=\"color: #0000ff;\">class</span>.getName()+\"静态成员初始化\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">47</span>         <span style=\"color: #0000ff;\">return</span> 1000<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">49</span> &#13;\n<span style=\"color: #008080;\">50</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> ClassInitDemo(){&#13;\n</span><span style=\"color: #008080;\">51</span>         System.out.println(\"子类构造函数执行:\"+<span style=\"color: #000000;\">anInt);&#13;\n</span><span style=\"color: #008080;\">52</span>         System.out.println(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.anInt);&#13;\n</span><span style=\"color: #008080;\">53</span>         System.out.println(<span style=\"color: #0000ff;\">super</span><span style=\"color: #000000;\">.anInt);&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">        System.out.println(sVal);&#13;\n</span><span style=\"color: #008080;\">55</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">56</span> &#13;\n<span style=\"color: #008080;\">57</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\">58</span>         <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ClassInitDemo();&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">60</span> &#13;\n<span style=\"color: #008080;\">61</span> }</pre>&#13;\n</div>&#13;\n<p>运行结果</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #000000;\">org.devlyh.clazz.PClass静态成员初始化&#13;\n</span><span style=\"color: #008080;\"> 2</span> 父类静态代码块执行:20&#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #000000;\">org.devlyh.clazz.ClassInitDemo静态成员初始化&#13;\n</span><span style=\"color: #008080;\"> 4</span> 子类静态代码执行 sval:3&#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">父类构造代码块执行&#13;\n</span><span style=\"color: #008080;\"> 6</span> 父类构造函数执行 :30&#13;\n<span style=\"color: #008080;\"> 7</span> anInt:4&#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">子类构造代码块执行&#13;\n</span><span style=\"color: #008080;\"> 9</span> sval:10&#13;\n<span style=\"color: #008080;\">10</span> 子类构造函数执行:10&#13;\n<span style=\"color: #008080;\">11</span> 10&#13;\n<span style=\"color: #008080;\">12</span> 30&#13;\n<span style=\"color: #008080;\">13</span> 10</pre>&#13;\n</div>&#13;\n<p><span style=\"color: #ff0000;\">且注意看，java中类默认继承Object，但我也可以显式继承。静态方法在类被类加载器加载后就存在静态代码区中，所以初始化类的静态成员是，静态方法已经存在</span></p>&#13;\n<h4>方法的重载与重写</h4>&#13;\n<p>方法的方法名+形参列表构成了方法的签名，返回值和其他修饰符并不能作为签名，因为并不一定能够通过函数调用动态绑定到确定的方法，只有在方法名相同，形参列表不同（形参名无所谓）方可构成重载或重写。重写针对覆想盖父类的方法而言，重载则对该类已经存在的方法定义另一个接口。说到这个我想说下现在包括一些大学老师也持有的<span style=\"color: #ff0000;\">错误观点，就是子类不会继承父类的私有属性或方法。我觉得这大错特错，子类的对象拥有父类所有的内容，只是某些内容不可直接访问，但并不代表没有，因此，我觉的java应该有第五种成员权限--不可访问</span>。子类重写父类的方法，不能缩小权限。只能相同或放大。</p>&#13;\n<h2>异常处理</h2>&#13;\n<p>java有着其非常完善的异常体系，它的基础是Throwable类</p>&#13;\n<p>以此为两处</p>&#13;\n<p>Error</p>&#13;\n<p>Exception</p>&#13;\n<p><span style=\"color: #ff0000;\">其中Exception的直接子类一般表示编译时异常，只有RuntimeException及其子类，属于运行时异常</span>。</p>&#13;\n<p>在<span style=\"color: #ff0000;\">方法声明上使用throws 可以指明方法可能抛出的异常类，在代码块中，使用throw 实际抛出异常对象，异常的接收者必须处理或者继续向上层调用者抛</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Main{&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">public</span>  <span style=\"color: #0000ff;\">static</span>  <span style=\"color: #0000ff;\">int</span> i = 9<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span> main(String[] args) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> Exception{&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">        exceptionDemo();&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span> exceptionDemo() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> Exception{&#13;\n</span><span style=\"color: #008080;\"> 8</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 如果程序没有执行到try代码块，finally也不会执行&#13;\n</span><span style=\"color: #008080;\"> 9</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  exit();</span>&#13;\n<span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">12</span>             <span style=\"color: #0000ff;\">if</span>(i&gt;10<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">13</span>                 <span style=\"color: #0000ff;\">throw</span>  <span style=\"color: #0000ff;\">new</span> Exception(\"抛出异常\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">15</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> System.exit(0); </span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 可以是finally块不执行</span>&#13;\n<span style=\"color: #008080;\">16</span>             <span style=\"color: #0000ff;\">return</span> returnVal();<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 先执行return 表达式的计算，再执行finally，再然后返回运算结果，然后弹栈</span>&#13;\n<span style=\"color: #008080;\">17</span>         }<span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (Exception e){&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">19</span>         }<span style=\"color: #0000ff;\">finally</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">20</span>             System.out.println(\"finally执行\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">22</span>         <span style=\"color: #0000ff;\">return</span> returnVal() ;<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 先执行finally在执行这里</span>&#13;\n<span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">     }&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span> &#13;\n<span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> returnVal(){&#13;\n</span><span style=\"color: #008080;\">27</span>         System.out.println(\"return\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">28</span>         <span style=\"color: #0000ff;\">return</span> 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> exit(){&#13;\n</span><span style=\"color: #008080;\">32</span>         System.exit(0<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">34</span> }</pre>&#13;\n</div>&#13;\n<p>可以看到<span style=\"color: #ff0000;\">finally会在两种情况下不执行</span></p>&#13;\n<ul><li><span style=\"color: #ff0000;\">没有执行到try代码块</span></li>&#13;\n<li><span style=\"color: #ff0000;\">虚拟机结束</span></li>&#13;\n</ul><p><span style=\"color: #ff0000;\">finally和return的执行顺序也更代码位置有关</span></p>&#13;\n<p>另外也可以自定义异常</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">public</span>  <span style=\"color: #0000ff;\">class</span> MyException <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> Throwable {&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">protected</span> <span style=\"color: #0000ff;\">int</span> level = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 3</span>     &#13;\n<span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">private</span> String location = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 5</span>     &#13;\n<span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> findLocation(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> level)&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\"> 8</span>         StackTraceElement element = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 9</span>         <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> currentLine;&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">        String fileName;&#13;\n</span><span style=\"color: #008080;\">11</span>         element =<span style=\"color: #000000;\"> Thread.currentThread().getStackTrace()[level];&#13;\n</span><span style=\"color: #008080;\">12</span>         currentLine =<span style=\"color: #000000;\"> element.getLineNumber();&#13;\n</span><span style=\"color: #008080;\">13</span>         fileName =<span style=\"color: #000000;\"> element.getFileName();&#13;\n</span><span style=\"color: #008080;\">14</span>         &#13;\n<span style=\"color: #008080;\">15</span>         location = \"File: \"+fileName+\" Line: \"+<span style=\"color: #000000;\">currentLine;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span>     &#13;\n<span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">final</span> <span style=\"color: #0000ff;\">long</span> serialVersionUID = -9198495466584632327L<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">19</span>     &#13;\n<span style=\"color: #008080;\">20</span>     <span style=\"color: #0000ff;\">private</span> String info = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">21</span>     &#13;\n<span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String getInfo() {&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> info;&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span> &#13;\n<span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setInfo(String info) {&#13;\n</span><span style=\"color: #008080;\">27</span>         <span style=\"color: #0000ff;\">this</span>.info =<span style=\"color: #000000;\"> info;&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span> &#13;\n<span style=\"color: #008080;\">30</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> MyException() {&#13;\n</span><span style=\"color: #008080;\">31</span> &#13;\n<span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">33</span> &#13;\n<span style=\"color: #008080;\">34</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> MyException(String info) {&#13;\n</span><span style=\"color: #008080;\">35</span>         <span style=\"color: #0000ff;\">this</span>.info =<span style=\"color: #000000;\"> info;&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">37</span>     &#13;\n<span style=\"color: #008080;\">38</span>     <span style=\"color: #0000ff;\">public</span>  <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> printInfo(){&#13;\n</span><span style=\"color: #008080;\">39</span>         System.out.println(\"Exception Type : \"+<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.getClass().getName());&#13;\n</span><span style=\"color: #008080;\">40</span>         System.out.println(\"Exception Info : \"+<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.info);&#13;\n</span><span style=\"color: #008080;\">41</span>         System.out.println(\"Location       : \"+<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.location);&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">43</span> }</pre>&#13;\n</div>&#13;\n<p><span style=\"font-size: 1.5em; line-height: 1.5;\">泛型</span></p>&#13;\n<p>java泛型是伪泛型，<span style=\"color: #ff0000;\">程序中的泛型在编译时擦除，以Object或其他对象取代，也就是运行时并不存在泛型。</span></p>&#13;\n<p>首先，<span style=\"color: #ff0000;\">泛型必须保持一致，例如下面的代码是不行的，哪怕是继承关系</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> Collection&lt;Person&gt; arr = <span style=\"color: #0000ff;\">new</span> Collection&lt;Worker&gt;();<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">这样是不行的，泛型要保持一致，有继承关系也不行。</span></pre>&#13;\n</div>&#13;\n<p>泛型可以在继承中继续泛型也可明确。</p>&#13;\n<h3>泛型上限</h3>&#13;\n<p>? extends E  :  上限    表示可以接受所有E，或继承于E的对象，？是E的子类。一般用于存元素</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span> interatorCollection(Collection&lt;? <span style=\"color: #0000ff;\">extends</span> Person&gt;<span style=\"color: #000000;\"> arr) {   &#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            这叫泛型的限定，且是上限</span>&#13;\n<span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">for</span> (Iterator&lt;? <span style=\"color: #0000ff;\">extends</span> Person&gt;iterator =<span style=\"color: #000000;\"> arr.iterator(); iterator.hasNext();) {&#13;\n</span><span style=\"color: #008080;\">4</span>         Person p =<span style=\"color: #000000;\"> iterator.next();&#13;\n</span><span style=\"color: #008080;\">5</span>         System.out.println(p.getName()+\"...\"+<span style=\"color: #000000;\">p.getAge());&#13;\n</span><span style=\"color: #008080;\">6</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            ? it = iterator.next();</span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">这样不行</span>&#13;\n<span style=\"color: #008080;\">7</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">8</span> }</pre>&#13;\n</div>&#13;\n<h3><span style=\"line-height: 1.5;\">泛型下限</span></h3>&#13;\n<p>? super E  :    下限   表示可以接受所有E，或者派生出E的对象，E是？的子类。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span> interatorCollection(Collection&lt;? <span style=\"color: #0000ff;\">super</span> Student&gt;<span style=\"color: #000000;\"> arr) {   &#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            这叫泛型的限定，且是下限</span>&#13;\n<span style=\"color: #008080;\">3</span>     <span style=\"color: #0000ff;\">for</span> (Iterator&lt;? <span style=\"color: #0000ff;\">super</span> Student&gt;iterator =<span style=\"color: #000000;\"> arr.iterator(); iterator.hasNext();) {&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #000000;\">        System.out.println(iterator.next());&#13;\n</span><span style=\"color: #008080;\">5</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            ? it = iterator.next();</span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">这样不行</span>&#13;\n<span style=\"color: #008080;\">6</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">7</span> }</pre>&#13;\n</div>&#13;\n<h2>多线程</h2>&#13;\n<p>多线程是java的一个亮点，它基于Thread体系</p>&#13;\n<h3>最简单的线程方法</h3>&#13;\n<p>是创建直接接触Thread类或实现Runnable接口,</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">new</span> Thread(<span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Runnable() {&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #000000;\">    @Override&#13;\n</span><span style=\"color: #008080;\"> 3</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run() {&#13;\n</span><span style=\"color: #008080;\"> 4</span>         System.out.println(\"Runnable 方法\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">}) {&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">    @Override&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run() {&#13;\n</span><span style=\"color: #008080;\"> 9</span>         System.out.println(\"Thread子类 方法\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">10</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">super.run();</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">12</span> }.start();</pre>&#13;\n</div>&#13;\n<p>从Thread 的实现也就是jdk的源码不难看出，上面执行的结果输出的是Thread 子类方法</p>&#13;\n<h3>解决线程互斥的问题</h3>&#13;\n<p>主要是同步代码块、同步方法。也就是加锁</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">import</span> java.util.concurrent.locks.*<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> BoundedBuffer {&#13;\n</span><span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">final</span> Lock lock = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ReentrantLock();&#13;\n</span><span style=\"color: #008080;\"> 5</span>     <span style=\"color: #0000ff;\">final</span> Condition notFull =<span style=\"color: #000000;\"> lock.newCondition();&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">final</span> Condition notEmpty =<span style=\"color: #000000;\"> lock.newCondition();&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">final</span> Object[] items = <span style=\"color: #0000ff;\">new</span> Object[100<span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\"> 9</span>     <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> putptr, takeptr, count;&#13;\n</span><span style=\"color: #008080;\">10</span> &#13;\n<span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> put(Object x) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> InterruptedException {&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">        lock.lock();&#13;\n</span><span style=\"color: #008080;\">13</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">14</span>             <span style=\"color: #0000ff;\">while</span> (count ==<span style=\"color: #000000;\"> items.length)&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">                notFull.await();&#13;\n</span><span style=\"color: #008080;\">16</span>             items[putptr] =<span style=\"color: #000000;\"> x;&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            System.out.println(Thread.currentThread().getName() + \"--生产--\" + x);</span>&#13;\n<span style=\"color: #008080;\">18</span>             <span style=\"color: #0000ff;\">if</span> (++putptr ==<span style=\"color: #000000;\"> items.length)&#13;\n</span><span style=\"color: #008080;\">19</span>                 putptr = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">20</span>             ++<span style=\"color: #000000;\">count;&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">            notEmpty.signal();&#13;\n</span><span style=\"color: #008080;\">22</span>         } <span style=\"color: #0000ff;\">finally</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">            lock.unlock();&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">26</span> &#13;\n<span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">28</span> &#13;\n<span style=\"color: #008080;\">29</span>     <span style=\"color: #0000ff;\">public</span> Object take() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> InterruptedException {&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">        lock.lock();&#13;\n</span><span style=\"color: #008080;\">31</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">32</span>             <span style=\"color: #0000ff;\">while</span> (count == 0<span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">                notEmpty.await();&#13;\n</span><span style=\"color: #008080;\">34</span>             Object x =<span style=\"color: #000000;\"> items[takeptr];&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            System.out.println(Thread.currentThread().getName() + \"--消费-\" + x);</span>&#13;\n<span style=\"color: #008080;\">36</span>             <span style=\"color: #0000ff;\">if</span> (++takeptr ==<span style=\"color: #000000;\"> items.length)&#13;\n</span><span style=\"color: #008080;\">37</span>                 takeptr = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">38</span>             --<span style=\"color: #000000;\">count;&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">            notFull.signal();&#13;\n</span><span style=\"color: #008080;\">40</span>             <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> x;&#13;\n</span><span style=\"color: #008080;\">41</span>         } <span style=\"color: #0000ff;\">finally</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">            lock.unlock();&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">44</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">45</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">46</span> &#13;\n<span style=\"color: #008080;\">47</span> <span style=\"color: #0000ff;\">class</span> Game <span style=\"color: #0000ff;\">implements</span><span style=\"color: #000000;\"> Runnable {&#13;\n</span><span style=\"color: #008080;\">48</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">char</span> ch = \'你\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">49</span>     <span style=\"color: #0000ff;\">private</span> BoundedBuffer  buffer = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> BoundedBuffer();&#13;\n</span><span style=\"color: #008080;\">50</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run() {&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">        show();&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">53</span> &#13;\n<span style=\"color: #008080;\">54</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> show() {&#13;\n</span><span style=\"color: #008080;\">55</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> TODO 自动生成的方法存根</span>&#13;\n<span style=\"color: #008080;\">56</span>         <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">int</span> i = 0; i &lt; 6; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">57</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">58</span> <span style=\"color: #000000;\">                buffer.put(i);&#13;\n</span><span style=\"color: #008080;\">59</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (Exception e) {&#13;\n</span><span style=\"color: #008080;\">60</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> TODO: handle exception</span>&#13;\n<span style=\"color: #008080;\">61</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">62</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">63</span>                 Thread.sleep(10<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">64</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (Exception e) {&#13;\n</span><span style=\"color: #008080;\">65</span>                 <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> TODO: handle exception</span>&#13;\n<span style=\"color: #008080;\">66</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">67</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">68</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">69</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">70</span> &#13;\n<span style=\"color: #008080;\">71</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> ThreadTest_1 {&#13;\n</span><span style=\"color: #008080;\">72</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\">73</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> TODO 自动生成的方法存根</span>&#13;\n<span style=\"color: #008080;\">74</span>         Game g = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Game();&#13;\n</span><span style=\"color: #008080;\">75</span>         Thread t1 = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Thread(g);&#13;\n</span><span style=\"color: #008080;\">76</span>         Thread t2 = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Thread(g);&#13;\n</span><span style=\"color: #008080;\">77</span> <span style=\"color: #000000;\">        t1.start();&#13;\n</span><span style=\"color: #008080;\">78</span> <span style=\"color: #000000;\">        t2.start();&#13;\n</span><span style=\"color: #008080;\">79</span> &#13;\n<span style=\"color: #008080;\">80</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">81</span> }</pre>&#13;\n</div>&#13;\n<h3><span style=\"line-height: 1.5;\">jdk1.5之后引入了很多新的线程方法</span></h3>&#13;\n<p><span style=\"line-height: 1.5;\">也就是线程并发库</span></p>&#13;\n<h4>Timer--定时器方法</h4>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'3920bd84-af3d-48ce-b2ac-b7824fe4d173\')\"><img id=\"code_img_closed_3920bd84-af3d-48ce-b2ac-b7824fe4d173\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_3920bd84-af3d-48ce-b2ac-b7824fe4d173\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'3920bd84-af3d-48ce-b2ac-b7824fe4d173\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_3920bd84-af3d-48ce-b2ac-b7824fe4d173\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Date;&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Timer;&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.TimerTask;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> TimerDemo {&#13;\n</span><span style=\"color: #008080;\"> 6</span>     &#13;\n<span style=\"color: #008080;\"> 7</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">int</span> i = 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span>     @SuppressWarnings(\"deprecation\"<span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #0000ff;\">class</span> MyTimerTask <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> TimerTask{&#13;\n</span><span style=\"color: #008080;\">12</span>             <span style=\"color: #0000ff;\">long</span> [] timer = {2000,3000<span style=\"color: #000000;\">};&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">            @Override&#13;\n</span><span style=\"color: #008080;\">14</span>             <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run() {&#13;\n</span><span style=\"color: #008080;\">15</span>                 System.out.println(\"bombing\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span>                 <span style=\"color: #0000ff;\">new</span> Timer().schedule(<span style=\"color: #0000ff;\">new</span> MyTimerTask(), timer[i = (i +1)%2<span style=\"color: #000000;\">]);&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">19</span>         &#13;\n<span style=\"color: #008080;\">20</span>         <span style=\"color: #0000ff;\">new</span> Timer().schedule(<span style=\"color: #0000ff;\">new</span> MyTimerTask(), 2000<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">21</span>         &#13;\n<span style=\"color: #008080;\">22</span>         <span style=\"color: #0000ff;\">while</span> (<span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">23</span>             System.out.println(<span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Date().getSeconds());&#13;\n</span><span style=\"color: #008080;\">24</span>             <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">25</span>                 Thread.sleep(1000<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">26</span>             } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (InterruptedException e) {&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">                e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">31</span> &#13;\n<span style=\"color: #008080;\">32</span> }</pre>&#13;\n</div>&#13;\n<span class=\"cnblogs_code_collapse\">TimerCode</span></div>&#13;\n<h4>ThreadLocal--线程之间共享数据</h4>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'79f9e786-37a4-4569-b428-271b00e3807c\')\"><img id=\"code_img_closed_79f9e786-37a4-4569-b428-271b00e3807c\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_79f9e786-37a4-4569-b428-271b00e3807c\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'79f9e786-37a4-4569-b428-271b00e3807c\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_79f9e786-37a4-4569-b428-271b00e3807c\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Random;&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> MyThreadScopeData{&#13;\n</span><span style=\"color: #008080;\"> 3</span>     &#13;\n<span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> MyThreadScopeData(){}&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span><span style=\"color: #000000;\">  MyThreadScopeData getInstance(){&#13;\n</span><span style=\"color: #008080;\"> 7</span>         MyThreadScopeData mtsd =<span style=\"color: #000000;\"> map.get();&#13;\n</span><span style=\"color: #008080;\"> 8</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">null</span> ==<span style=\"color: #000000;\"> mtsd){&#13;\n</span><span style=\"color: #008080;\"> 9</span>             mtsd = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> MyThreadScopeData();&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">            map.set(mtsd);&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">12</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> mtsd;&#13;\n</span><span style=\"color: #008080;\">13</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> ThreadLocal&lt;MyThreadScopeData&gt; map = <span style=\"color: #0000ff;\">new</span> ThreadLocal&lt;MyThreadScopeData&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String name;&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String getName() {&#13;\n</span><span style=\"color: #008080;\">17</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setName(String name) {&#13;\n</span><span style=\"color: #008080;\">20</span>         <span style=\"color: #0000ff;\">this</span>.name =<span style=\"color: #000000;\"> name;&#13;\n</span><span style=\"color: #008080;\">21</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\">23</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> getAge() {&#13;\n</span><span style=\"color: #008080;\">24</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> setAge(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> age) {&#13;\n</span><span style=\"color: #008080;\">27</span>         <span style=\"color: #0000ff;\">this</span>.age =<span style=\"color: #000000;\"> age;&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">30</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> ThreadLocalTest {&#13;\n</span><span style=\"color: #008080;\">31</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    private static int data = 0;&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">    private static Map&lt;Thread,Integer&gt; threadData = new HashMap&lt;Thread,Integer&gt;();</span>&#13;\n<span style=\"color: #008080;\">33</span>     <span style=\"color: #0000ff;\">private</span> <span style=\"color: #0000ff;\">static</span> ThreadLocal&lt;Integer&gt; x = <span style=\"color: #0000ff;\">new</span> ThreadLocal&lt;Integer&gt;<span style=\"color: #000000;\">();&#13;\n</span><span style=\"color: #008080;\">34</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\">35</span>         <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> i=0;i&lt;2;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">36</span>             <span style=\"color: #0000ff;\">new</span> Thread(<span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Runnable() {&#13;\n</span><span style=\"color: #008080;\">37</span> <span style=\"color: #000000;\">                @Override&#13;\n</span><span style=\"color: #008080;\">38</span>                 <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> run() {&#13;\n</span><span style=\"color: #008080;\">39</span>                         <span style=\"color: #0000ff;\">int</span> data = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> Random().nextInt();&#13;\n</span><span style=\"color: #008080;\">40</span>                         System.out.println(Thread.currentThread().getName()+&#13;\n<span style=\"color: #008080;\">41</span>                                 \" has put data:\"+<span style=\"color: #000000;\">data);&#13;\n</span><span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">                        x.set( data);&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">                        MyThreadScopeData currentdata = new MyThreadScopeData();&#13;\n</span><span style=\"color: #008080;\">44</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">                        currentdata.setName(\"name\"+data);&#13;\n</span><span style=\"color: #008080;\">45</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">                        currentdata.setAge(data);&#13;\n</span><span style=\"color: #008080;\">46</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">                        myData.set(currentdata);</span>&#13;\n<span style=\"color: #008080;\">47</span>                         MyThreadScopeData.getInstance().setName(\"name\"+<span style=\"color: #000000;\">data);;&#13;\n</span><span style=\"color: #008080;\">48</span> <span style=\"color: #000000;\">                        MyThreadScopeData.getInstance().setAge(data);&#13;\n</span><span style=\"color: #008080;\">49</span>                         <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> A().getData();&#13;\n</span><span style=\"color: #008080;\">50</span>                         <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> B().getData();&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">52</span> <span style=\"color: #000000;\">            }).start();&#13;\n</span><span style=\"color: #008080;\">53</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">54</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">55</span>     &#13;\n<span style=\"color: #008080;\">56</span>     <span style=\"color: #0000ff;\">static</span> <s',234,'2015-08-19 01:28:00','2016-07-31 10:21:51',2,'http://www.cnblogs.com/lvyahui/p/4734792.html',4734792),(503,'laravel队列-让守护进程处理耗时任务','待解决的问题&#13;\n最近在做一个服务器集群管理的web项目，需要处理一些极其耗时的操作，比如磁盘格式化分区。对于这个需求，最开始的想法是，为了让节点上的','<div id=\"cnblogs_post_body\"><h2>待解决的问题</h2>&#13;\n<p>最近在做一个服务器集群管理的web项目，需要处理一些极其耗时的操作，比如磁盘格式化分区。对于这个需求，最开始的想法是，为了让节点上的<a href=\"https://zh.wikipedia.org/zh/%E9%81%A0%E7%A8%8B%E9%81%8E%E7%A8%8B%E8%AA%BF%E7%94%A8\" target=\"_blank\">rpc</a>（远程过程调用） service端尽可能简单（简单到只需要popen执行一条指令即可，有时间我再专门写一篇博客讲讲这个项目的rpc是如何实现的），我们选择了让web端直接等待处理结果，那么问题来了，如何保证用户不必等待，又能保证任务准确的执行呢？</p>&#13;\n<p>简单的rpc结构如下图</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192240105505738.png\" alt=\"\"/></p>&#13;\n<p>以往在处理一些稍微耗时的操作，可以通过优化代码结构，优化数据库操作次数，起一些线程来处理一些简单的比如发邮件，生成大的压缩文件，提取视频缩量图，服务器间互访等等操作，来避免用户在web页面的等待。</p>&#13;\n<p>但现在这个操作显然不能用之前的这些方法做，因为现在的操作哪怕只执行一次，都是非常耗时的，更何况可能需要处理的可能是上百上千台服务器。这是在线程层面很难做，要知道在响应请求的web进程中起一个线程来做的话，在响应完断开tcp连接之后，这个进程很可能被kill掉，像Apache就是这样，当然可以通过配置改变apache的行为，但显然不太靠谱。</p>&#13;\n<p>更好的做法是在web服务器上起一个守护进程去做这个事情，那么问题就在于如何创建守护进程了，好在laravel帮我们考虑了这个事情。</p>&#13;\n<h2>Laravel的队列</h2>&#13;\n<p>laravel的队列默认是以sync（同步）的方式来处理多个任务，这显然不是我们想要的。鉴于这个项目使用的是laravel4.1版本，我选择了beanstalkd来实现异步处理多个任务。</p>&#13;\n<p>其中<a href=\"http://kr.github.io/beanstalkd/\" target=\"_blank\">beanstalkd</a>是一种比较专业的队列服务驱动器，是一个常驻后台服务，我们可以通过它提供的接口来把任务提交给它，由它创建的守护进程来执行队列。</p>&#13;\n<h2>配置队列执行环境</h2>&#13;\n<h3>1.安装beanstalkd服务</h3>&#13;\n<p>我开发的电脑为CentOS5.4，版本比较低，所以装的过程中还是遇到些麻烦</p>&#13;\n<p>首先执行下面的指令</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">wget</span> <span style=\"color: #0000ff;\">ftp</span>:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">fr2.rpmfind.net/linux/epel/5/ppc/epel-release-5-4.noarch.rpm</span>&#13;\n<span style=\"color: #008080;\">2</span> rpm -ivh epel-release-<span style=\"color: #800080;\">5</span>-<span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">.noarch.rpm&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">yum</span><span style=\"color: #000000;\"> makecache&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">yum</span> search beanstalkd</pre>&#13;\n</div>&#13;\n<p>但最后发现找不到这个软件，于是将yum的源换成了163的</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> cd /etc/<span style=\"color: #0000ff;\">yum</span><span style=\"color: #000000;\">.repos.d&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">mirrors.163.com/.help/CentOS5-Base-163.repo</span>&#13;\n<span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">mv</span> CentOS-Base.repo CentOS-Base.repo.bak</pre>&#13;\n</div>&#13;\n<p>再次makecache &amp;&amp; install 就OK了，安装完后启动beanstalkd服务</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> service beanstalkd start</pre>&#13;\n</div>&#13;\n<p>另外可以搜索到beanstalkd的配置文件放在了sysconfig下</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192054495353666.png\" alt=\"\"/></p>&#13;\n<h2>为laravel添加beanstalkd的驱动</h2>&#13;\n<p>beanstalkd的php驱动包为<a href=\"https://github.com/pda/pheanstalk\" target=\"_blank\">pda/pheanstalk</a></p>&#13;\n<p>进入laravel的protected目录，composer.json在这个目录下</p>&#13;\n<p>执行</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> composer require pda/pheanstalk <span style=\"color: #800080;\">2</span>.*</pre>&#13;\n</div>&#13;\n<p>出现如下的错误</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192058077698528.png\" alt=\"\"/>，</p>&#13;\n<p><span style=\"line-height: 1.5;\">可以看出镜像地址响应 502，所以需要给composer找一个可用的镜像 http://www.phpcomposer.com/</span></p>&#13;\n<p>修改~/.composer/config.json如下</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192059505196719.png\" alt=\"\"/></p>&#13;\n<p>然后回到protected目录，再执行前面安装驱动的命令安装，这回出现了不一样的错误</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192101368164527.png\" alt=\"\"/></p>&#13;\n<p>上面的php包中，第一个是为了phpstorm的对laravel更好的支持，后面一个symfony/yaml已经安装，并不需要升级，所以修改composer.json，直接将这两个项目删除掉就行了</p>&#13;\n<p>删除完之后，再次执行安装命令安装</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192103534885314.png\" alt=\"\"/></p>&#13;\n<p>可以看到终于成功了，可以通过 composer show -i 查看安装了哪些包</p>&#13;\n<h2>测试</h2>&#13;\n<p>在TestController中添加一个action</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">class</span> TestController <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> BaseController&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 3</span>   &#13;\n<span style=\"color: #008080;\"> 4</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> getQueue(){&#13;\n</span><span style=\"color: #008080;\"> 5</span>         <span style=\"color: #008000;\">//&#13;\n</span><span style=\"color: #008080;\"> 6</span>         <span style=\"color: #008080;\">Log</span>::info(\"添加一个对列任务\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 7</span>         Queue::push(\'SendEmail\',<span style=\"color: #0000ff;\">array</span>(\'message\'=&gt;\'哈哈\'<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\"> 8</span>         <span style=\"color: #008080;\">Log</span>::info(\'任务添加完毕\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 9</span>         <span style=\"color: #0000ff;\">exit</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> }</pre>&#13;\n</div>&#13;\n<p>在app目录下新建tasks目录，并修改protected/composer.json和app/global.php，将这个目录加到类加载路径中</p>&#13;\n<p>修改global.php</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> ClassLoader::addDirectories(<span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">2</span> &#13;\n<span style=\"color: #008080;\">3</span>    app_path().\'/commands\',&#13;\n<span style=\"color: #008080;\">4</span>    app_path().\'/controllers\',&#13;\n<span style=\"color: #008080;\">5</span>    app_path().\'/models\',&#13;\n<span style=\"color: #008080;\">6</span>    app_path().\'/database/seeds\',&#13;\n<span style=\"color: #008080;\">7</span>    app_path().\'/library\',&#13;\n<span style=\"color: #008080;\">8</span>    app_path().\'/tasks\',&#13;\n<span style=\"color: #008080;\">9</span> ));</pre>&#13;\n</div>&#13;\n<p>修改composer.json</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> \"classmap\"<span style=\"color: #000000;\">: [&#13;\n</span><span style=\"color: #008080;\">2</span>   \"app/commands\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">3</span>   \"app/controllers\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">4</span>   \"app/models\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">5</span>   \"app/database/migrations\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">6</span>   \"app/database/seeds\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">7</span>   \"app/tasks\"<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">8</span>   \"app/tests/TestCase.php\"&#13;\n<span style=\"color: #008080;\">9</span> ]</pre>&#13;\n</div>&#13;\n<p><span style=\"line-height: 1.5;\">以后的耗时调度任务的代码就放在这个目录下面了</span></p>&#13;\n<p>首先新建一个BaseTask.php</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * Created by PhpStorm.&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\"> * User: Administrator&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\"> * Date: 2015/8/19 0019&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\"> * Time: 11:55&#13;\n</span><span style=\"color: #008080;\"> 6</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">abstract</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> BaseTask&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 9</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">abstract</span>  <span style=\"color: #0000ff;\">function</span> fire(<span style=\"color: #800080;\">$job</span>,<span style=\"color: #800080;\">$data</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">10</span> }</pre>&#13;\n</div>&#13;\n<p>然后新建一个SendMail.php</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">*&#13;\n</span><span style=\"color: #008080;\"> 2</span> <span style=\"color: #008000;\"> * Created by PhpStorm.&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #008000;\"> * User: Administrator&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #008000;\"> * Date: 2015/8/19 0019&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\"> * Time: 11:50&#13;\n</span><span style=\"color: #008080;\"> 6</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">class</span> SendEmail <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> BaseTask&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">function</span> fire(<span style=\"color: #800080;\">$job</span>, <span style=\"color: #800080;\">$data</span><span style=\"color: #000000;\">)&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">    {&#13;\n</span><span style=\"color: #008080;\">12</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> TODO: Implement fire() method.</span>&#13;\n<span style=\"color: #008080;\">13</span>         <span style=\"color: #008080;\">Log</span>::info(\"对列任务执行\".json_encode(<span style=\"color: #800080;\">$data</span>).\"Time : \".<span style=\"color: #008080;\">time</span><span style=\"color: #000000;\">());&#13;\n</span><span style=\"color: #008080;\">14</span>         <span style=\"color: #008080;\">sleep</span>(30<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">15</span>         <span style=\"color: #008080;\">Log</span>::info(\"对列任务执行完毕\".<span style=\"color: #008080;\">time</span><span style=\"color: #000000;\">());&#13;\n</span><span style=\"color: #008080;\">16</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  将任务从队列冲删除</span>&#13;\n<span style=\"color: #008080;\">17</span>         <span style=\"color: #800080;\">$job</span>-&gt;<span style=\"color: #000000;\">delete();&#13;\n</span><span style=\"color: #008080;\">18</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  将任务返回到队列&#13;\n</span><span style=\"color: #008080;\">19</span> &#13;\n<span style=\"color: #008080;\">20</span> <span style=\"color: #008000;\">//        $job-&gt;release();</span>&#13;\n<span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">23</span> }</pre>&#13;\n</div>&#13;\n<div>最后就是去修改config目录下的配置文件queue.php文件了，修改为 </div>&#13;\n<div>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> \'default\'   =&gt; \'beanstalkd\',</pre>&#13;\n</div>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> \'beanstalkd\' =&gt; <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">2</span>    \'driver\' =&gt; \'beanstalkd\',&#13;\n<span style=\"color: #008080;\">3</span>    \'host\'   =&gt; \'localhost\',&#13;\n<span style=\"color: #008080;\">4</span>    \'queue\'  =&gt; \'default\',&#13;\n<span style=\"color: #008080;\">5</span>    \'ttr\'   =&gt;    60,&#13;\n<span style=\"color: #008080;\">6</span> ),</pre>&#13;\n</div>&#13;\n<div>关于ttr的解释这里有一个</div>&#13;\n<div><a href=\"http://stackoverflow.com/questions/25791633/change-beanstalkd-default-ttr\">http://stackoverflow.com/questions/25791633/change-beanstalkd-default-ttr</a></div>&#13;\n<div><a href=\"http://in355hz.iteye.com/blog/1395727\">http://in355hz.iteye.com/blog/1395727</a></div>&#13;\n<div>表示time to run ，这个参数可以覆盖默认参数让Beanstalkd 检测是否在这个时间内完成</div>&#13;\n<div>至此配置和写代码完成，在shell中执行，要在protected目录下，artisan文件在这个目录下</div>&#13;\n<div>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> php artisan queue:<span style=\"color: #000000;\">work&#13;\n</span><span style=\"color: #008080;\">2</span> php artisan queue:listen</pre>&#13;\n</div>&#13;\n<p>然后访问url，<a href=\"http://192.168.1.10/ssanlv/test/queue\">http://192.168.1.10/ssanlv/test/queue</a>，可以发现请求马上就完成了，页面并没有等待</p>&#13;\n<p>查看protected/app/storage/logs/laravel.log 可以看到下面的内容</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192110276136421.png\" alt=\"\"/></p>&#13;\n<p>508-478 刚好30秒</p>&#13;\n<p>下面测试一个实际的问题，印象中apache服务器与客户端在请求完成断开连接后会kill掉负责处理的httpd进程，只有配置了keep-alive参数在会将进程保留到apache进程池中，所以，但用户请求一个耗时操作之后，关闭了浏览器，这个处理耗时任务的守护进程会不会也被kill掉呢？当然，其实有点多虑了，当响应完成之后tcp链接已经被断开掉了，如果进程会被kill掉，那么早就kill掉了，跟你浏览器关没关应该没多大关系，还是试试吧，实践才是硬道理</p>&#13;\n<p>这里将SendMial中的sleep时间改长一点，改为 600秒</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192112232225808.png\" alt=\"\"/></p>&#13;\n<p>最后发现没有执行完，可以看到listen报出异常</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192112499883685.png\" alt=\"\"/></p>&#13;\n<p>很显然执行超时，看来是前面设置的ttr的问题</p>&#13;\n<p>将ttr注释掉或者修改掉更高的值，发现还是不行，最后在仔细看看报错信息，发现</p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192113415192795.png\" alt=\"\"/></p>&#13;\n<p>所以改变命令的执行方式</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> php artisan queue:listen --timeout=<span style=\"color: #800080;\">800</span></pre>&#13;\n</div>&#13;\n<p><span style=\"line-height: 1.5;\">最后命令任务成功执行完毕</span></p>&#13;\n<p><span style=\"line-height: 1.5;\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192114434724455.png\" alt=\"\"/></span></p>&#13;\n<p>可以看到 1353-753 = 600 刚刚好</p>&#13;\n<p>另外，看样子 这个<span style=\"color: #ff0000;\">任务对列应该是被保存起来了，当我没有启动 listen时，任务怎么都不会处理，但我一但启动listen，前面添加的任务就会立马执行</span></p>&#13;\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192115394726097.png\" alt=\"\"/></p>&#13;\n<p>但最后还是有个问题<span style=\"color: #ff0000;\">这个是对列形式进行处理，要启动下一个对列任务，必须等上一个对列任务执行完毕</span>，不过之前曾看到过，一个work对应一个任务队列，那么我完全可以起多个任务队列，有点多核CPU的调度哦。</p>&#13;\n<h2>更好的办法</h2>&#13;\n<p>最后，再跟一位大神讨论了一下，探讨出了另外一个更加优秀的办法，虽然会加重节点上rpc service代码的复杂度，不过也不是很麻烦。</p>&#13;\n<p>这种方式就是回调，管理集群的web服务器可以不用等待，只需如下步骤，</p>&#13;\n<ul><li><span style=\"color: #ff0000;\">通过web服务器上的rpc client向要执行耗时操作的节点上的rpc service发送一条指令，</span></li>&#13;\n<li><span style=\"color: #ff0000;\">节点上的rpc service收到指令后，不先执行指令，而是马上向web服务器，也就是rpc client返回一个任务ID。</span></li>&#13;\n<li><span style=\"color: #ff0000;\">web服务器将这个id作为一条任务记录保存到数据库。</span></li>&#13;\n<li><span style=\"color: #ff0000;\">节点上的rpc service处理指令，至于处理指令，也是在节点上在单独起一个进程 P 来处理，因为rpc service也不能让rpc client傻等着</span></li>&#13;\n<li><span style=\"color: #ff0000;\">处理进程 P 处理完了之后，将执行结果和任务ID作为参数，回调web服务器的一个web接口</span></li>&#13;\n<li><span style=\"color: #ff0000;\">web服务器接到rpc service的回调之后，通过ID查找到任务，更新任务的执行状态，更新数据</span></li>&#13;\n</ul><p>很显然，这种方式更加可靠，也大大减轻了web 服务器的负担，要知道Linux 系统的线程数是有限制的，但这要耗时任务多了，如果然服务器去等，不管啥策略都很可能吧服务器整垮。</p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n</div>&#13;\n</div></div>',757,'2015-08-19 01:32:00','2016-07-31 10:21:52',4,'http://www.cnblogs.com/lvyahui/p/4743526.html',4743526),(504,'linux 下C语言编程库文件处理与Makefile编写','做开发快3年了，在linux下编译安装软件算是家常便饭了。就拿gcc来说，都有不下10次了，可基本每次都会碰到些奇奇怪怪的问题。看来还是像vs、codeblocks这样的ide把人弄蠢了。便下定决心一定要好好学习下如何在linux下纯手工gcc编译c项目。今天学了2点，一个是库文件处理，另一个是makefile编写。&#13;\n','<div id=\"cnblogs_post_body\"><p>做开发快3年了，在linux下编译安装软件算是家常便饭了。就拿gcc来说，都有不下10次了，可基本每次都会碰到些奇奇怪怪的问题。看来还是像vs、codeblocks这样的ide把人弄蠢了。便下定决心一定要好好学习下如何在linux下纯手工gcc编译c项目。今天学了2点，一个是库文件处理，另一个是makefile编写。</p>&#13;\n<p>学习的系统是centos6.6，编译升级的gcc4.8.2，明天写个博客总结下这回gcc安装的过程，每次都能学到些东西。</p>&#13;\n<h2>gcc的编译过程</h2>&#13;\n<p>首先需要清楚gcc编译做了些什么</p>&#13;\n<p><span style=\"color: #ff0000;\"><span style=\"font-size: 16px;\"><strong>源文件</strong></span>----预处理----&gt;<strong><span style=\"font-size: 16px;\">预处理文件(*.i)</span></strong>----编译----&gt;<strong><span style=\"font-size: 16px;\">汇编文件(*.s)</span></strong>----汇编编译----&gt;<strong><span style=\"font-size: 16px;\">目标文件(*.o)</span></strong>----链接----&gt;<strong><span style=\"font-size: 16px;\">可执行文件</span></strong></span></p>&#13;\n<p>基本与windows下的类似。通过给gcc加一些选项，可以控制编译工作进行到指定的阶段，下面试常用的一些gcc编译选项</p>&#13;\n<ul><li><span style=\"color: #ff0000;\">-c 编译，汇编源文件，不链接，得到*.o文件</span></li>&#13;\n<li><span style=\"color: #ff0000;\">-S 只编译，不汇编，得到*.s文件</span></li>&#13;\n<li><span style=\"color: #ff0000;\">-E 预处理文件，得到*.E文件</span></li>&#13;\n<li><span style=\"color: #ff0000;\">-o [dis] [src] 将src文件编译成可执行文件dis</span></li>&#13;\n<li><span style=\"color: #ff0000;\">-Idir 指定include包含文件搜索路径</span></li>&#13;\n<li><span style=\"color: #ff0000;\">-g 生成具有调试信息，如果不加这个选项，*.o文件中不会生成.debug段，在调试时将不能查看打印变量值</span></li>&#13;\n</ul><p>学习过c和c++的都知道，c或c++程序存在各种各样的库文件，就是已经编译好的包含数据和执行代码的二进制文件。windows就是dll文件，linux下有.a和.so文件。如果需要使用这些库文件，在ide环境下勾个选项就把事给办了，在手工编译的情况下就麻烦了点。</p>&#13;\n<h2>gcc创建和使用静态库</h2>&#13;\n<h4>编写static_lib.c文件</h4>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831213629685-611250130.png\" alt=\"\"/></p>&#13;\n<h4>创建静态库</h4>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">gcc</span> -<span style=\"color: #000000;\">c static_lib.c&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">ar</span> rcs static_lib.a static_lib.o</pre>&#13;\n</div>&#13;\n<p>上面的命令会在当前目录下生产 static_lib.a 静态库文件</p>&#13;\n<h4>使用链接静态库</h4>&#13;\n<p>编写 static_lib.h文件</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831213905372-1307561951.png\" alt=\"\"/></p>&#13;\n<p>编写main3.c文件，使用静态库中的方法</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831213935419-1132259492.png\" alt=\"\"/></p>&#13;\n<p>编译main3.c并链接静态库文件</p>&#13;\n<p>执行</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">gcc</span> main3.c -lstatic_lib.a -o app3</pre>&#13;\n</div>&#13;\n<p>但却出现链接器ld找不到库的问题，把-l参数去掉就正常了</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">gcc</span> main3.c static_lib.a -o app3</pre>&#13;\n</div>&#13;\n<p>最后会生成可执行文件app3。静态库的特点是将库里的代码放到了执行文件里，如果修改了静态库的代码，要重新编译依赖它执行文件才能升级</p>&#13;\n<h2>gcc创建和使用动态库</h2>&#13;\n<p>动态库就是在有执行文件需要使用这个库时，动态加载到执行的库文件。</p>&#13;\n<h4>编写share_lib.c文件</h4>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831214658935-2115190005.png\" alt=\"\"/></p>&#13;\n<h4>创建动态库</h4>&#13;\n<p>因为需要与位置无关，所以需要使用-fPIC选项，gcc的选项有上千个，需要查询某个选项可以man gcc然后查找查看</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">gcc</span> -shared -fPIC -o share_lib.so share_lib.c</pre>&#13;\n</div>&#13;\n<p>生成的share_lib.so文件就是动态库文件，在使用这个库的程序使用时被动态加载，并没有被写入到别的执行文件中，所以当库文件修改，不需要去重新编译其他使用这个库的程序</p>&#13;\n<h4>使用动态库</h4>&#13;\n<p>share_lib.h文件声明函数</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831215017747-1944318508.png\" alt=\"\"/></p>&#13;\n<p>编写main4.c文件，include \"share_lib.h\" 文件</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831215039419-1659639322.png\" alt=\"\"/></p>&#13;\n<p>编译main4.c并链接动态库</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">gcc</span> main4.c ./share_lib.so -o app4</pre>&#13;\n</div>&#13;\n<p>生成的app4就是可执行文件.</p>&#13;\n<h2>编写makefile编译</h2>&#13;\n<p>将前面静态库的3个源文件main3.c，static_lib.c，static_lib.h放到一个目录下。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831215504513-1548473602.png\" alt=\"\"/></p>&#13;\n<p>编写Makefile文件。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831215610372-622967255.png\" alt=\"\"/></p>&#13;\n<p>其中冒号左边表示目标文件或者命令，命令也叫伪目标。</p>&#13;\n<p>执行make</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831215816481-1585258708.png\" alt=\"\"/></p>&#13;\n<p>执行make clean可以清除编译产生的文件</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201508/635249-20150831215955231-1522312334.png\" alt=\"\"/></p>&#13;\n<p>当然，这恐怕是最简单的makefile了，Makefile还有很多学的，我也在学习中，以后有收获会继续写博客记录，争取以后看大神写的makefile不要在略懂略懂了</p>&#13;\n<p> </p></div>',422,'2015-08-31 02:03:00','2016-07-31 10:21:53',4,'http://www.cnblogs.com/lvyahui/p/4774255.html',4774255),(505,'CentOS6.6源码编译升级GCC至4.8.2','升级前提&#13;\n源码编译需要至少要有一个可用的gcc编译器。&#13;\n可以用过yum自动安装或者手动下载rpm包安装。&#13;\n通过yum可以看到至少需要下面这些安装包，所以可以到许多rpm package站点中搜索下载相应的rpm包，不过版本要搞对了，这个yum搜出来的版本是针对4','<div id=\"cnblogs_post_body\"><h2>升级前提</h2>&#13;\n<p>源码编译需要至少要有一个可用的gcc编译器。</p>&#13;\n<p>可以用过yum自动安装或者手动下载rpm包安装。</p>&#13;\n<p>通过yum可以看到至少需要下面这些安装包，所以可以到许多rpm package站点中搜索下载相应的rpm包，不过版本要搞对了，这个yum搜出来的版本是针对4.4.7的。所以需要什么版本gcc就寻找什么版本对应的依赖包。现在的rpm站点都会说明这个软件包依赖哪些软件包，被哪些软件包依赖，非常方便，不过找起来还是比较耗时的。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901191830450-28193426.png\" alt=\"\"/></p>&#13;\n<h2>编译安装GCC4.8.2</h2>&#13;\n<p>下载gcc4.8.2源码包</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> curl -O <span style=\"color: #0000ff;\">ftp</span>:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">ftp.gnu.org/gnu/gcc/gcc-4.8.2/gcc-4.8.2.tar.gz;</span></pre>&#13;\n</div>&#13;\n<p>首先需要下载gcc安装所依赖的mpc，mpfr,gmp包，gcc自带了一个脚本帮我们下载并建立好链接等gcc编译时一起编译，你也可以自己去下载依赖包。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">tar</span> zxf <span style=\"color: #0000ff;\">gcc</span>-<span style=\"color: #800080;\">4.8</span>.<span style=\"color: #800080;\">2</span>.<span style=\"color: #0000ff;\">tar</span><span style=\"color: #000000;\">.gz&#13;\n</span><span style=\"color: #008080;\">2</span> cd <span style=\"color: #0000ff;\">gcc</span>-<span style=\"color: #800080;\">4.8</span>.<span style=\"color: #800080;\">2</span>　&#13;\n<span style=\"color: #008080;\">3</span> ./contrib/download_prerequisites</pre>&#13;\n</div>&#13;\n<p>打开上面的download_prerequisites可以看到，它首先下载了3个包，所以当发现脚本卡在下载的地方可能就是无法访问的原因了，这是需要去找一个新的下载地址，方法很简单，google文件名就可以找到很多。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901192726935-1495833859.png\" alt=\"\"/></p>&#13;\n<p>开始编译gcc</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #0000ff;\">mkdir</span> <span style=\"color: #0000ff;\">gcc</span>-build-<span style=\"color: #800080;\">4.8</span>.<span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">&#13;\ncd </span><span style=\"color: #0000ff;\">gcc</span>-build-<span style=\"color: #800080;\">4.8</span>.<span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">&#13;\n..</span>/configure -enable-checking=release -enable-languages=c,c++ -disable-<span style=\"color: #000000;\">multilib&#13;\n</span><span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span></pre>&#13;\n</div>&#13;\n<p>安装完成后如果发现gcc -v版本没有变化，就再执行以下启动脚本。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> source /etc/<span style=\"color: #000000;\">profile&#13;\n</span><span style=\"color: #008080;\">2</span> source ~/.bash_profile</pre>&#13;\n</div>&#13;\n<h2>安装完之后的问题</h2>&#13;\n<p>安装完之后虽然敲gcc g++ c++ 等版本都更新到了4.8.2但其实电脑里里面至少存在两个版本的gcc</p>&#13;\n<p>whereis或者where可以看到有多个gcc文件，which命令可以看到命令gcc对应的是usr/local/bin/gcc，而原来的gcc执行文件在/usr/bin/gcc，执行/usr/bin/gcc -v可以看到gcc的版本还是4.4，这虽然问题不大，但有些shell脚本或者Makefile中直接写的是gcc的绝对路径，所以很有可能会使用旧的gcc版本去编译，从而导致失败。所以还是需要将原来的gcc覆盖掉。最开始想的办法是将、usr/bin/gcc软链接到usr/local/bin/gcc，对于g++，c++等也做相似的处理</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901193918263-1881971134.png\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901194024544-68309368.png\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901194051169-222117282.png\" alt=\"\"/></p>&#13;\n<p>这种方式看似解决了问题，但总觉得不靠谱，直到最近编译apache thrift发现还是不太对。所以考虑在安装gcc的时候是否可以指明安装路径。</p>&#13;\n<p>执行</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> ./configure --help </pre>&#13;\n</div>&#13;\n<p>可以看到确实是有这样的选项的</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901194348294-1292216681.png\" alt=\"\"/></p>&#13;\n<p>所以只需要在configure的时候带上 --prefix=/usr 就可以将gcc编译安装到usr下了 </p>&#13;\n<p> </p></div>',357,'2015-08-31 23:48:00','2016-07-31 10:21:54',4,'http://www.cnblogs.com/lvyahui/p/4776702.html',4776702),(506,'Makefile文件编写','源代码文件&#13;\nmain3.c&#13;\n&#13;\n 1 #include &lt;stdio.h&gt;&#13;\n','<div id=\"cnblogs_post_body\"><h2>源代码文件</h2>&#13;\n<p>main3.c</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> #include <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">static_lib.h</span><span style=\"color: #800000;\">\"</span>&#13;\n<span style=\"color: #008080;\"> 3</span> #include <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">fun.h</span><span style=\"color: #800000;\">\"</span>&#13;\n<span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">int</span> a=<span style=\"color: #800080;\">2</span>,b=<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 7</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">add:%d sub:%d mul:%d div:%d\\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,add(a,b),sub(a,b),mul(a,b),div(a,b));&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #000000;\">    fun1();&#13;\n</span><span style=\"color: #008080;\"> 9</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">10</span> }</pre>&#13;\n</div>&#13;\n<p>static_lib.h和</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">extern</span> <span style=\"color: #0000ff;\">int</span> add(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b);&#13;\n</span><span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">extern</span> <span style=\"color: #0000ff;\">int</span> sub(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b);&#13;\n</span><span style=\"color: #008080;\">3</span> <span style=\"color: #0000ff;\">extern</span> <span style=\"color: #0000ff;\">int</span> mul(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b);&#13;\n</span><span style=\"color: #008080;\">4</span> <span style=\"color: #0000ff;\">extern</span> <span style=\"color: #0000ff;\">int</span> div(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span> b);</pre>&#13;\n</div>&#13;\n<p>static_lib.c</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">int</span> add(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b){&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">return</span> a +<span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\"> 3</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">int</span> sub(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b){&#13;\n</span><span style=\"color: #008080;\"> 6</span>     <span style=\"color: #0000ff;\">return</span> a -<span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">int</span> mul(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b){&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">return</span> a *<span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">}&#13;\n</span><span style=\"color: #008080;\">12</span> &#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">int</span> div(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> b){&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">return</span> a /<span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\">15</span> }</pre>&#13;\n</div>&#13;\n<p>fun.h和</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #0000ff;\">extern</span> <span style=\"color: #0000ff;\">void</span> fun1();</pre>&#13;\n</div>&#13;\n<p>fun.c</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> #include &lt;stdio.h&gt;&#13;\n<span style=\"color: #008080;\">2</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> fun1(){&#13;\n</span><span style=\"color: #008080;\">3</span>     printf(<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">fun1 ...</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">4</span> }</pre>&#13;\n</div>&#13;\n<p>其中stati_lib.c中的文件编译成静态库</p>&#13;\n<h2>正常编译</h2>&#13;\n<p>按照正常的编译方法，这个程序可以按如下顺序编译</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901225702981-1746815960.png\" alt=\"\"/></p>&#13;\n<p>但是每次改了源代码之后都这样子编译显然是不明智的，所以需要编写一个Makefile规则文件</p>&#13;\n<h2>Makefile Base</h2>&#13;\n<p>Makefile的规则为</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901230046075-1765571423.png\" alt=\"\"/></p>&#13;\n<p>其中target是目标文件或者动作</p>&#13;\n<p>prerequisites是生成目标依赖的文件</p>&#13;\n<p>command是规则执行的命令，如果命令与依赖规则在一行，则以\';\'分割，如果在另一行，则以tab开头</p>&#13;\n<p><span style=\"line-height: 1.5;\">编写一个最简单的Makefile编译这些源码</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #000000;\">app3  : static_lib.a fun.o&#13;\n</span><span style=\"color: #008080;\"> 2</span>     gcc main3.c static_lib.a fun.o -<span style=\"color: #000000;\">o app3&#13;\n</span><span style=\"color: #008080;\"> 3</span> &#13;\n<span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">fun.o :&#13;\n</span><span style=\"color: #008080;\"> 5</span>     gcc -<span style=\"color: #000000;\">c fun.c&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #000000;\">static_lib.o : &#13;\n</span><span style=\"color: #008080;\"> 7</span>     gcc -<span style=\"color: #000000;\">c static_lib.c&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #000000;\">static_lib.a : static_lib.o&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">    ar rcs static_lib.a static_lib.o&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">clean :&#13;\n</span><span style=\"color: #008080;\">13</span>     rm static_lib.a static_lib.o fun.o app3</pre>&#13;\n</div>&#13;\n<p>执行make clean可以将原来的清理掉</p>&#13;\n<p>执行make会重新编译源码</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150901230330169-1795969685.png\" alt=\"\"/></p>&#13;\n<p> 这样当我们修改源代码之后就可以简单的编译源码了</p>&#13;\n<h2>Makefile hidden</h2>&#13;\n<p>但上面的Makefile显然不够简洁，我们可以利用一些make的隐式规则，简写makefile，这些隐含规则可以通过 make -p 指令查看。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #000000;\">app3  : static_lib.a fun.o main3.o&#13;\n</span><span style=\"color: #008080;\">2</span>     <span style=\"color: #0000ff;\">gcc</span> main3.o fun.o static_lib.a -<span style=\"color: #000000;\">o app3&#13;\n</span><span style=\"color: #008080;\">3</span> &#13;\n<span style=\"color: #008080;\">4</span> static_lib.a : static_lib.o # 隐含会寻找*.c文件编译成*<span style=\"color: #000000;\">.o文件&#13;\n</span><span style=\"color: #008080;\">5</span>     <span style=\"color: #0000ff;\">ar</span><span style=\"color: #000000;\"> rcs static_lib.a static_lib.o&#13;\n</span><span style=\"color: #008080;\">6</span> &#13;\n<span style=\"color: #008080;\">7</span> <span style=\"color: #000000;\">clean :&#13;\n</span><span style=\"color: #008080;\">8</span>     <span style=\"color: #0000ff;\">rm</span> *.a *.o app3</pre>&#13;\n</div>&#13;\n<p>执行make可以看到依然能够编译成功</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150903101512903-2113758604.png\" alt=\"\"/></p>&#13;\n<p>其中cc是一个符号链接</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150903101633981-449419983.png\" alt=\"\"/></p>&#13;\n<h2>Makefile Var</h2>&#13;\n<p>还可以进一步使用一些变量，进一步提高Makefile的可维护性</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> CC       = <span style=\"color: #0000ff;\">gcc</span>&#13;\n<span style=\"color: #008080;\"> 2</span> OBJS     =<span style=\"color: #000000;\"> main3.o static_lib.a fun.o&#13;\n</span><span style=\"color: #008080;\"> 3</span> GEN_OPTS = -<span style=\"color: #000000;\">o &#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">app3  : $(OBJS)&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">    $(CC) $(OBJS) $(GEN_OPTS) app3&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span> static_lib.a : static_lib.o # 隐含会寻找*.c文件编译成*<span style=\"color: #000000;\">.o文件&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">ar</span><span style=\"color: #000000;\"> rcs static_lib.a static_lib.o&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">clean :&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">rm</span> *.a *.o app3</pre>&#13;\n</div>&#13;\n<p>执行make</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150903115557450-1160989512.png\" alt=\"\"/></p>&#13;\n<p>而且可以看到 1,2,4行的gcc存在缩进，说明隐含规则也使用指明的CC变量编译。</p>&#13;\n<h2>Makefile autoVar</h2>&#13;\n<p>进一步的，我们可以使用一些自动化的变量。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> CC       = <span style=\"color: #0000ff;\">gcc</span>&#13;\n<span style=\"color: #008080;\"> 2</span> OBJS     =<span style=\"color: #000000;\"> main3.o static_lib.a fun.o&#13;\n</span><span style=\"color: #008080;\"> 3</span> GEN_OPTS = -<span style=\"color: #000000;\">o &#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">app3  : $(OBJS)&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #000000;\">    $(CC) $(OBJS) $(GEN_OPTS) app3&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span> static_lib.a : static_lib.o # 隐含会寻找*.c文件编译成*<span style=\"color: #000000;\">.o文件&#13;\n</span><span style=\"color: #008080;\"> 8</span>     <span style=\"color: #0000ff;\">ar</span> rcs $@ $^&#13;\n<span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #000000;\">clean :&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">rm</span> *.a *.o app3</pre>&#13;\n</div>&#13;\n<p>其中自动化变量 $@表示规则中的目标文件集，$^表示依赖集，这个Makefile执行之后也能得到想要的结果</p>&#13;\n<h2>Makefile Fun</h2>&#13;\n<p>最后结合前面的变量，再结合函数，等写一个更完善的makefile，可以做到增加了新的c文件或h文件不需要修改Makefile文件，再次之前，首先将static_lib.* 移动到lib目录下，将其余源码文件移动到src目录。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150903125845060-691605527.png\" alt=\"\"/></p>&#13;\n<p>并修改main3.c的include为 ../lib/static_lib.h，修改Makefile文件如下</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> CC       = <span style=\"color: #0000ff;\">gcc</span>&#13;\n<span style=\"color: #008080;\"> 2</span> SRC      = ./<span style=\"color: #000000;\">src&#13;\n</span><span style=\"color: #008080;\"> 3</span> LIB      = ./<span style=\"color: #000000;\">lib&#13;\n</span><span style=\"color: #008080;\"> 4</span> OBJS     = $(patsubst %.c, %.o, $(wildcard $(SRC)<span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\">.c))&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\">LIBS     = $(patsubst %.c, %.a, $(wildcard $(LIB)/*.c))&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\">GEN_OPTS = -o &#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #008000;\">app3  : $(OBJS) $(LIBS)&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">    $(CC) $(OBJS) $(LIBS) $(GEN_OPTS) app3&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #008000;\">    @echo \"gen done\"&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\"># 将lib目录下的c文件编译成a库文件&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\">$(LIBS) : $(patsubst %.c, %.o, $(wildcard $(LIB)/*.c))&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #008000;\">    ar rcs $@ $^&#13;\n</span><span style=\"color: #008080;\">13</span> &#13;\n<span style=\"color: #008080;\">14</span> <span style=\"color: #008000;\">clean :&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #008000;\">    -rm $(SRC)/*.o $(LIB)/*.a app3&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #008000;\">    @echo clean done.</span></pre>&#13;\n</div>&#13;\n<p>其中patsubst是一个函数，替换通配符，wildcard函数扩展通配符，展开目录下的所有匹配文件。</p>&#13;\n<p>命令前面加\'-\'的话表示即便出错也继续执行。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150903125545466-1427269751.png\" alt=\"\"/></p>&#13;\n<p> </p></div>',648,'2015-09-02 17:08:00','2016-07-31 10:21:54',4,'http://www.cnblogs.com/lvyahui/p/4777311.html',4777311),(507,'gdb调试程序','编写test2.c&#13;\n','<div id=\"cnblogs_post_body\"><p>编写test2.c</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111802029-1921080646.png\"><img style=\"background-image: none; float: left; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111802670-601387917.png\" alt=\"image\" width=\"556\" height=\"309\" border=\"0\"/></a></p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p>编译成可执行文件</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">gcc</span> test2.c -g -o test2</pre>&#13;\n</div>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>gdb test2</pre>&#13;\n</div>&#13;\n<p>进入gdb调试</p>&#13;\n<h2>run命令</h2>&#13;\n<p>run命令格式</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>run &lt;arg1...argn&gt;</pre>&#13;\n</div>&#13;\n<p>其中run可以简写成r，gdb中大部分指令可以简写。</p>&#13;\n<p>在gdb中执行</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>run lvyahui blog</pre>&#13;\n</div>&#13;\n<p>可以看到输出</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111803154-1955204721.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111803764-358401250.png\" alt=\"image\" width=\"753\" height=\"171\" border=\"0\"/></a></p>&#13;\n<p>再次运行run可以不需要再传递参数，它会使用最后一次调用run命令传递的参数</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111804232-119493668.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111804842-429804051.png\" alt=\"image\" width=\"567\" height=\"113\" border=\"0\"/></a></p>&#13;\n<p>可以看到默认参数</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111805076-1074033781.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111805373-115696018.png\" alt=\"image\" width=\"762\" height=\"52\" border=\"0\"/></a></p>&#13;\n<p>可以再次执行带参数的run或者使用set agrs 修改默认参数</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111805623-1675662541.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111805920-321222508.png\" alt=\"image\" width=\"750\" height=\"178\" border=\"0\"/></a></p>&#13;\n<h2>断点</h2>&#13;\n<h4>设置断点</h4>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>break &lt;line-number&gt;</pre>&#13;\n</div>&#13;\n<p>可以在vim编辑器中查看行号或者通过list/l指令查看行号</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111806170-110482554.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111806498-1949082048.png\" alt=\"image\" width=\"601\" height=\"172\" border=\"0\"/></a></p>&#13;\n<p>编辑代码文件test1.c</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111806873-68360219.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111807186-557395972.png\" alt=\"image\" width=\"486\" height=\"501\" border=\"0\"/></a></p>&#13;\n<p>编译好test1</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">gcc</span> test1.c -g -o test1</pre>&#13;\n</div>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>gdb test1</pre>&#13;\n</div>&#13;\n<p>进入gdb环境</p>&#13;\n<p>先查看代码，然后设置一个断点，再run执行，让后continue继续执行</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111807514-1276161813.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111808029-1702738636.png\" alt=\"image\" width=\"450\" height=\"593\" border=\"0\"/></a></p>&#13;\n<h4>在方法前添加断点</h4>&#13;\n<p>break可以直接在方法前添加短点</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>break fun_name</pre>&#13;\n</div>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111808279-1007385683.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111808561-408353137.png\" alt=\"image\" width=\"525\" height=\"159\" border=\"0\"/></a></p>&#13;\n<p>在此调试执行</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111808857-1782374845.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111809311-883804708.png\" alt=\"image\" width=\"422\" height=\"299\" border=\"0\"/></a></p>&#13;\n<h4>删除断点</h4>&#13;\n<p>下面看怎么删除之前设置的短点</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>delete breakpoint &lt;point-number&gt;<span style=\"color: #000000;\"> #删除指定断点&#13;\n#或者&#13;\ndelete breakpoints  #删除所有断点</span></pre>&#13;\n</div>&#13;\n<p>其中 delete可以简写成d</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111809936-734563671.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111810404-215259457.png\" alt=\"image\" width=\"471\" height=\"202\" border=\"0\"/></a></p>&#13;\n<p>另外clear命令也可以用来清除断点</p>&#13;\n<h4>按表达式设置断点</h4>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>break &lt;line number&gt; <span style=\"color: #0000ff;\">if</span> expression</pre>&#13;\n</div>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111810732-1244737079.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111811014-197702502.png\" alt=\"image\" width=\"493\" height=\"316\" border=\"0\"/></a></p>&#13;\n<p>按照上面的方法步骤设置断点，发现失败了，提示No symbol var in current context</p>&#13;\n<p>起初我以为是这样的设置需要在运行中设置，于是在13行设置断点，运行，当停在13行时，再在第15行设置一个条件断点，但</p>&#13;\n<p>最后发现问题依旧。显然问题不在这里，后来上网查了下，在编译时加上一个-gstabs+选项</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">gcc</span> -g -gstabs+ -<span style=\"color: #000000;\">c test1.c&#13;\n</span><span style=\"color: #0000ff;\">gcc</span> test1.o -o test1</pre>&#13;\n</div>&#13;\n<p>再次进入gdb 调试</p>&#13;\n<p>发现就可以设置这个条件断点了</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111811342-1340843319.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111811576-50706161.png\" alt=\"image\" width=\"482\" height=\"56\" border=\"0\"/></a></p>&#13;\n<p>可以使用readelf看两次不同方法编译生成的.o文件的符号表有所不同。</p>&#13;\n<p>run执行下看看</p>&#13;\n<p>但是执行发现断点没有起作用</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111811936-814834168.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111812170-536271075.png\" alt=\"image\" width=\"596\" height=\"218\" border=\"0\"/></a></p>&#13;\n<p>虽然不知道为什么，但显然之前是因为编译器做了编译优化，但我明明没有加任何-OX选项啊。后来把i==50换成i&gt;=50，发现可以停下来了。</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111812592-1020053192.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111813014-664397588.png\" alt=\"image\" width=\"769\" height=\"332\" border=\"0\"/></a></p>&#13;\n<p>真是郁闷，i怎么会是这个值呢？</p>&#13;\n<p>如果是多文件程序，break还可以指定文件添加断点，格式如下</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>break &lt;filename:line-number&gt;<span style=\"color: #000000;\">&#13;\nbreak </span>&lt;filename:fun-name&gt;<span style=\"color: #000000;\">&#13;\n#例如&#13;\nbreak test1.c:</span><span style=\"color: #800080;\">15</span><span style=\"color: #000000;\">&#13;\nbreak test1.c:main</span></pre>&#13;\n</div>&#13;\n<h4>禁止和启用断点</h4>&#13;\n<p>格式</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>disable/enable breakpoint num</pre>&#13;\n</div>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111813264-603063187.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111813732-305755332.png\" alt=\"image\" width=\"617\" height=\"265\" border=\"0\"/></a></p>&#13;\n<h4>观察点</h4>&#13;\n<p>观察点也可以起到断点的作用</p>&#13;\n<p>编辑test3.c文件</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>#include &lt;stdio.h&gt;&#13;\n&#13;\n<span style=\"color: #0000ff;\">int</span> <span style=\"color: #0000ff;\">sum</span>(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> a){&#13;\n    </span><span style=\"color: #0000ff;\">int</span> i,res = <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n    </span><span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i &lt; a;i++<span style=\"color: #000000;\">){&#13;\n        res </span>+=<span style=\"color: #000000;\"> i;&#13;\n    }&#13;\n    return res;&#13;\n}&#13;\n</span><span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> main(void){&#13;\n    </span><span style=\"color: #0000ff;\">int</span> a = <span style=\"color: #800080;\">10</span><span style=\"color: #000000;\">;&#13;\n    </span><span style=\"color: #0000ff;\">int</span> asum = <span style=\"color: #0000ff;\">sum</span><span style=\"color: #000000;\">(a);&#13;\n    printf(</span><span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">asum is %d \\n</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,asum);&#13;\n    return </span><span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n}</span></pre>&#13;\n</div>&#13;\n<p>编译</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">gcc</span> -g -gstabs+ -Wall test3.c -o test3</pre>&#13;\n</div>&#13;\n<p>watch 命令需要在运行程序后使用看，所以我们要先加一个断点让程序停下来</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111814061-1316451631.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111814326-88283975.png\" alt=\"image\" width=\"740\" height=\"450\" border=\"0\"/></a></p>&#13;\n<p>将断点删除，继续执行</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111814607-1228966302.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111814857-2010227410.png\" alt=\"image\" width=\"374\" height=\"225\" border=\"0\"/></a></p>&#13;\n<h2>查看运行数据</h2>&#13;\n<p>在运行时常常使用print命令来查看数据，再次之前，需要先知道如何单步执行，进入函数，运行到下一个断点</p>&#13;\n<ul><li>next--执行一行源代码但不进入函数内部。</li>&#13;\n<li>step--执行一行源代码而且进入函数内部。</li>&#13;\n<li>continue -- 执行到下一暂停点或程序结束。</li>&#13;\n</ul><p>再次调试test1程序</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111815154-832669246.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905111815545-155096263.png\" alt=\"image\" width=\"443\" height=\"640\" border=\"0\"/></a></p>&#13;\n<h4>print的格式</h4>&#13;\n<p>为</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>print &lt;expression&gt;<span style=\"color: #000000;\">&#13;\n#或者&#13;\np </span>&lt;expression&gt;</pre>&#13;\n</div>&#13;\n<p>其中expression可以是各种形式</p>&#13;\n<p>表达式</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>p (i-<span style=\"color: #800080;\">6</span>)*<span style=\"color: #800080;\">3</span>+result</pre>&#13;\n</div>&#13;\n<p>函数调用</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>p func(<span style=\"color: #800080;\">5</span>)</pre>&#13;\n</div>&#13;\n<p>数组</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>p *arr_name@arr_length</pre>&#13;\n</div>&#13;\n<p>编写test4.c</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>#include &lt;stdio.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;<span style=\"color: #0000ff;\">string</span>.h&gt;&#13;\n&#13;\n<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\"> main(void){&#13;\n    </span><span style=\"color: #0000ff;\">int</span> arr[] = {<span style=\"color: #800080;\">1</span>,<span style=\"color: #800080;\">2</span>,<span style=\"color: #800080;\">3</span>,<span style=\"color: #800080;\">4</span>,<span style=\"color: #800080;\">5</span><span style=\"color: #000000;\">};&#13;\n    </span><span style=\"color: #0000ff;\">int</span> len = <span style=\"color: #800080;\">4</span><span style=\"color: #000000;\">,i;&#13;\n    </span><span style=\"color: #0000ff;\">int</span> * arr2 = (<span style=\"color: #0000ff;\">int</span> *) malloc(len * sizeof(<span style=\"color: #0000ff;\">int</span><span style=\"color: #000000;\">));&#13;\n    </span><span style=\"color: #0000ff;\">for</span>(i=<span style=\"color: #800080;\">0</span>;i&lt;len;i++<span style=\"color: #000000;\">){&#13;\n        arr2[i]</span>= i*<span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">;&#13;\n    }&#13;\n    </span><span style=\"color: #0000ff;\">free</span><span style=\"color: #000000;\">(arr2);&#13;\n    return </span><span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n}</span></pre>&#13;\n</div>&#13;\n<p>进入gdb调试</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905113959342-1117010930.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905113959889-75851739.png\" alt=\"image\" width=\"890\" height=\"581\" border=\"0\"/></a></p>&#13;\n<h4>自动显示变量</h4>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>display<span style=\"color: #008000;\">/</span><span style=\"color: #008000;\">fmt expr</span></pre>&#13;\n</div>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905114000482-900329528.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150905114000811-306703718.png\" alt=\"image\" width=\"539\" height=\"304\" border=\"0\"/></a></p>&#13;\n<p>控制格式的字符更printf的非常相似，在此不做赘述</p>&#13;\n<p>以上是个人总结的gdb的一些基础内容，更多内容会在后续博客中提及</p></div>',318,'2015-09-05 03:48:00','2016-07-31 10:21:55',4,'http://www.cnblogs.com/lvyahui/p/4782948.html',4782948),(508,'rpc远程调用开发','RPC即远程过程调用，适用于集群管理，集群节点就是RPCServer，而我们发起远程调用的web服务器就是RPCClient。所以是少数rpcClient（可能一个）对多个RPCServer（集群节点）。&#13;\n','<div id=\"cnblogs_post_body\"><p><span style=\"color: #ff0000;\">RPC即远程过程调用，适用于集群管理，集群节点就是RPCServer，而我们发起远程调用的web服务器就是RPCClient。所以是少数rpcClient（可能一个）对多个RPCServer（集群节点）。</span></p>&#13;\n<p><img style=\"float: none; margin-left: auto; display: block; margin-right: auto;\" src=\"http://images0.cnblogs.com/blog2015/635249/201508/192240105505738.png\" alt=\"\"/></p>&#13;\n<p>今天讲述的RPC开发希望实现这样一个效果，<span style=\"color: #ff0000;\">在RPCClient上（也就是web服务器）执行一条shell命令，要求指定的远程主机执行指定的命令</span>。命令的格式如下</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>rpc_client  rpc_server_address command</pre>&#13;\n</div>&#13;\n<p>比如</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>./ssan_client <span style=\"color: #800080;\">192.168</span>.<span style=\"color: #800080;\">1.1</span> vmstat</pre>&#13;\n</div>&#13;\n<p><span style=\"color: #ff0000;\">希望这条命令的远程执行（在RPCServer上）的结果直接在直接输出到web服务器（RPCClient）。</span>可以先看一个执行效果。</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190215231-1492529518.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190215512-826731581.png\" alt=\"image\" width=\"663\" height=\"62\" border=\"0\"/></a></p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190215794-1658136618.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190216200-1552526303.png\" alt=\"image\" width=\"744\" height=\"110\" border=\"0\"/></a></p>&#13;\n<p>那么要做到这样一种效果，需要借助RPC框架，这里选择<a href=\"https://thrift.apache.org/\" target=\"_blank\">Apache Thrift</a>, <span style=\"color: #ff0000;\">并且使用C++语言，因为不能保证节点装什么PHP或JAVA环境，希望最后得到一个与环境无关的可执行文件。</span></p>&#13;\n<p>这里首先可以看到Apache官方C++教程</p>&#13;\n<p><a title=\"https://thrift.apache.org/tutorial/cpp\" href=\"https://thrift.apache.org/tutorial/cpp\">https://thrift.apache.org/tutorial/cpp</a></p>&#13;\n<p>下面开始实现rpc。</p>&#13;\n<h2>安装thrift环境</h2>&#13;\n<h4>下载相关文件</h4>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">yum</span> -y groupinstall <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Development Tools</span><span style=\"color: #800000;\">\"</span>&#13;\n<span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz</span>&#13;\n<span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">ftp.gnu.org/gnu/bison/bison-2.5.1.tar.gz</span>&#13;\n<span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">ftp.gnu.org/gnu/automake/automake-1.14.tar.gz</span>&#13;\n<span style=\"color: #0000ff;\">wget</span> http:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">www.mirrorservice.org/sites/dl.sourceforge.net/pub/sourceforge/b/bo/boost/boost/1.55.0/boost_1_55_0.tar.gz</span>&#13;\ngit clone <a href=\"https://git-wip-us.apache.org/repos/asf/thrift.git\">https:<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">git-wip-us.apache.org/repos/asf/thrift.git</span></a></pre>&#13;\n</div>&#13;\n<h4>依次安装</h4>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">tar</span> zxf autoconf-<span style=\"color: #800080;\">2.69</span>.<span style=\"color: #0000ff;\">tar</span><span style=\"color: #000000;\">.gz&#13;\ncd autoconf</span>-<span style=\"color: #800080;\">2.69</span><span style=\"color: #000000;\">&#13;\n.</span>/configure --prefix=/<span style=\"color: #000000;\">usr&#13;\n</span><span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #0000ff;\">sudo</span> <span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span><span style=\"color: #000000;\">&#13;\ncd ..&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">tar</span> xvf bison-<span style=\"color: #800080;\">2.5</span>.<span style=\"color: #800080;\">1</span>.<span style=\"color: #0000ff;\">tar</span><span style=\"color: #000000;\">.gz&#13;\ncd bison</span>-<span style=\"color: #800080;\">2.5</span>.<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">&#13;\n.</span>/configure --prefix=/<span style=\"color: #000000;\">usr&#13;\n</span><span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span><span style=\"color: #000000;\">&#13;\ncd ..&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">tar</span> zxf automake-<span style=\"color: #800080;\">1.14</span>.<span style=\"color: #0000ff;\">tar</span><span style=\"color: #000000;\">.gz&#13;\ncd automake</span>-<span style=\"color: #800080;\">1.14</span><span style=\"color: #000000;\">&#13;\n.</span>/configure --prefix=/<span style=\"color: #000000;\">usr&#13;\n</span><span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span><span style=\"color: #000000;\">&#13;\ncd ..&#13;\n&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">tar</span> zxf boost_1_55_0.<span style=\"color: #0000ff;\">tar</span><span style=\"color: #000000;\">.gz&#13;\n.</span>/bootstrap.<span style=\"color: #0000ff;\">sh</span><span style=\"color: #000000;\">&#13;\n.</span>/<span style=\"color: #000000;\">configure&#13;\n</span><span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #0000ff;\">sudo</span> <span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span><span style=\"color: #000000;\">&#13;\n&#13;\ncd ..</span>/<span style=\"color: #000000;\">thrift&#13;\n.</span>/bootstrap.<span style=\"color: #0000ff;\">sh</span>&#13;\n<span style=\"color: #0000ff;\">yum</span> <span style=\"color: #0000ff;\">install</span> openssl openssl-devel -<span style=\"color: #000000;\">y&#13;\n.</span>/<span style=\"color: #000000;\">configure&#13;\n</span><span style=\"color: #0000ff;\">make</span>&#13;\n<span style=\"color: #0000ff;\">make</span> <span style=\"color: #0000ff;\">install</span></pre>&#13;\n</div>&#13;\n<p>这里在安装thrift是yum安装了openssl-dev，是为了解决这个错误</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190216575-620049850.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190216965-1620089767.png\" alt=\"Image\" width=\"528\" height=\"98\" border=\"0\"/></a></p>&#13;\n<p>安装完成之后</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190217309-1918093627.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190217590-1695089973.png\" alt=\"Image\" width=\"270\" height=\"71\" border=\"0\"/></a></p>&#13;\n<h2>编写thrift文件</h2>&#13;\n<p><strong>编写ssan.thrift文件</strong></p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>namespace <span style=\"color: #0000ff;\">cpp</span><span style=\"color: #000000;\"> ssan&#13;\n&#13;\nservice SSANAgent {&#13;\n  </span><span style=\"color: #0000ff;\">string</span> run(<span style=\"color: #800080;\">1</span>:<span style=\"color: #0000ff;\">string</span><span style=\"color: #000000;\"> command)&#13;\n}</span></pre>&#13;\n</div>&#13;\n<p>这里定义了一个接口方法run，接收一个string类型的参数，表示要执行的命令</p>&#13;\n<p><strong>使用thrift生成</strong></p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>thrift -r --gen <span style=\"color: #0000ff;\">cpp</span> ssan.thrift</pre>&#13;\n</div>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190217997-1063615867.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190218325-1860274234.png\" alt=\"Image\" width=\"716\" height=\"153\" border=\"0\"/></a></p>&#13;\n<p>生成的源代码主要在SSANAgent.cpp中，可以翻看SSANAgent.h的定义。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907200203434-1123829018.png\" alt=\"\"/></p>&#13;\n<p>可以看到，<span style=\"color: #ff0000;\">我们只需要写一个类继承这个类，重写run方法，在run方法里实现业务，并且可以看到它帮我们添加了一个参数，这个参数用来做什么呢？用来返回结果</span>。Thrift连这事都帮你准备好了</p>&#13;\n<h2>编写rpcServer</h2>&#13;\n<p><span style=\"color: #ff0000;\">thrift已经为我们生成了server的模板</span></p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">cp</span> SSANAgent_server.skeleton.<span style=\"color: #0000ff;\">cpp</span> SSANServer.<span style=\"color: #0000ff;\">cpp</span></pre>&#13;\n</div>&#13;\n<p>之前定义的接口方法也主要定义在这个类里</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190218715-1287774317.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190219106-469912794.png\" alt=\"Image\" width=\"547\" height=\"277\" border=\"0\"/></a></p>&#13;\n<p><strong>修改SSANServer.cpp文件</strong></p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> This autogenerated skeleton file illustrates how to build a server.&#13;\n</span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> You should copy it to another filename to avoid overwriting it.</span>&#13;\n<span style=\"color: #000000;\">&#13;\n#include </span><span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">SSANAgent.h</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">&#13;\n#include </span>&lt;sstream&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/protocol/TBinaryProtocol.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/server/TSimpleServer.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/transport/TServerSocket.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/transport/TBufferTransports.h&gt;<span style=\"color: #000000;\">&#13;\n&#13;\nusing namespace ::apache::thrift;&#13;\nusing namespace ::apache::thrift::protocol;&#13;\nusing namespace ::apache::thrift::transport;&#13;\nusing namespace ::apache::thrift::server;&#13;\n&#13;\nusing boost::shared_ptr;&#13;\n&#13;\nusing namespace  ::ssan;&#13;\nusing namespace std;&#13;\n&#13;\nclass SSANAgentHandler : virtual public SSANAgentIf {&#13;\n public:&#13;\n  SSANAgentHandler() {&#13;\n    </span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> Your initialization goes here</span>&#13;\n<span style=\"color: #000000;\">  }&#13;\n&#13;\n  void run(std::</span><span style=\"color: #0000ff;\">string</span>&amp; _return, const std::<span style=\"color: #0000ff;\">string</span>&amp;<span style=\"color: #000000;\"> command) {&#13;\n      std::ostringstream oss;&#13;\n      FILE </span>* pp = popen(command.c_str(),<span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">r</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">);&#13;\n      </span><span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(pp){&#13;\n          </span><span style=\"color: #0000ff;\">char</span> buf[<span style=\"color: #800080;\">4096</span><span style=\"color: #000000;\">];&#13;\n          </span><span style=\"color: #0000ff;\">while</span><span style=\"color: #000000;\">(fgets(buf,sizeof(buf),pp)){&#13;\n              oss </span>&lt;&lt;<span style=\"color: #000000;\"> buf;&#13;\n          }&#13;\n          pclose(pp);&#13;\n      }&#13;\n      </span><span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n          oss </span>&lt;&lt; <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Error: No such command : </span><span style=\"color: #800000;\">\"</span> &lt;&lt;<span style=\"color: #000000;\"> command;&#13;\n      }&#13;\n      _return </span>=<span style=\"color: #000000;\"> oss.str();&#13;\n  }&#13;\n};&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">int</span> argc, <span style=\"color: #0000ff;\">char</span> **<span style=\"color: #000000;\">argv) {&#13;\n  </span><span style=\"color: #0000ff;\">int</span> port = <span style=\"color: #800080;\">9090</span><span style=\"color: #000000;\">;&#13;\n  shared_ptr</span>&lt;SSANAgentHandler&gt;<span style=\"color: #000000;\"> handler(new SSANAgentHandler());&#13;\n  shared_ptr</span>&lt;TProcessor&gt;<span style=\"color: #000000;\"> processor(new SSANAgentProcessor(handler));&#13;\n  shared_ptr</span>&lt;TServerTransport&gt;<span style=\"color: #000000;\"> serverTransport(new TServerSocket(port));&#13;\n  shared_ptr</span>&lt;TTransportFactory&gt;<span style=\"color: #000000;\"> transportFactory(new TBufferedTransportFactory());&#13;\n  shared_ptr</span>&lt;TProtocolFactory&gt;<span style=\"color: #000000;\"> protocolFactory(new TBinaryProtocolFactory());&#13;\n&#13;\n  TSimpleServer server(processor, serverTransport, transportFactory, protocolFactory);&#13;\n  cout </span>&lt;&lt; <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Start SSAN Server ...</span><span style=\"color: #800000;\">\"</span> &lt;&lt;<span style=\"color: #000000;\"> endl;&#13;\n  server.serve();&#13;\n  cout </span>&lt;&lt; <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Done</span><span style=\"color: #800000;\">\"</span> &lt;&lt;<span style=\"color: #000000;\"> endl;&#13;\n  return </span><span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n}</span></pre>&#13;\n</div>&#13;\n<p>主要是在run方法里处理业务</p>&#13;\n<h2>生成rpcServer</h2>&#13;\n<p>先不借助Makefile，依次执行下面的命令编译</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>g++ -Wall -I/usr/local/include/thrift -c SSANAgent.<span style=\"color: #0000ff;\">cpp</span><span style=\"color: #000000;\">&#13;\ng</span>++ -Wall -I/usr/local/include/thrift -c SSANServer.<span style=\"color: #0000ff;\">cpp</span><span style=\"color: #000000;\">&#13;\ng</span>++ -Wall -I/usr/local/include/thrift -c ssan_constants.<span style=\"color: #0000ff;\">cpp</span><span style=\"color: #000000;\">&#13;\ng</span>++ -Wall -I/usr/local/include/thrift -c ssan_types.<span style=\"color: #0000ff;\">cpp</span></pre>&#13;\n</div>&#13;\n<p>链接文件生成rpcServer，注意这里是动态链接</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>g++ -L/usr/local/lib *.o -o ssan_server –lthrift</pre>&#13;\n</div>&#13;\n<p>链接后运行出现这个错误</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190219700-592633054.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190220153-1401334022.png\" alt=\"Image\" width=\"1069\" height=\"62\" border=\"0\"/></a></p>&#13;\n<p>这个文件其实已经存在了，不过在目录/usr/local/lib/下，而程序运行时再/usr/lib下搜索动态库文件，所以建立一个软链接</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre><span style=\"color: #0000ff;\">ln</span> -s /usr/local/lib/libthrift-<span style=\"color: #800080;\">1.0</span>.<span style=\"color: #800080;\">0</span>-dev.so /usr/lib/libthrift-<span style=\"color: #800080;\">1.0</span>.<span style=\"color: #800080;\">0</span>-dev.so</pre>&#13;\n</div>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190220559-469000728.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190221075-926003894.png\" alt=\"Image\" width=\"771\" height=\"78\" border=\"0\"/></a></p>&#13;\n<p>再执行就成功启动了</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190221419-1958519165.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"Image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190221794-331322056.png\" alt=\"Image\" width=\"322\" height=\"82\" border=\"0\"/></a></p>&#13;\n<h2>编写rpcClient</h2>&#13;\n<p>rpcClient代码需要自己创建，头文件除了server部分，其他地方照抄就是了</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>#include <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">SSANAgent.h</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">&#13;\n&#13;\n#include </span>&lt;ostream&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;sstream&gt;<span style=\"color: #000000;\">&#13;\n&#13;\n#include </span>&lt;thrift/protocol/TBinaryProtocol.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/transport/TServerSocket.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/transport/TBufferTransports.h&gt;<span style=\"color: #000000;\">&#13;\n#include </span>&lt;thrift/transport/TSocket.h&gt;<span style=\"color: #000000;\">&#13;\n&#13;\nusing namespace ::apache::thrift;&#13;\nusing namespace ::apache::thrift::protocol;&#13;\nusing namespace ::apache::thrift::transport;&#13;\n&#13;\nusing namespace ssan;&#13;\nusing namespace std;&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">int</span> main(<span style=\"color: #0000ff;\">int</span> argc,<span style=\"color: #0000ff;\">char</span> **<span style=\"color: #000000;\"> argv){&#13;\n    </span><span style=\"color: #0000ff;\">if</span>(argc &lt; <span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">){&#13;\n        printf(</span><span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">Usage: %s ip-address command ...\\n</span><span style=\"color: #800000;\">\"</span>,argv[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">]);&#13;\n        return </span>-<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">;&#13;\n    }&#13;\n    </span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  处理输入参数</span>&#13;\n<span style=\"color: #000000;\">    ostringstream command,address;&#13;\n    address </span>&lt;&lt; argv[<span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">];&#13;\n    </span><span style=\"color: #0000ff;\">if</span>(argc &gt; <span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">){&#13;\n        command </span>&lt;&lt; argv[<span style=\"color: #800080;\">2</span><span style=\"color: #000000;\">];&#13;\n        </span><span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> i=<span style=\"color: #800080;\">3</span>;i &lt; argc;i++<span style=\"color: #000000;\">){&#13;\n            command </span>&lt;&lt; <span style=\"color: #800000;\">\"</span> <span style=\"color: #800000;\">\"</span> &lt;&lt;<span style=\"color: #000000;\"> argv[i];&#13;\n        }&#13;\n    }&#13;\n    </span><span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">  访问rpc server执行命令</span>&#13;\n    boost::shared_ptr&lt;TSocket&gt; socket(new TSocket(address.str().c_str(),<span style=\"color: #800080;\">9090</span><span style=\"color: #000000;\">));&#13;\n    boost::shared_ptr</span>&lt;TTransport&gt;<span style=\"color: #000000;\"> transport(new TBufferedTransport(socket));&#13;\n    boost::shared_ptr</span>&lt;TProtocol&gt;<span style=\"color: #000000;\"> protocol(new TBinaryProtocol(transport));&#13;\n&#13;\n    SSANAgentClient client(protocol);&#13;\n    </span><span style=\"color: #0000ff;\">string</span><span style=\"color: #000000;\"> output;&#13;\n&#13;\n    transport</span>-&gt;<span style=\"color: #000000;\">open();&#13;\n&#13;\n    client.run(output,command.str());&#13;\n    cout </span>&lt;&lt; output &lt;&lt;<span style=\"color: #000000;\"> endl;&#13;\n&#13;\n    transport</span>-&gt;<span style=\"color: #000000;\">close();&#13;\n    return </span><span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n}</span></pre>&#13;\n</div>&#13;\n<p>这里实例化了一个SSANAgentClient，它也定义在SSANAgent.h文件中，并且也继承自SSANAgentIf，所以它也有run方法，并且可以看到它的run方法做了两件事情，将命令发送给server执行，接收server返回的结果。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907201340981-106211826.png\" alt=\"\"/></p>&#13;\n<h2>生成rpcClient</h2>&#13;\n<p>编译</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>g++ -Wall -I/usr/local/include/thrift -c SSANClient.<span style=\"color: #0000ff;\">cpp</span></pre>&#13;\n</div>&#13;\n<p>链接</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>g++ -L/usr/local/lib SSANClient.o SSANAgent.o ssan_constants.o ssan_types.o -o ssan_client -lthrift</pre>&#13;\n</div>&#13;\n<p>这部分基本没出什么大问题</p>&#13;\n<h2>编写Makefile编译</h2>&#13;\n<p>为了更方便的调试代码，还是需要写一个Makefile文件。时间有限，这个是临时写的，后面会继续完善</p>&#13;\n<div class=\"cnblogs_code\" style=\"background-color: #f5f5f5; border: #cccccc 1px solid; padding: 5px;\">&#13;\n<pre>LIB_INC     =-L/usr/local/<span style=\"color: #000000;\">lib&#13;\nSHARE_OBJ   </span>=<span style=\"color: #000000;\">ssan_constants.o ssan_types.o &#13;\nall : server client&#13;\n&#13;\nserver: SSANAgent.o SSANServer.o $(SHARE_OBJ)&#13;\n    g</span>++ $(LIB_INC) $^ -o ssan_server -<span style=\"color: #000000;\">lthrift&#13;\n    @echo ssan_server created.&#13;\n&#13;\nclient: SSANAgent.o SSANClient.o $(SHARE_OBJ)&#13;\n    g</span>++ $(LIB_INC) $^ -o ssan_client -<span style=\"color: #000000;\">lthrift&#13;\n    @echo ssan_client created.&#13;\n&#13;\n#default:server client&#13;\n&#13;\nclean :&#13;\n    </span>-<span style=\"color: #0000ff;\">rm</span> *<span style=\"color: #000000;\">.o ssan_client ssan_server&#13;\n    @echo cleanup </span><span style=\"color: #0000ff;\">done</span>;</pre>&#13;\n</div>&#13;\n<p>执行make，可以看到这样的效果</p>&#13;\n<p><a href=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190222325-130849183.png\"><img style=\"background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;\" title=\"image\" src=\"http://images2015.cnblogs.com/blog/635249/201509/635249-20150907190222840-1070993875.png\" alt=\"image\" width=\"906\" height=\"337\" border=\"0\"/></a></p>&#13;\n<p> </p>&#13;\n<p>至此，RPCServer和RPCClient都已经生成了，下一步就是解决静态编译的问题。因为时间有限，这个将会在下一篇博客中PHP对RPC服务的调用封装中写出</p></div>',854,'2015-09-06 23:02:00','2016-07-31 10:21:56',4,'http://www.cnblogs.com/lvyahui/p/4789711.html',4789711),(509,'表格行内编辑增删改查','前言&#13;\n最近在做一个OA系统，需要将大量excel中的数据录入，并且希望以后新建数据时，也能像excel那样方便。并且这个后台系统有非常多这样的表单。因此需要做一个内敛的表单控件。&#13;\n上网找到一款编辑起来非常方便的控件','<div id=\"cnblogs_post_body\"><h2>前言</h2>&#13;\n<p>最近在做一个OA系统，需要将大量excel中的数据录入，并且希望以后新建数据时，也能像excel那样方便。并且这个后台系统有非常多这样的表单。因此需要做一个内敛的表单控件。</p>&#13;\n<p>上网找到一款编辑起来非常方便的控件<a title=\"lvyahui\" href=\"http://handsontable.com/examples.html#fndtn-advanced\" target=\"_blank\">handsontable</a>，这个表单控件可以支持excel中的多种操作，比如多行复制粘贴，ctrl+z撤销，ctr+r重做等等。但是这个插件对数据的提交和数据的校验做的并不好。于是自己对这个插件进一步封装成为一个控件。</p>&#13;\n<p><span style=\"color: #ff0000;\">写好后的控件</span><span style=\"font-size: 16px;\"><a title=\"lvyahui\" href=\"http://movesun.com/test/data-table\" target=\"_blank\">演示地址</a></span></p>&#13;\n<h2>目标</h2>&#13;\n<p>控件希望至少做到的下几点</p>&#13;\n<ol><li>当某一行有单元格发生变化时，自动校验这一行的数据，如果校验成功，将数据post到一个save url，post能绑定固定参数。</li>&#13;\n<li>当有多行发生变化时，依次校验各行，依次提交校验通过的数据。</li>&#13;\n<li>当最后一行数据发生变化时，不管是否已经提交，都立即在后面追加一行。</li>&#13;\n<li>当保存的行是新建的时候，要将响应的记录ID更新到table上。</li>&#13;\n<li>绑定table.render刷新事件，当刷新时间被触发时，重新渲染列表。</li>&#13;\n<li>绑定add.table_id事件，事件将绑定一行新的数据（由触发的时候传递过来），响应事件时，将这行新的记录追加到表格中。</li>&#13;\n<li>选择多行快速删除，get一个请求传递参数ids（逗号分隔id）</li>&#13;\n</ol><h2>使用</h2>&#13;\n<p>首先看看如何使用这个控件，只需要像下面这样</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #0000ff;\">&lt;?</span><span style=\"color: #ff00ff;\">php&#13;\n$data = array(&#13;\n        \'rows\'   =&gt;  array(&#13;\n                array(\'id\'=&gt;1,\'username\'=&gt;\'lvyahui\',\'email\'=&gt;\'devlyh@163.com\',\'phone\'=&gt;\'9999\',\'group\'=&gt;\'组1\',\'group_id\'=&gt;1),&#13;\n                array(\'id\'=&gt;2,\'username\'=&gt;\'lvyahui\',\'email\'=&gt;\'devlyh@163.com\',\'phone\'=&gt;\'9999\',\'group\'=&gt;\'组2\',\'group_id\'=&gt;2),&#13;\n                array(\'id\'=&gt;3,\'username\'=&gt;\'lvyahui\',\'email\'=&gt;\'devlyh@163.com\',\'phone\'=&gt;\'9999\',\'group\'=&gt;\'组1\',\'group_id\'=&gt;1),&#13;\n                array(\'id\'=&gt;4,\'username\'=&gt;\'lvyahui\',\'email\'=&gt;\'devlyh@163.com\',\'phone\'=&gt;\'9999\',\'group\'=&gt;\'组3\',\'group_id\'=&gt;3),&#13;\n        ),&#13;\n);&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">?&gt;</span>&#13;\n&#13;\n<span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">div </span><span style=\"color: #ff0000;\">id</span><span style=\"color: #0000ff;\">=\"dataTable\"</span><span style=\"color: #0000ff;\">&gt;</span>&#13;\n&#13;\n<span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">div</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"color: #000000;\">&#13;\n{{HTML::script(\'js/handsontable.full.min.js\')}}&#13;\n{{HTML::style(\'css/handsontable.full.min.css\')}}&#13;\n{{HTML::script(\'js/editTable.js\')}}&#13;\n</span><span style=\"color: #0000ff;\">&lt;</span><span style=\"color: #800000;\">script</span><span style=\"color: #0000ff;\">&gt;</span><span style=\"background-color: #f5f5f5; color: #000000;\">&#13;\n    $(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">#dataTable</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">).initEdit({&#13;\n        rows    :  JSON.parse(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">&lt;?=json_encode($data[</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">rows</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">])?&gt;</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">),&#13;\n        colHeaders :   [</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">ID</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">用户名</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">邮箱</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">电话号码</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">],&#13;\n        columns :   {&#13;\n            id  :   {&#13;\n                readOnly    :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">&#13;\n            },&#13;\n            username : {&#13;\n                label   :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">用户名</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n                required    :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n                validator  :    </span><span style=\"background-color: #f5f5f5; color: #000000;\">/</span><span style=\"background-color: #f5f5f5; color: #000000;\">^\\w+$</span><span style=\"background-color: #f5f5f5; color: #000000;\">/</span><span style=\"background-color: #f5f5f5; color: #000000;\">&#13;\n            },&#13;\n            email :{&#13;\n                required    :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n                </span><span style=\"background-color: #f5f5f5; color: #008000;\">//</span><span style=\"background-color: #f5f5f5; color: #008000;\">validator  :    /^\\w+$/</span>&#13;\n<span style=\"background-color: #f5f5f5; color: #000000;\">                editor: </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">select</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n                selectOptions : [</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">lvyahui8@126.com</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">devlyh@163.com</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">]&#13;\n            },&#13;\n            phone :{&#13;\n                validator  :    </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">function</span><span style=\"background-color: #f5f5f5; color: #000000;\">(value,callback){&#13;\n                    </span><span style=\"background-color: #f5f5f5; color: #008000;\">//</span><span style=\"background-color: #f5f5f5; color: #008000;\">return value.length &gt; 1;</span>&#13;\n<span style=\"background-color: #f5f5f5; color: #000000;\">                    callback(</span><span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">);&#13;\n                    </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">return</span> <span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">;&#13;\n                },&#13;\n                allowVaild  :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">&#13;\n            },&#13;\n            group  :    {&#13;\n                required    :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n                editor: </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">select</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n                selectOptions : [</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">组1</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">组2</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">组3</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">]&#13;\n            }&#13;\n        },&#13;\n&#13;\n        bindData    :   {&#13;\n            cus :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">1</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n            category_id :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">2</span><span style=\"background-color: #f5f5f5; color: #000000;\">&#13;\n        },&#13;\n&#13;\n        beforeSave  :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">function</span><span style=\"background-color: #f5f5f5; color: #000000;\">(data){&#13;\n            </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">var</span><span style=\"background-color: #f5f5f5; color: #000000;\"> groups </span><span style=\"background-color: #f5f5f5; color: #000000;\">=</span><span style=\"background-color: #f5f5f5; color: #000000;\"> [{name:</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">组1</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,id:</span><span style=\"background-color: #f5f5f5; color: #000000;\">1</span><span style=\"background-color: #f5f5f5; color: #000000;\">},{name:</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">组2</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,id:</span><span style=\"background-color: #f5f5f5; color: #000000;\">2</span><span style=\"background-color: #f5f5f5; color: #000000;\">},{name:</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">组3</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,id:</span><span style=\"background-color: #f5f5f5; color: #000000;\">3</span><span style=\"background-color: #f5f5f5; color: #000000;\">}];&#13;\n            </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">var</span><span style=\"background-color: #f5f5f5; color: #000000;\"> has </span><span style=\"background-color: #f5f5f5; color: #000000;\">=</span><span style=\"background-color: #f5f5f5; color: #000000;\"> groups.filter(</span><span style=\"background-color: #f5f5f5; color: #0000ff;\">function</span><span style=\"background-color: #f5f5f5; color: #000000;\">(item){&#13;\n               </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">if</span><span style=\"background-color: #f5f5f5; color: #000000;\">(item.name </span><span style=\"background-color: #f5f5f5; color: #000000;\">==</span><span style=\"background-color: #f5f5f5; color: #000000;\"> data.group){&#13;\n                   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">return</span> <span style=\"background-color: #f5f5f5; color: #0000ff;\">true</span><span style=\"background-color: #f5f5f5; color: #000000;\">;&#13;\n               }</span><span style=\"background-color: #f5f5f5; color: #0000ff;\">else</span><span style=\"background-color: #f5f5f5; color: #000000;\">{&#13;\n                    </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">return</span> <span style=\"background-color: #f5f5f5; color: #0000ff;\">false</span><span style=\"background-color: #f5f5f5; color: #000000;\">;&#13;\n               }&#13;\n            });&#13;\n            </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">if</span><span style=\"background-color: #f5f5f5; color: #000000;\">(has.length </span><span style=\"background-color: #f5f5f5; color: #000000;\">&gt;</span> <span style=\"background-color: #f5f5f5; color: #000000;\">0</span><span style=\"background-color: #f5f5f5; color: #000000;\">){&#13;\n                data.group_id </span><span style=\"background-color: #f5f5f5; color: #000000;\">=</span><span style=\"background-color: #f5f5f5; color: #000000;\"> has[</span><span style=\"background-color: #f5f5f5; color: #000000;\">0</span><span style=\"background-color: #f5f5f5; color: #000000;\">].id;&#13;\n            }&#13;\n            </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">return</span><span style=\"background-color: #f5f5f5; color: #000000;\"> data;&#13;\n        },&#13;\n&#13;\n        afterSave   :   </span><span style=\"background-color: #f5f5f5; color: #0000ff;\">function</span><span style=\"background-color: #f5f5f5; color: #000000;\">(resp){&#13;\n&#13;\n        },&#13;\n&#13;\n        url         :   {&#13;\n            save    :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">&lt;?=URL::to(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">test</span><span style=\"background-color: #f5f5f5; color: #000000;\">/</span><span style=\"background-color: #f5f5f5; color: #000000;\">table-row\')?&gt;\',</span>&#13;\n            <span style=\"background-color: #f5f5f5; color: #0000ff;\">delete</span><span style=\"background-color: #f5f5f5; color: #000000;\">  :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">&lt;?=URL::to(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">test</span><span style=\"background-color: #f5f5f5; color: #000000;\">/</span><span style=\"background-color: #f5f5f5; color: #000000;\">table-delete\')?&gt;\'</span>&#13;\n<span style=\"background-color: #f5f5f5; color: #000000;\">        }&#13;\n    });&#13;\n    $(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">body</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">).trigger(</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">add.dataTable</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,{&#13;\n        id  :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">111</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n        username    :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">devlyh</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n        email   :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">lvyahui@126.com</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n        phone   :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">100000</span><span style=\"background-color: #f5f5f5; color: #000000;\">\'</span><span style=\"background-color: #f5f5f5; color: #000000;\">,&#13;\n        gourp_id    :   </span><span style=\"background-color: #f5f5f5; color: #000000;\">1</span><span style=\"background-color: #f5f5f5; color: #000000;\">&#13;\n    });&#13;\n&#13;\n</span><span style=\"color: #0000ff;\">&lt;/</span><span style=\"color: #800000;\">script</span><span style=\"color: #0000ff;\">&gt;</span></pre>&#13;\n</div>&#13;\n<p>上面的代码体现了设计思路，提交数据的时候，提交的是rows的某一行，显示的时候，只显示columns中有的属性。对于关系型数据，可以在提交数据之前将关系数据绑定提交。最下面触发的add.table_id（之所以事件跟一个table_id是为了保证一个页面有多个这个table的时候不冲突）事件，新增了一条数据。</p>&#13;\n<p>你就可以看到生成了这样一个表格。</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201510/635249-20151019110738755-1654521418.png\" alt=\"\"/></p>&#13;\n<p>下面以一个实际的例子为例</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;div class=\"table\" id=\"editTable\"&gt;&lt;/div&gt;&#13;\n<span style=\"color: #008080;\"> 2</span> {{HTML::script(\'js/handsontable.full.min.js\'<span style=\"color: #000000;\">)}}&#13;\n</span><span style=\"color: #008080;\"> 3</span> {{HTML::style(\'css/handsontable.full.min.css\'<span style=\"color: #000000;\">)}}&#13;\n</span><span style=\"color: #008080;\"> 4</span> {{HTML::script(\'js/editTable.js\'<span style=\"color: #000000;\">)}}&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> &lt;script&gt;&#13;\n<span style=\"color: #008080;\"> 7</span>     $(\'#editTable\'<span style=\"color: #000000;\">).initEdit({&#13;\n</span><span style=\"color: #008080;\"> 8</span>         rows    :  [&lt;?= implode(\",\",array_map(<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">($item){&#13;\n</span><span style=\"color: #008080;\"> 9</span>             <span style=\"color: #0000ff;\">return</span> \"{id:$item-&gt;id,serial:\'$item-&gt;serial\',name:\'$item-&gt;name\',store:\'$item-&gt;store\',ship_time:\'$item-&gt;ship_time\',number:$item-&gt;number}\"<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">10</span>         },$model-&gt;items-&gt;all()));?&gt;<span style=\"color: #000000;\">],&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #000000;\">        columns :   {&#13;\n</span><span style=\"color: #008080;\">12</span> <span style=\"color: #000000;\">            id  :   {&#13;\n</span><span style=\"color: #008080;\">13</span>                 label       :   \'ID\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">14</span>                 readOnly    :   <span style=\"color: #0000ff;\">true</span>&#13;\n<span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">            store : {&#13;\n</span><span style=\"color: #008080;\">17</span>                 label   :   \'PO #\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">18</span>                 required:   <span style=\"color: #0000ff;\">true</span>&#13;\n<span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">            serial : {&#13;\n</span><span style=\"color: #008080;\">21</span>                 label   :   \'产品ID\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">22</span>                 required    :   <span style=\"color: #0000ff;\">true</span>&#13;\n<span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\">24</span> &#13;\n<span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">            name :{&#13;\n</span><span style=\"color: #008080;\">26</span>                 label       :   \'产品名称\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">27</span>                 required    :   <span style=\"color: #0000ff;\">true</span>&#13;\n<span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\">29</span> &#13;\n<span style=\"color: #008080;\">30</span> <span style=\"color: #000000;\">            description: {&#13;\n</span><span style=\"color: #008080;\">31</span>                 label       : \'产品描述\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">32</span>                 required    : <span style=\"color: #0000ff;\">false</span>&#13;\n<span style=\"color: #008080;\">33</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\">34</span> &#13;\n<span style=\"color: #008080;\">35</span> <span style=\"color: #000000;\">            ship_time   :   {&#13;\n</span><span style=\"color: #008080;\">36</span>                 label       :   \'发货截止时间\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">37</span>                 required    :   <span style=\"color: #0000ff;\">true</span>&#13;\n<span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">            number  :    {&#13;\n</span><span style=\"color: #008080;\">40</span>                 label       :   \'数量\'<span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">41</span>                 required    :   <span style=\"color: #0000ff;\">true</span>&#13;\n<span style=\"color: #008080;\">42</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">43</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">44</span> <span style=\"color: #000000;\">        bindData    :   {&#13;\n</span><span style=\"color: #008080;\">45</span>             customer_orders_id :   \'&lt;?=$model-&gt;id?&gt;\'&#13;\n<span style=\"color: #008080;\">46</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">47</span> <span style=\"color: #000000;\">        url         :   {&#13;\n</span><span style=\"color: #008080;\">48</span>             save    :   \'&lt;?=URL::to(\'customerOrderItem/edit\')?&gt;\',&#13;\n<span style=\"color: #008080;\">49</span>             <span style=\"color: #0000ff;\">delete</span>  :   \'&lt;?=URL::to(\'customerOrderItem/delete\')?&gt;\'&#13;\n<span style=\"color: #008080;\">50</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">    });&#13;\n</span><span style=\"color: #008080;\">52</span> &lt;/script&gt;</pre>&#13;\n</div>&#13;\n<h2><span style=\"line-height: 1.5;\">效果</span></h2>&#13;\n<p><span style=\"line-height: 1.5;\">生成的表单就像这样</span></p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201510/635249-20151019113415645-1260373408.png\" alt=\"\"/></p>&#13;\n<p>下面来批量新建，可以看到但出现两行符合要求是，向后台post了两个请求，请求响应了成功，将ID更新到单元格</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201510/635249-20151019113455380-989306900.gif\" alt=\"\"/></p>&#13;\n<p>修改单元格</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201510/635249-20151019114220427-1553896998.gif\" alt=\"\"/></p>&#13;\n<p> </p>&#13;\n<p>触发add.table_id事件，向表格添加一行数据</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> $(\"body\").delegate(\".select-item\", \"click\", <span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\"> (e) {&#13;\n</span><span style=\"color: #008080;\"> 2</span>     <span style=\"color: #0000ff;\">var</span> m = $(\"#add-product\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 3</span>     $.get($(<span style=\"color: #0000ff;\">this</span>).attr(\'href\')+\'&amp;type=\'+$that.data(\'type\'),<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(resp){&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #000000;\">        console.log(resp);&#13;\n</span><span style=\"color: #008080;\"> 5</span>         resp.number = resp.number || 0<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span>         <span style=\"color: #ff0000;\">$(\'body\').trigger(\'add.\'+$that.data(\'table\'),resp);&#13;\n</span><span style=\"color: #008080;\"> 7</span>         m.modal(\'hide\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 8</span>     },\"json\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 9</span>     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">10</span> });</pre>&#13;\n</div>&#13;\n<p>触发刷新</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>$(\'.order-item\').one(\'shown.bs.collapse\',<span style=\"color: #0000ff;\">function</span><span style=\"color: #000000;\">(){&#13;\n    $(</span>\'div.edit-table\').trigger(\'table.render\'<span style=\"color: #000000;\">);&#13;\n});</span></pre>&#13;\n</div>&#13;\n<p>多行删除，这里因为后台还没做，所以会报错，但是数据时请求到了delete url上的</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201510/635249-20151019115132067-745551708.gif\" alt=\"\"/></p>&#13;\n<h2>代码</h2>&#13;\n<p>下面是这个控件的核心代码。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">  2</span> <span style=\"color: #008000;\">* editTable.js&#13;\n</span><span style=\"color: #008080;\">  3</span> <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">  4</span> ;(function($,<span style=\"color: #0000ff;\">global</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">  5</span> &#13;\n<span style=\"color: #008080;\">  6</span>     <span style=\"color: #0000ff;\">var</span> objToArray =<span style=\"color: #000000;\"> function(obj){&#13;\n</span><span style=\"color: #008080;\">  7</span>         <span style=\"color: #0000ff;\">var</span> arr =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">  8</span>         <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">var</span> x <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> obj){&#13;\n</span><span style=\"color: #008080;\">  9</span> <span style=\"color: #000000;\">            arr.push(obj[x]);&#13;\n</span><span style=\"color: #008080;\"> 10</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 11</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> arr;&#13;\n</span><span style=\"color: #008080;\"> 12</span> <span style=\"color: #000000;\">    },&#13;\n</span><span style=\"color: #008080;\"> 13</span>         requiredRender =<span style=\"color: #000000;\"> function(hot, td, row, col, prop, value, cellProperties){&#13;\n</span><span style=\"color: #008080;\"> 14</span>             Handsontable.renderers.TextRenderer.apply(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">, arguments);&#13;\n</span><span style=\"color: #008080;\"> 15</span>             td.className += <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">required</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 16</span>             <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">td.style.backgroundColor = \'yellow\';</span>&#13;\n<span style=\"color: #008080;\"> 17</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\"> 18</span> &#13;\n<span style=\"color: #008080;\"> 19</span>     <span style=\"color: #0000ff;\">var</span> ExcelTable =<span style=\"color: #000000;\"> function(element,options){&#13;\n</span><span style=\"color: #008080;\"> 20</span>         <span style=\"color: #0000ff;\">var</span> that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 21</span> &#13;\n<span style=\"color: #008080;\"> 22</span>         <span style=\"color: #0000ff;\">this</span>.element =<span style=\"color: #000000;\"> element;&#13;\n</span><span style=\"color: #008080;\"> 23</span>         <span style=\"color: #0000ff;\">this</span>.hot = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 24</span>         <span style=\"color: #0000ff;\">this</span>.edit = <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 25</span>         <span style=\"color: #0000ff;\">this</span>.defaults =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 26</span> <span style=\"color: #000000;\">            bindData    :   {},&#13;\n</span><span style=\"color: #008080;\"> 27</span> <span style=\"color: #000000;\">            rows        :   [],&#13;\n</span><span style=\"color: #008080;\"> 28</span> <span style=\"color: #000000;\">            url         :   {&#13;\n</span><span style=\"color: #008080;\"> 29</span>                 save    :   <span style=\"color: #800000;\">\'\'</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 30</span>                 delete  :   <span style=\"color: #800000;\">\'\'</span>&#13;\n<span style=\"color: #008080;\"> 31</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\"> 32</span> <span style=\"color: #000000;\">            columns     :   {},&#13;\n</span><span style=\"color: #008080;\"> 33</span>             tableClassName : <span style=\"color: #800000;\">\'\'</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 34</span> <span style=\"color: #000000;\">            afterSave   :   function(resp){},&#13;\n</span><span style=\"color: #008080;\"> 35</span> <span style=\"color: #000000;\">            beforeSave  :   function(data){}&#13;\n</span><span style=\"color: #008080;\"> 36</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\"> 37</span> &#13;\n<span style=\"color: #008080;\"> 38</span>         <span style=\"color: #0000ff;\">this</span>.options = $.extend({},<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.defaults,options);&#13;\n</span><span style=\"color: #008080;\"> 39</span>         <span style=\"color: #0000ff;\">this</span>.rows = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.rows;&#13;\n</span><span style=\"color: #008080;\"> 40</span>         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">this.cols = objToArray(that.options.columns);</span>&#13;\n<span style=\"color: #008080;\"> 41</span>         <span style=\"color: #0000ff;\">var</span> colHeaders =<span style=\"color: #000000;\"> [],&#13;\n</span><span style=\"color: #008080;\"> 42</span>             columns =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\"> 43</span>         <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">var</span> x <span style=\"color: #0000ff;\">in</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.columns){&#13;\n</span><span style=\"color: #008080;\"> 44</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">this</span>.options.columns[x].hasOwnProperty(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">label</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">)){&#13;\n</span><span style=\"color: #008080;\"> 45</span>                 colHeaders.push(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.columns[x].label);&#13;\n</span><span style=\"color: #008080;\"> 46</span>             }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\"> 47</span> <span style=\"color: #000000;\">                colHeaders.push(x);&#13;\n</span><span style=\"color: #008080;\"> 48</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 49</span>             columns.push($.extend({data:x},<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.columns[x]));&#13;\n</span><span style=\"color: #008080;\"> 50</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 51</span>         <span style=\"color: #0000ff;\">this</span>.cols =<span style=\"color: #000000;\"> columns;&#13;\n</span><span style=\"color: #008080;\"> 52</span>         <span style=\"color: #0000ff;\">var</span> hotOptions =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 53</span> <span style=\"color: #000000;\">            data        :   options.rows,&#13;\n</span><span style=\"color: #008080;\"> 54</span> <span style=\"color: #000000;\">            colHeaders  :   colHeaders,&#13;\n</span><span style=\"color: #008080;\"> 55</span> <span style=\"color: #000000;\">            afterChange :   function(changes,source){&#13;\n</span><span style=\"color: #008080;\"> 56</span>                 <span style=\"color: #0000ff;\">if</span>(source !== <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">loadData</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 57</span> <span style=\"color: #000000;\">                    that.save(changes);&#13;\n</span><span style=\"color: #008080;\"> 58</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\"> 59</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\"> 60</span> <span style=\"color: #000000;\">            beforeRemoveRow:function(index,amount){&#13;\n</span><span style=\"color: #008080;\"> 61</span> <span style=\"color: #000000;\">                that.delete(index,amount);&#13;\n</span><span style=\"color: #008080;\"> 62</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\"> 63</span> <span style=\"color: #000000;\">            columns     :  columns ,&#13;\n</span><span style=\"color: #008080;\"> 64</span>             minSpareRows:   <span style=\"color: #800080;\">1</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 65</span>             contextMenu: [<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">remove_row</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">],&#13;\n</span><span style=\"color: #008080;\"> 66</span> <span style=\"color: #000000;\">            cells: function (row, col, prop) {&#13;\n</span><span style=\"color: #008080;\"> 67</span>                 <span style=\"color: #0000ff;\">if</span>(col &lt; that.cols.length &amp;&amp;<span style=\"color: #000000;\"> that.cols[col].required){&#13;\n</span><span style=\"color: #008080;\"> 68</span>                     <span style=\"color: #0000ff;\">this</span>.renderer =<span style=\"color: #000000;\"> requiredRender;&#13;\n</span><span style=\"color: #008080;\"> 69</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\"> 70</span> <span style=\"color: #000000;\">            },&#13;\n</span><span style=\"color: #008080;\"> 71</span>             tableClassName  :   <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.tableClassName,&#13;\n</span><span style=\"color: #008080;\"> 72</span>             width   :   <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">100%</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 73</span>             stretchH: <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">all</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\"> 74</span>             colWidths   :   <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.colWidths&#13;\n</span><span style=\"color: #008080;\"> 75</span> <span style=\"color: #000000;\">        };&#13;\n</span><span style=\"color: #008080;\"> 76</span> &#13;\n<span style=\"color: #008080;\"> 77</span>         <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">typeof</span> Handsontable === <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">function</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 78</span>             <span style=\"color: #0000ff;\">this</span>.hot = <span style=\"color: #0000ff;\">new</span> Handsontable(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.element,hotOptions);&#13;\n</span><span style=\"color: #008080;\"> 79</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\"> 80</span> &#13;\n<span style=\"color: #008080;\"> 81</span>         $(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">body</span><span style=\"color: #800000;\">\'</span>).bind(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">add.</span><span style=\"color: #800000;\">\'</span>+$(element).attr(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">id</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">),function(e,row){&#13;\n</span><span style=\"color: #008080;\"> 82</span>             that.rows.splice(that.rows.length-<span style=\"color: #800080;\">1</span>,<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">,row);&#13;\n</span><span style=\"color: #008080;\"> 83</span> <span style=\"color: #000000;\">            that.hot.render();&#13;\n</span><span style=\"color: #008080;\"> 84</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\"> 85</span>         $(element).bind(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">table.render</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">,function(){&#13;\n</span><span style=\"color: #008080;\"> 86</span> <span style=\"color: #000000;\">            that.hot.render();&#13;\n</span><span style=\"color: #008080;\"> 87</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\"> 88</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\"> 89</span> &#13;\n<span style=\"color: #008080;\"> 90</span>     ExcelTable.prototype =<span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\"> 91</span> <span style=\"color: #000000;\">        constructor :   ExcelTable,&#13;\n</span><span style=\"color: #008080;\"> 92</span> <span style=\"color: #000000;\">        post    :   function(data){&#13;\n</span><span style=\"color: #008080;\"> 93</span>             <span style=\"color: #0000ff;\">var</span> that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 94</span>             <span style=\"color: #0000ff;\">var</span> ret = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.beforeSave(data);&#13;\n</span><span style=\"color: #008080;\"> 95</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">typeof</span> ret === <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">object</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\"> 96</span>                 data =<span style=\"color: #000000;\"> ret;&#13;\n</span><span style=\"color: #008080;\"> 97</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\"> 98</span>             <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(data.id){&#13;\n</span><span style=\"color: #008080;\"> 99</span>                 data.action = <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">edit</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">100</span>             }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">101</span>                 data.id = <span style=\"color: #800000;\">\'\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">102</span>                 data.action = <span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">edit</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">103</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">104</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.url.save){&#13;\n</span><span style=\"color: #008080;\">105</span>                 $.post(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.url.save,data,function(resp){&#13;\n</span><span style=\"color: #008080;\">106</span>                     <span style=\"color: #0000ff;\">if</span>(!data.id &amp;&amp; resp.id !== <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">107</span>                         <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\"> 新建了记录，重新渲染</span>&#13;\n<span style=\"color: #008080;\">108</span>                         that.options.rows[resp.index].id =<span style=\"color: #000000;\"> resp.id;&#13;\n</span><span style=\"color: #008080;\">109</span> <span style=\"color: #000000;\">                        that.hot.render();&#13;\n</span><span style=\"color: #008080;\">110</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">111</span> <span style=\"color: #000000;\">                    that.options.afterSave(resp);&#13;\n</span><span style=\"color: #008080;\">112</span>                 },<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">json</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">113</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">114</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">115</span> <span style=\"color: #000000;\">        getDelete   :   function(ids){&#13;\n</span><span style=\"color: #008080;\">116</span>             <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.options.url.delete){&#13;\n</span><span style=\"color: #008080;\">117</span>                 $.<span style=\"color: #0000ff;\">get</span>(<span style=\"color: #0000ff;\">this</span>.options.url.delete+<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">?id=</span><span style=\"color: #800000;\">\'</span>+<span style=\"color: #000000;\">ids,function(resp){&#13;\n</span><span style=\"color: #008080;\">118</span> &#13;\n<span style=\"color: #008080;\">119</span> <span style=\"color: #000000;\">                });&#13;\n</span><span style=\"color: #008080;\">120</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">121</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">122</span> <span style=\"color: #000000;\">        save    :   function(cells){&#13;\n</span><span style=\"color: #008080;\">123</span>             <span style=\"color: #0000ff;\">var</span> that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,&#13;\n</span><span style=\"color: #008080;\">124</span>                 rows =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">125</span> <span style=\"color: #000000;\">            cells.forEach(function(cell){&#13;\n</span><span style=\"color: #008080;\">126</span>                 <span style=\"color: #0000ff;\">if</span>(cell[<span style=\"color: #800080;\">2</span>] !== cell[<span style=\"color: #800080;\">3</span><span style=\"color: #000000;\">]){&#13;\n</span><span style=\"color: #008080;\">127</span>                     rows[cell[<span style=\"color: #800080;\">0</span>]] = cell[<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">];&#13;\n</span><span style=\"color: #008080;\">128</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">129</span> <span style=\"color: #000000;\">            });&#13;\n</span><span style=\"color: #008080;\">130</span> <span style=\"color: #000000;\">            rows.forEach(function(rowIndex){&#13;\n</span><span style=\"color: #008080;\">131</span>                 <span style=\"color: #0000ff;\">var</span> row =<span style=\"color: #000000;\"> that.rows[rowIndex],&#13;\n</span><span style=\"color: #008080;\">132</span>                     data =<span style=\"color: #000000;\"> $.extend(row,that.options.bindData);&#13;\n</span><span style=\"color: #008080;\">133</span>                 data.index =<span style=\"color: #000000;\"> rowIndex;&#13;\n</span><span style=\"color: #008080;\">134</span>                 <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(that.validate(row)){&#13;\n</span><span style=\"color: #008080;\">135</span> <span style=\"color: #000000;\">                    console.log(data);&#13;\n</span><span style=\"color: #008080;\">136</span> <span style=\"color: #000000;\">                    that.post(data);&#13;\n</span><span style=\"color: #008080;\">137</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">138</span> <span style=\"color: #000000;\">            });&#13;\n</span><span style=\"color: #008080;\">139</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">140</span> <span style=\"color: #000000;\">        delete  :   function(start,amount){&#13;\n</span><span style=\"color: #008080;\">141</span>             <span style=\"color: #0000ff;\">var</span> ids =<span style=\"color: #000000;\"> [];&#13;\n</span><span style=\"color: #008080;\">142</span>             <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">var</span> x = start;x &lt; start + amount;x++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">143</span>                 ids.push(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.rows[x].id);&#13;\n</span><span style=\"color: #008080;\">144</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">145</span>             <span style=\"color: #0000ff;\">this</span>.getDelete(ids.join(<span style=\"color: #800000;\">\'</span><span style=\"color: #800000;\">,</span><span style=\"color: #800000;\">\'</span><span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">146</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">147</span> <span style=\"color: #000000;\">        validate   :   function(row){&#13;\n</span><span style=\"color: #008080;\">148</span>             <span style=\"color: #0000ff;\">var</span> that = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">149</span>             <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> that.cols.filter(function(col,index){&#13;\n</span><span style=\"color: #008080;\">150</span>                     <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(row.hasOwnProperty(col.data)){&#13;\n</span><span style=\"color: #008080;\">151</span>                         <span style=\"color: #0000ff;\">var</span> valitator = that.hot.getCellValidator(<span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">,index);&#13;\n</span><span style=\"color: #008080;\">152</span>                         <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(col.required){&#13;\n</span><span style=\"color: #008080;\">153</span>                             <span style=\"color: #0000ff;\">if</span>(!row[col.data]) <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">154</span>                             <span style=\"color: #0000ff;\">if</span><span style=\"color: #000000;\">(valitator){&#13;\n</span><span style=\"color: #008080;\">155</span>                                 <span style=\"color: #0000ff;\">return</span> !<span style=\"color: #000000;\">that.execValidator(valitator,row[col.data]);&#13;\n</span><span style=\"color: #008080;\">156</span> <span style=\"color: #000000;\">                            }&#13;\n</span><span style=\"color: #008080;\">157</span>                             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">158</span>                         }<span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(row[col.data] &amp;&amp;<span style=\"color: #000000;\"> valitator){&#13;\n</span><span style=\"color: #008080;\">159</span>                             <span style=\"color: #0000ff;\">return</span> !<span style=\"color: #000000;\">that.execValidator(valitator,row[col.data]);&#13;\n</span><span style=\"color: #008080;\">160</span>                         }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">161</span>                             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">162</span> <span style=\"color: #000000;\">                        }&#13;\n</span><span style=\"color: #008080;\">163</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">164</span>                     <span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">165</span>                         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">166</span> <span style=\"color: #000000;\">                    }&#13;\n</span><span style=\"color: #008080;\">167</span>                 }).length == <span style=\"color: #800080;\">0</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">168</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">169</span> <span style=\"color: #000000;\">        execValidator:function(validator,value){&#13;\n</span><span style=\"color: #008080;\">170</span>             <span style=\"color: #0000ff;\">if</span>(validator instanceof RegExp === <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">171</span>                 <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> validator.test(value);&#13;\n</span><span style=\"color: #008080;\">172</span>             }<span style=\"color: #0000ff;\">else</span> <span style=\"color: #0000ff;\">if</span>(<span style=\"color: #0000ff;\">typeof</span>  validator === <span style=\"color: #800000;\">\"</span><span style=\"color: #800000;\">function</span><span style=\"color: #800000;\">\"</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">173</span>                 <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> validator(value,function(){});&#13;\n</span><span style=\"color: #008080;\">174</span>             }<span style=\"color: #0000ff;\">else</span><span style=\"color: #000000;\">{&#13;\n</span><span style=\"color: #008080;\">175</span>                 <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">176</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">177</span> <span style=\"color: #000000;\">        },&#13;\n</span><span style=\"color: #008080;\">178</span> &#13;\n<span style=\"color: #008080;\">179</span> <span style=\"color: #000000;\">        isEmptyRow  :   function(rowIndex){&#13;\n</span><span style=\"color: #008080;\">180</span>             <span style=\"color: #0000ff;\">var</span> rowData = <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.hot.getData()[rowIndex];&#13;\n</span><span style=\"color: #008080;\">181</span> &#13;\n<span style=\"color: #008080;\">182</span>             <span style=\"color: #0000ff;\">for</span> (<span style=\"color: #0000ff;\">var</span> i = <span style=\"color: #800080;\">0</span>, ilen = rowData.length; i &lt; ilen; i++<span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">183</span>                 <span style=\"color: #0000ff;\">if</span> (rowData[i] !== <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">184</span>                     <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">false</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">185</span> <span style=\"color: #000000;\">                }&#13;\n</span><span style=\"color: #008080;\">186</span> <span style=\"color: #000000;\">            }&#13;\n</span><span style=\"color: #008080;\">187</span>             <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">188</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">189</span> <span style=\"color: #000000;\">    };&#13;\n</span><span style=\"color: #008080;\">190</span> &#13;\n<span style=\"color: #008080;\">191</span>     $.fn.initEdit =<span style=\"color: #000000;\"> function(options){&#13;\n</span><span style=\"color: #008080;\">192</span>         <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.each(function(){&#13;\n</span><span style=\"color: #008080;\">193</span>             <span style=\"color: #0000ff;\">var</span> excelTable = <span style=\"color: #0000ff;\">new</span> ExcelTable(<span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">,options);&#13;\n</span><span style=\"color: #008080;\">194</span> <span style=\"color: #000000;\">        });&#13;\n</span><span style=\"color: #008080;\">195</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">196</span> &#13;\n<span style=\"color: #008080;\">197</span> })($ || jQuery,window);</pre>&#13;\n</div>&#13;\n<p> </p></div>',787,'2015-10-18 17:47:00','2016-07-31 10:21:57',9,'http://www.cnblogs.com/lvyahui/p/4891483.html',4891483),(510,'Java RMI（远程方法调用）开发','参考&#13;\nhttps://docs.oracle.com/javase/7/docs/platform/rmi/spec/rmi-arch2.html&#13;\nhttp://www.cnblogs.com/wxisme/p/5296441.html&#13;\nhttp://blog.','<div id=\"cnblogs_post_body\"><h2>参考</h2>&#13;\n<p>https://docs.oracle.com/javase/7/docs/platform/rmi/spec/rmi-arch2.html</p>&#13;\n<p>http://www.cnblogs.com/wxisme/p/5296441.html</p>&#13;\n<p>http://blog.csdn.net/qb2049_xg/article/details/3278672 </p>&#13;\n<p>http://classfoo.com/ccby/article/p1wgbVn</p>&#13;\n<p>http://www.cnblogs.com/yin-jingyu/archive/2012/06/14/2549361.html</p>&#13;\n<h2>RMI与RPC</h2>&#13;\n<p>RMI在我看来更像Java专属的RPC，或者说纯面向对象的RPC。跟RPC一样是分布式非常重要的内容，也是Java消息中间件的基础。</p>&#13;\n<h2>RMI原理</h2>&#13;\n<p><span style=\"color: #ff0000;\">本质就是在两处同步一个Java对象（可以基于 <code>JDK</code> 本身的对象序列化或者基于 <code>HTTP</code> 协议的数据序列化）A 和 A!，但其中一个Java对象A进行方法调用时，通过RMI的代理能力转发给另一个Java对象A!进行执行，并将A!的执行结果作为A的执行结果。这样就实现了，运算流程的分布式计算。一般这两个对象存在于两台机器上。</span></p>&#13;\n<ol><li><span style=\"color: #ff0000;\">将可以远程调用的对象进行序列化，然后绑定到RMI Server（被调方，运行者）中作为存根（stub）</span></li>&#13;\n<li><span style=\"color: #ff0000;\">RMI Client 会先去下载stub反序列化然后发起client调用，RMI 底层（RMI Interface Layer &amp; Transport Layer）会讲请求参数封装发送到RMI Server </span></li>&#13;\n<li><span style=\"color: #ff0000;\">RMI Server 接收到封装的参数，传递给桩（skeleton），由桩解析参数并且以参数调用对应的存根（）stub方法。</span></li>&#13;\n<li><span style=\"color: #ff0000;\">存根方法在RMI Server执行完毕之后，返回结果将被RMI底层封装并传输给RMI Client（也就是主调方，调用者）</span></li>&#13;\n</ol><p><span style=\"color: #ff0000;\">目前的Java版本已经不需要创建skeleton，也不需要rmic来编译stub了，但是我学习的时候还是使用的rmic编译的stub，所以示例也是这样做的。</span></p>&#13;\n<h2>RMI Server编写</h2>&#13;\n<p>编写RMI Server Interface，这个也会被用在客户端（RMI Client），供客户端使用。列出了开放远程调用的接口</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.server;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.Remote;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.RemoteException;&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/22.&#13;\n</span><span style=\"color: #008080;\"> 8</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">interface</span> ITimeServer <span style=\"color: #0000ff;\">extends</span><span style=\"color: #000000;\"> Remote {&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">long</span> getServerTime() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException;&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">int</span> add(<span style=\"color: #0000ff;\">int</span> a,<span style=\"color: #0000ff;\">int</span> b) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException;&#13;\n</span><span style=\"color: #008080;\">12</span> }</pre>&#13;\n</div>&#13;\n<p>编写时间Server 接口</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.server.impl;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.lyh.server.ITimeServer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.RemoteException;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.server.RMIClientSocketFactory;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.server.RMIServerSocketFactory;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.server.UnicastRemoteObject;&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/22.&#13;\n</span><span style=\"color: #008080;\">12</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span> TimeServer <span style=\"color: #0000ff;\">extends</span> UnicastRemoteObject <span style=\"color: #0000ff;\">implements</span><span style=\"color: #000000;\"> ITimeServer {&#13;\n</span><span style=\"color: #008080;\">14</span> &#13;\n<span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">public</span> TimeServer(<span style=\"color: #0000ff;\">int</span> port) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException {&#13;\n</span><span style=\"color: #008080;\">16</span>         <span style=\"color: #0000ff;\">super</span><span style=\"color: #000000;\">(port);&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">18</span> &#13;\n<span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">public</span> TimeServer() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException {&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">public</span> TimeServer(<span style=\"color: #0000ff;\">int</span> port, RMIClientSocketFactory csf, RMIServerSocketFactory ssf) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException {&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">super</span><span style=\"color: #000000;\">(port, csf, ssf);&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span> &#13;\n<span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">    @Override&#13;\n</span><span style=\"color: #008080;\">27</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">long</span> getServerTime() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException {&#13;\n</span><span style=\"color: #008080;\">28</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> System.currentTimeMillis();&#13;\n</span><span style=\"color: #008080;\">29</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span> <span style=\"color: #000000;\">    @Override&#13;\n</span><span style=\"color: #008080;\">32</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">int</span> add(<span style=\"color: #0000ff;\">int</span> a, <span style=\"color: #0000ff;\">int</span> b) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> RemoteException {&#13;\n</span><span style=\"color: #008080;\">33</span>         <span style=\"color: #0000ff;\">return</span> a +<span style=\"color: #000000;\"> b;&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">35</span> }</pre>&#13;\n</div>&#13;\n<p>将编写好的Server实现对象绑定到Java RMI的名字服务上</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.lyh.server.impl.TimeServer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.net.MalformedURLException;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.Naming;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.RemoteException;&#13;\n</span><span style=\"color: #008080;\"> 8</span> &#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Main {&#13;\n</span><span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\">11</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">12</span>             TimeServer timeServer = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> TimeServer();&#13;\n</span><span style=\"color: #008080;\">13</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 绑定到JVM 的 RMI Server上</span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">14</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            Naming.bind(\"t1\",timeServer);&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">            Naming.rebind(\"t1\",timeServer);</span>&#13;\n<span style=\"color: #008080;\">16</span>             <span style=\"color: #008000;\">/*</span><span style=\"color: #008000;\"> 当RMI注册server是指定了端口时或者不在本机运行时，需要这样写</span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">17</span>             Naming.rebind(\"//localhost/t1\"<span style=\"color: #000000;\">,timeServer);&#13;\n</span><span style=\"color: #008080;\">18</span>             System.out.println(\"Bind is Finish\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">19</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (RemoteException e) {&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">21</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (MalformedURLException e) {&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">23</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span> }</pre>&#13;\n</div>&#13;\n<p>这时，要用rmic进一步编译TimeServer.class文件，得到TimeServer_stub.class 存根对象文件。如果不用rmic编译的方式，也可以通过写代码的方式获取stub。</p>&#13;\n<p>因为我是使用IDEA开发的，所以我进入了RMI\\out\\production\\RMI目录编译，执行rmic org.lyh.server.impl.TimeServer</p>&#13;\n<p> </p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160423202804351-1441321215.png\" alt=\"\"/>、</p>&#13;\n<p>这样会在相同目录下生成TimeServer_stub.class 文件</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160423202851288-1585683958.png\" alt=\"\"/></p>&#13;\n<p><span style=\"color: #ff0000;\">然后启动RMI名字注册服务，执行 rmiregistry 命令（jdk\\bin下的一个脚本）,可以执行 rmiregistry port执行端口，否则默认就是1099</span></p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160423202953991-1585285764.png\" alt=\"\"/></p>&#13;\n<p><span style=\"color: #ff0000;\">下面可以执行org.lyh.Main@main方法了，将存根绑定（注册）到RMI 名字服务上，名字为t1</span></p>&#13;\n<h2>RMI Client编写</h2>&#13;\n<p>RMI client就简单了，拉取存根，然后发起调用，调用被传输到Server执行，并获取到执行结果，返回结果直接由接口方法return得到。</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> org.lyh.client;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.lyh.server.ITimeServer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.net.MalformedURLException;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.Naming;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.NotBoundException;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.rmi.RemoteException;&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/22.&#13;\n</span><span style=\"color: #008080;\">12</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> TimeClient {&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> main(String[] args) {&#13;\n</span><span style=\"color: #008080;\">15</span>         <span style=\"color: #0000ff;\">try</span><span style=\"color: #000000;\"> {&#13;\n</span><span style=\"color: #008080;\">16</span>            ITimeServer iTimeServer = (ITimeServer) Naming.lookup(\"rmi://192.168.18.1/t1\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">            System.out.println(iTimeServer.getServerTime());&#13;\n</span><span style=\"color: #008080;\">18</span>             System.out.println(iTimeServer.add(3,7<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">19</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (NotBoundException e) {&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">21</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (MalformedURLException e) {&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">23</span>         } <span style=\"color: #0000ff;\">catch</span><span style=\"color: #000000;\"> (RemoteException e) {&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">            e.printStackTrace();&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">27</span> }</pre>&#13;\n</div>&#13;\n<p>为了更加真实，我将这个Client上传到虚拟机上编译运行</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160423204019366-1503989846.jpg\" alt=\"\"/></p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160423203733226-103999959.png\" alt=\"\"/></p>&#13;\n<p> </p></div>',253,'2016-04-23 00:43:00','2016-07-31 10:21:58',2,'http://www.cnblogs.com/lvyahui/p/5425507.html',5425507),(511,'基于ActiveMQ的点对点收发消息','ActiveMQ是apache的一个开源消息引擎。可以作为即通引擎或者消息中间件引擎。&#13;\n准备&#13;\n下载ActiveMQ&#13;\nhttp://activemq.apache.org/download.html&#13;\n进入\\bin\\win64双击Instal','<div id=\"cnblogs_post_body\"><p>ActiveMQ是apache的一个开源消息引擎。可以作为即通引擎或者消息中间件引擎。</p>&#13;\n<h2>准备</h2>&#13;\n<p>下载ActiveMQ</p>&#13;\n<p>http://activemq.apache.org/download.html</p>&#13;\n<p>进入\\bin\\win64双击InstallService.bat安装为系统服务。然后启动这个系统服务</p>&#13;\n<p>访问 http://localhost:8161/admin/queues.jsp 可以看到消息队列列表 账号密码默认就是admin admin,配置在conf/jetty-realm.properties中</p>&#13;\n<p>然后将根目录下的activemq-all-5.13.2.jar引入项目，就可以进行开发了</p>&#13;\n<p>首先对ActiveMQ进行简单封装</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> activeMQStu;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.activemq.ActiveMQConnectionFactory;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span> javax.jms.*<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Arrays;&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/23.&#13;\n</span><span style=\"color: #008080;\">10</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> ActiveMQServer {&#13;\n</span><span style=\"color: #008080;\">12</span> &#13;\n<span style=\"color: #008080;\">13</span> &#13;\n<span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String user;&#13;\n</span><span style=\"color: #008080;\">15</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String pass;&#13;\n</span><span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String url;&#13;\n</span><span style=\"color: #008080;\">17</span> &#13;\n<span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Session session;&#13;\n</span><span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> Connection connection;&#13;\n</span><span style=\"color: #008080;\">20</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> ActiveMQConnectionFactory connectionFactory;&#13;\n</span><span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> ActiveMQConnectionFactory getConnectionFactory() {&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> connectionFactory;&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span> &#13;\n<span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">public</span> ActiveMQServer(String user, String pass, String url) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">27</span>         <span style=\"color: #0000ff;\">this</span>.user =<span style=\"color: #000000;\"> user;&#13;\n</span><span style=\"color: #008080;\">28</span>         <span style=\"color: #0000ff;\">this</span>.pass =<span style=\"color: #000000;\"> pass;&#13;\n</span><span style=\"color: #008080;\">29</span>         <span style=\"color: #0000ff;\">this</span>.url =<span style=\"color: #000000;\"> url;&#13;\n</span><span style=\"color: #008080;\">30</span> &#13;\n<span style=\"color: #008080;\">31</span>         <span style=\"color: #0000ff;\">this</span>.connectionFactory = <span style=\"color: #0000ff;\">new</span> ActiveMQConnectionFactory(<span style=\"color: #0000ff;\">this</span>.user, <span style=\"color: #0000ff;\">this</span>.pass, <span style=\"color: #0000ff;\">this</span><span style=\"color: #000000;\">.url);&#13;\n</span><span style=\"color: #008080;\">32</span>         <span style=\"color: #008000;\">/*</span>&#13;\n<span style=\"color: #008080;\">33</span> <span style=\"color: #008000;\">        * 必须指明哪些包的类是可以序列化的&#13;\n</span><span style=\"color: #008080;\">34</span> <span style=\"color: #008000;\">        * 否则会报错：ActiveMQ Serializable class not available to broker. Reason: ClassNotFoundException&#13;\n</span><span style=\"color: #008080;\">35</span> <span style=\"color: #008000;\">        * 参考：</span><span style=\"color: #008000; text-decoration: underline;\">http://activemq.apache.org/objectmessage.html</span>&#13;\n<span style=\"color: #008080;\">36</span> <span style=\"color: #008000;\">        * </span><span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">37</span>         connectionFactory.setTrustedPackages(Arrays.asList(\"activeMQStu\"<span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">38</span>         <span style=\"color: #0000ff;\">this</span>.connection =<span style=\"color: #000000;\"> connectionFactory.createConnection();&#13;\n</span><span style=\"color: #008080;\">39</span> <span style=\"color: #000000;\">        connection.start();&#13;\n</span><span style=\"color: #008080;\">40</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">41</span> &#13;\n<span style=\"color: #008080;\">42</span>     <span style=\"color: #0000ff;\">public</span> Session getSession() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">43</span>         <span style=\"color: #0000ff;\">if</span> (session == <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">44</span>             session = connection.createSession(<span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">, Session.AUTO_ACKNOWLEDGE);&#13;\n</span><span style=\"color: #008080;\">45</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">46</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> session;&#13;\n</span><span style=\"color: #008080;\">47</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">48</span> &#13;\n<span style=\"color: #008080;\">49</span>     <span style=\"color: #0000ff;\">public</span> Queue createQueue(String name) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">50</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> getSession().createQueue(name);&#13;\n</span><span style=\"color: #008080;\">51</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">52</span> &#13;\n<span style=\"color: #008080;\">53</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> close() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">54</span>         <span style=\"color: #0000ff;\">if</span> (session != <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">55</span> <span style=\"color: #000000;\">            session.commit();&#13;\n</span><span style=\"color: #008080;\">56</span> <span style=\"color: #000000;\">            session.close();&#13;\n</span><span style=\"color: #008080;\">57</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">58</span>         <span style=\"color: #0000ff;\">if</span> (connection != <span style=\"color: #0000ff;\">null</span><span style=\"color: #000000;\">) {&#13;\n</span><span style=\"color: #008080;\">59</span> <span style=\"color: #000000;\">            connection.close();&#13;\n</span><span style=\"color: #008080;\">60</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">61</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">62</span> &#13;\n<span style=\"color: #008080;\">63</span> }</pre>&#13;\n</div>&#13;\n<h2>消息</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> activeMQStu;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.io.Serializable;&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/23.&#13;\n</span><span style=\"color: #008080;\"> 7</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span> User <span style=\"color: #0000ff;\">implements</span><span style=\"color: #000000;\"> Serializable {&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String username ;&#13;\n</span><span style=\"color: #008080;\">11</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String password ;&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> String salt ;&#13;\n</span><span style=\"color: #008080;\">13</span> &#13;\n<span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String getUsername() {&#13;\n</span><span style=\"color: #008080;\">15</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> username;&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">17</span> &#13;\n<span style=\"color: #008080;\">18</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setUsername(String username) {&#13;\n</span><span style=\"color: #008080;\">19</span>         <span style=\"color: #0000ff;\">this</span>.username =<span style=\"color: #000000;\"> username;&#13;\n</span><span style=\"color: #008080;\">20</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">21</span> &#13;\n<span style=\"color: #008080;\">22</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String getPassword() {&#13;\n</span><span style=\"color: #008080;\">23</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> password;&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">25</span> &#13;\n<span style=\"color: #008080;\">26</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setPassword(String password) {&#13;\n</span><span style=\"color: #008080;\">27</span>         <span style=\"color: #0000ff;\">this</span>.password =<span style=\"color: #000000;\"> password;&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span> &#13;\n<span style=\"color: #008080;\">30</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String getSalt() {&#13;\n</span><span style=\"color: #008080;\">31</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> salt;&#13;\n</span><span style=\"color: #008080;\">32</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">33</span> &#13;\n<span style=\"color: #008080;\">34</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span><span style=\"color: #000000;\"> setSalt(String salt) {&#13;\n</span><span style=\"color: #008080;\">35</span>         <span style=\"color: #0000ff;\">this</span>.salt =<span style=\"color: #000000;\"> salt;&#13;\n</span><span style=\"color: #008080;\">36</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">37</span> &#13;\n<span style=\"color: #008080;\">38</span> <span style=\"color: #000000;\">    @Override&#13;\n</span><span style=\"color: #008080;\">39</span>     <span style=\"color: #0000ff;\">public</span><span style=\"color: #000000;\"> String toString() {&#13;\n</span><span style=\"color: #008080;\">40</span>         <span style=\"color: #0000ff;\">return</span> \"User{\" +&#13;\n<span style=\"color: #008080;\">41</span>                 \"username=\'\" + username + \'\\\'\' +&#13;\n<span style=\"color: #008080;\">42</span>                 \", password=\'\" + password + \'\\\'\' +&#13;\n<span style=\"color: #008080;\">43</span>                 \", salt=\'\" + salt + \'\\\'\' +&#13;\n<span style=\"color: #008080;\">44</span>                 \'}\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\">45</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">46</span> }</pre>&#13;\n</div>&#13;\n<h2>消息生产者</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> activeMQStu.queue;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> activeMQStu.ActiveMQServer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> activeMQStu.User;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.activemq.command.ActiveMQObjectMessage;&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.JMSException;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.MessageProducer;&#13;\n</span><span style=\"color: #008080;\"> 9</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.ObjectMessage;&#13;\n</span><span style=\"color: #008080;\">10</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.Queue;&#13;\n</span><span style=\"color: #008080;\">11</span> &#13;\n<span style=\"color: #008080;\">12</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/23.&#13;\n</span><span style=\"color: #008080;\">14</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">15</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> UserProducer {&#13;\n</span><span style=\"color: #008080;\">16</span> &#13;\n<span style=\"color: #008080;\">17</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> MessageProducer producer;&#13;\n</span><span style=\"color: #008080;\">18</span> &#13;\n<span style=\"color: #008080;\">19</span>     <span style=\"color: #0000ff;\">public</span> UserProducer(ActiveMQServer activeMQServer, String queueName) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">20</span>         Queue queue =<span style=\"color: #000000;\"> activeMQServer.createQueue(queueName);&#13;\n</span><span style=\"color: #008080;\">21</span>         producer =<span style=\"color: #000000;\"> activeMQServer.getSession().createProducer(queue);&#13;\n</span><span style=\"color: #008080;\">22</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">23</span> &#13;\n<span style=\"color: #008080;\">24</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">void</span> produce(User user) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">25</span>         ObjectMessage objectMessage = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ActiveMQObjectMessage();&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">        objectMessage.setObject(user);&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">        producer.send(objectMessage);&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span> }</pre>&#13;\n</div>&#13;\n<h2>发送消息</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> activeMQStu;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> activeMQStu.queue.UserProducer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.activemq.ActiveMQConnection;&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.JMSException;&#13;\n</span><span style=\"color: #008080;\"> 7</span> &#13;\n<span style=\"color: #008080;\"> 8</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\"> 9</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/23.&#13;\n</span><span style=\"color: #008080;\">10</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> ProduceApp {&#13;\n</span><span style=\"color: #008080;\">12</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span> main(String[] args) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">13</span>         ActiveMQServer activeMQServer = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ActiveMQServer(&#13;\n</span><span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">                ActiveMQConnection.DEFAULT_USER,&#13;\n</span><span style=\"color: #008080;\">15</span> <span style=\"color: #000000;\">                ActiveMQConnection.DEFAULT_PASSWORD,&#13;\n</span><span style=\"color: #008080;\">16</span>                 \"tcp://localhost:61616\"&#13;\n<span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">        );&#13;\n</span><span style=\"color: #008080;\">18</span>         UserProducer producer = <span style=\"color: #0000ff;\">new</span> UserProducer(activeMQServer,\"queue.devlyh\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">19</span>         <span style=\"color: #0000ff;\">for</span>(<span style=\"color: #0000ff;\">int</span> i =0 ;i &lt; 100;i++<span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">20</span>             User user = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> User();&#13;\n</span><span style=\"color: #008080;\">21</span>             user.setUsername(\"lvyahui\"<span style=\"color: #000000;\">.concat(String.valueOf(i)));&#13;\n</span><span style=\"color: #008080;\">22</span>             user.setPassword(\"admin888\" +<span style=\"color: #000000;\"> i);&#13;\n</span><span style=\"color: #008080;\">23</span>             user.setSalt(\"salt\"+<span style=\"color: #000000;\">i);&#13;\n</span><span style=\"color: #008080;\">24</span> <span style=\"color: #000000;\">            producer.produce(user);&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">        activeMQServer.close();&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">28</span> }</pre>&#13;\n</div>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p> </p>&#13;\n<p><span style=\"line-height: 1.5;\">运行成功后再页面可以看到有100条消息进入了名字为queue.devlyh的队列中</span></p>&#13;\n<p><span style=\"line-height: 1.5;\"><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424195616007-541841106.png\" alt=\"\"/></span></p>&#13;\n<h2><span style=\"line-height: 1.5;\">消息接受者</span></h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> activeMQStu.queue;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> activeMQStu.ActiveMQServer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> activeMQStu.User;&#13;\n</span><span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.JMSException;&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.MessageConsumer;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.ObjectMessage;&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/23.&#13;\n</span><span style=\"color: #008080;\">12</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> UserConsumer {&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">private</span><span style=\"color: #000000;\"> MessageConsumer consumer;&#13;\n</span><span style=\"color: #008080;\">15</span> &#13;\n<span style=\"color: #008080;\">16</span>     <span style=\"color: #0000ff;\">public</span> UserConsumer(ActiveMQServer activeMQServer,String queueName) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">17</span>         <span style=\"color: #0000ff;\">this</span>.consumer =<span style=\"color: #000000;\"> activeMQServer.getSession()&#13;\n</span><span style=\"color: #008080;\">18</span> <span style=\"color: #000000;\">                .createConsumer(activeMQServer.createQueue(queueName));&#13;\n</span><span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">20</span> &#13;\n<span style=\"color: #008080;\">21</span>     <span style=\"color: #0000ff;\">public</span> User consume() <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">22</span>         ObjectMessage objectMessage  =<span style=\"color: #000000;\"> (ObjectMessage) consumer.receive();&#13;\n</span><span style=\"color: #008080;\">23</span>         User user =<span style=\"color: #000000;\"> (User) objectMessage.getObject();&#13;\n</span><span style=\"color: #008080;\">24</span>         <span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> user;&#13;\n</span><span style=\"color: #008080;\">25</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">26</span> }</pre>&#13;\n</div>&#13;\n<h2>接收消息</h2>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> <span style=\"color: #0000ff;\">package</span><span style=\"color: #000000;\"> activeMQStu;&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> activeMQStu.queue.UserConsumer;&#13;\n</span><span style=\"color: #008080;\"> 4</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.activemq.ActiveMQConnection;&#13;\n</span><span style=\"color: #008080;\"> 5</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> org.apache.activemq.ActiveMQConnectionFactory;&#13;\n</span><span style=\"color: #008080;\"> 6</span> &#13;\n<span style=\"color: #008080;\"> 7</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> javax.jms.JMSException;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #0000ff;\">import</span><span style=\"color: #000000;\"> java.util.Arrays;&#13;\n</span><span style=\"color: #008080;\"> 9</span> &#13;\n<span style=\"color: #008080;\">10</span> <span style=\"color: #008000;\">/**</span>&#13;\n<span style=\"color: #008080;\">11</span> <span style=\"color: #008000;\"> * Created by lvyahui on 2016/4/23.&#13;\n</span><span style=\"color: #008080;\">12</span>  <span style=\"color: #008000;\">*/</span>&#13;\n<span style=\"color: #008080;\">13</span> <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> ConsumeApp {&#13;\n</span><span style=\"color: #008080;\">14</span>     <span style=\"color: #0000ff;\">public</span> <span style=\"color: #0000ff;\">static</span> <span style=\"color: #0000ff;\">void</span> main(String[] args) <span style=\"color: #0000ff;\">throws</span><span style=\"color: #000000;\"> JMSException {&#13;\n</span><span style=\"color: #008080;\">15</span>         ActiveMQServer activeMQServer = <span style=\"color: #0000ff;\">new</span><span style=\"color: #000000;\"> ActiveMQServer(&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #000000;\">                ActiveMQConnection.DEFAULT_USER,&#13;\n</span><span style=\"color: #008080;\">17</span> <span style=\"color: #000000;\">                ActiveMQConnection.DEFAULT_PASSWORD,&#13;\n</span><span style=\"color: #008080;\">18</span>                 \"tcp://localhost:61616\"&#13;\n<span style=\"color: #008080;\">19</span> <span style=\"color: #000000;\">        );&#13;\n</span><span style=\"color: #008080;\">20</span> &#13;\n<span style=\"color: #008080;\">21</span> <span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">        ActiveMQConnectionFactory factory = (ActiveMQConnectionFactory) activeMQServer.getConnectionFactory();</span>&#13;\n<span style=\"color: #008080;\">22</span> &#13;\n<span style=\"color: #008080;\">23</span>         UserConsumer consumer = <span style=\"color: #0000ff;\">new</span> UserConsumer(activeMQServer,\"queue.devlyh\"<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">24</span>         <span style=\"color: #0000ff;\">while</span>(<span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">){&#13;\n</span><span style=\"color: #008080;\">25</span>             User user =<span style=\"color: #000000;\"> consumer.consume();&#13;\n</span><span style=\"color: #008080;\">26</span> <span style=\"color: #000000;\">            System.out.println(user);&#13;\n</span><span style=\"color: #008080;\">27</span> <span style=\"color: #000000;\">        }&#13;\n</span><span style=\"color: #008080;\">28</span> <span style=\"color: #000000;\">    }&#13;\n</span><span style=\"color: #008080;\">29</span> }</pre>&#13;\n</div>&#13;\n<p>执行效果如下</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424195728023-1471386136.png\" alt=\"\"/></p>&#13;\n<p> </p></div>',55,'2016-04-23 23:59:00','2016-07-31 10:21:59',2,'http://www.cnblogs.com/lvyahui/p/5427979.html',5427979),(512,'phantomjs server + highchart  在服务器端生成highchart图表图片','前言&#13;\n当项目需要将一个highchart图表以邮件发送的时候，js+css形式的highcharts 图表肯定是不好做的，有查可以借助flash去执行js，但很麻烦，所以折中将highchart图表转为图片。并且这个邮件里可能有几十个这样的图表，在浏览器端生成图片再上传发送的方案也不可取，所以选择直接在服务端','<div id=\"cnblogs_post_body\"><h2>前言</h2>&#13;\n<p>当项目需要将一个highchart图表以邮件发送的时候，js+css形式的highcharts 图表肯定是不好做的，有查可以借助flash去执行js，但很麻烦，所以折中将highchart图表转为图片。并且这个邮件里可能有几十个这样的图表，在浏览器端生成图片再上传发送的方案也不可取，所以选择直接在服务端生成highchart图表。</p>&#13;\n<p>服务端图表其实也有PChart之类的直接在服务端生成图片的，不过那图片效果实在不敢恭维。最后找到了phantomjs+highchart的方式生成highchart图表，图表美观。</p>&#13;\n<p>参考： <a href=\"http://www.highcharts.com/articles/2-news/56-improved-image-export-with-phantomjs\">http://www.highcharts.com/articles/2-news/56-improved-image-export-with-phantomjs</a></p>&#13;\n<p>phantomjs  是一个服务端JavaScript执行引擎。</p>&#13;\n<p><span style=\"color: #ff0000;\">phantomjs + highchart支持两种方式，一种是命令行方式，一种是server方式。在使用命令行方式造成进程数过多把服务器整挂一次后，我换成了phantomjs Server的方式，这种方式效果好，所以下面的示例也使用的是phantomjs server</span></p>&#13;\n<h2>安装phantomjs</h2>&#13;\n<p>可以编译安装也可以直接下载rpm，或者下载已经静态编译可以直接执行的二进制文件。这三者我都做过，最后因为要安装的机器比较多，每台机器还有点区别，有的编译成功有的编译失败，最后懒惰的我直接找到了可以直接下载使用的phantomjs二进制可执行文件。</p>&#13;\n<div><a href=\"http://blog.icewingcc.com/linux-install-phantomjs.html\">http://blog.icewingcc.com/linux-install-phantomjs.html</a></div>&#13;\n<div><a href=\"https://bitbucket.org/ariya/phantomjs/downloads\">https://bitbucket.org/ariya/phantomjs/downloads</a> 直接下载二进制文件（我现在的环境打不开这个页面了，估计要FQ）</div>&#13;\n<div><a href=\"http://phantomjs.org/download.html\">http://phantomjs.org/download.html</a></div>&#13;\n<p>安装完之后，<span style=\"color: #ff0000;\">在demo根目录下行执行以下命令启动phantomjs server</span></p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>phantomjs highcharts-convert.js -host <span style=\"color: #800080;\">127.0</span>.<span style=\"color: #800080;\">0.1</span> -port <span style=\"color: #800080;\">3003</span></pre>&#13;\n</div>&#13;\n<p>其中demo目录下有这些文件，其中highcharts-convert.js文件能够使用的网上已经非常难找了，需要的可以联系我。</p>&#13;\n<p><span style=\"color: #ff0000;\">highcharts-convert.js  highcharts.js  highcharts-more.js  highstock.js  jquery-1.8.3.min.js  loadspeed.js   rasterize.js</span></p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424210615929-1633045399.jpg\" alt=\"\"/></p>&#13;\n<h2>DEMO</h2>&#13;\n<p>下面编写测试代码</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\"> 1</span> &lt;?<span style=\"color: #000000;\">php&#13;\n</span><span style=\"color: #008080;\"> 2</span> &#13;\n<span style=\"color: #008080;\"> 3</span> <span style=\"color: #800080;\">$options</span> = <span style=\"color: #0000ff;\">array</span>(\'chart\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'type\' =&gt; \'spline\', \'width\' =&gt; \'500\', \'height\' =&gt; \'300\', \'style\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'fontFamily\' =&gt; \'consolas,Console,SimSun\'), \'backgroundColor\' =&gt; \'#F5F8F9\'), \'tooltip\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'valueSuffix\' =&gt; \'%\'), \'colors\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'#3366CC\', \'#097138\', \'#AB0\'), \'credits\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'enabled\' =&gt; 0), \'yAxis\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'title\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'text\' =&gt; \'百分比（%）\'), \'plotLines\' =&gt; <span style=\"color: #0000ff;\">array</span>(0 =&gt; <span style=\"color: #0000ff;\">array</span>(\'value\' =&gt; 0, \'width\' =&gt; 1, \'color\' =&gt; \'#808080\'))), \'title\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'text\' =&gt; \'视频下载成功率3G\'), \'xAxis\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'categories\' =&gt; <span style=\"color: #0000ff;\">array</span>(\'1-22\', \'1-23\', \'1-24\', \'1-25\', \'1-26\', \'1-27\', \'1-28\')), \'series\' =&gt; <span style=\"color: #0000ff;\">array</span>(0 =&gt; <span style=\"color: #0000ff;\">array</span>(\'name\' =&gt; \'Android版(6.0 正式)6.0.1.288\', \'data\' =&gt; <span style=\"color: #0000ff;\">array</span>(0, 100, 100, 0, 0, 100, 0)), 1 =&gt; <span style=\"color: #0000ff;\">array</span>(\'name\' =&gt; \'Android版(5.8正式)5.8.1.288\', \'data\' =&gt; <span style=\"color: #0000ff;\">array</span>(96.75, 96.90000000000001, 89.3, 81.16, 97.23, 92.59, 98.73999999999999)), 2 =&gt; <span style=\"color: #0000ff;\">array</span>(\'name\' =&gt; \'Android版(5.7正式换包)5.7.1.289\', \'data\' =&gt; <span style=\"color: #0000ff;\">array</span>(96.55, 25, 91.08, 100, 100, 0, 97.14<span style=\"color: #000000;\">))));&#13;\n</span><span style=\"color: #008080;\"> 4</span> &#13;\n<span style=\"color: #008080;\"> 5</span> &#13;\n<span style=\"color: #008080;\"> 6</span> <span style=\"color: #800080;\">$optionsJson</span> = json_encode(<span style=\"color: #800080;\">$options</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 7</span> <span style=\"color: #800080;\">$imgFile</span> = <span style=\"color: #008080;\">dirname</span>(<span style=\"color: #ff00ff;\">__FILE__</span>) . \'/\' . <span style=\"color: #008080;\">md5</span>(<span style=\"color: #800080;\">$optionsJson</span>) . \'.png\'<span style=\"color: #000000;\">;&#13;\n</span><span style=\"color: #008080;\"> 8</span> <span style=\"color: #800080;\">$curl</span> = curl_init(\'127.0.0.1:3003\'<span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\"> 9</span> curl_setopt(<span style=\"color: #800080;\">$curl</span>, CURLOPT_POST, <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">10</span> curl_setopt(<span style=\"color: #800080;\">$curl</span>, CURLOPT_RETURNTRANSFER, <span style=\"color: #0000ff;\">true</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">11</span> <span style=\"color: #800080;\">$postData</span> = json_encode(<span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">12</span>     \'infile\'  =&gt; <span style=\"color: #008080;\">preg_replace</span>(\'/\\\"(\\w+)\\\"\\:/\', \'${1}:\', <span style=\"color: #800080;\">$optionsJson</span>),&#13;\n<span style=\"color: #008080;\">13</span>     \'outfile\' =&gt; <span style=\"color: #800080;\">$imgFile</span>,&#13;\n<span style=\"color: #008080;\">14</span> <span style=\"color: #000000;\">));&#13;\n</span><span style=\"color: #008080;\">15</span> curl_setopt(<span style=\"color: #800080;\">$curl</span>, CURLOPT_POSTFIELDS, <span style=\"color: #800080;\">$postData</span><span style=\"color: #000000;\">);&#13;\n</span><span style=\"color: #008080;\">16</span> <span style=\"color: #800080;\">$resp</span> = curl_exec(<span style=\"color: #800080;\">$curl</span>);</pre>&#13;\n</div>&#13;\n<h2>参数细节</h2>&#13;\n<p>请注意上面的</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #800080;\">$postData</span> = json_encode(<span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">2</span>     \'infile\'    =&gt;  <span style=\"color: #008080;\">preg_replace</span>(\'/\\\"(\\w+)\\\"\\:/\',\'${1}:\',<span style=\"color: #800080;\">$optionsJson</span>),&#13;\n<span style=\"color: #008080;\">3</span>     \'outfile\'   =&gt;  <span style=\"color: #800080;\">$imgFile</span>&#13;\n<span style=\"color: #008080;\">4</span> ));</pre>&#13;\n</div>&#13;\n<p>第2行中的infile为什么要这么写呢？因为传递给highchart-convert.js的infile需要的参数，并不是标准的json，这个不仔细看真注意不到。</p>&#13;\n<p>可以仔细看 http://www.highcharts.com/articles/2-news/56-improved-image-export-with-phantomjs 参数说明</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>\"{\"infile\":\"<span style=\"color: #ff0000;\">{xAxis: {categories: [\'Jan\', \'Feb\', \'Mar\', \'Apr\', \'May\', \'Jun\', \'Jul\', \'Aug\', \'Sep\', \'Oct\', \'Nov\', \'Dec\']},series: [{data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]}]};</span>\",\"callback\":\"<span style=\"color: #0000ff;\">function</span>(chart) {chart.renderer.arc(200, 150, 100, 50, -Math.PI, 0).attr({fill : \'#FCFFC5\',stroke : \'black\',\'stroke-width\' : 1}).add();}\",\"constr\":\"Chart\",\"outfile\":\"<span style=\"color: #008000;\">//</span><span style=\"color: #008000;\">tmp//chart.png\"}\"</span></pre>&#13;\n</div>&#13;\n<p>可以上面红色的代码，并不是json而是js对象格式。</p>&#13;\n<p>上面有preg_replace替换的php代码得到的是就是这样的json</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>{\"infile\":\"{chart:{type:\\\"spline\\\",width:\\\"500\\\",height:\\\"300\\\",style:{fontFamily:\\\"consolas,Console,SimSun\\\"},backgroundColor:\\\"#F5F8F9\\\"},tooltip:{valueSuffix:\\\"%\\\"},colors:[\\\"#3366CC\\\",\\\"#097138\\\",\\\"#AB0\\\"],credits:{enabled:0},yAxis:{title:{text:\\\"\\\\u767e\\\\u5206\\\\u6bd4\\\\uff08%\\\\uff09\\\"},plotLines:[{value:0,width:1,color:\\\"#808080\\\"}]},title:{text:\\\"\\\\u89c6\\\\u9891\\\\u4e0b\\\\u8f7d\\\\u6210\\\\u529f\\\\u73873G\\\"},xAxis:{categories:[\\\"1-22\\\",\\\"1-23\\\",\\\"1-24\\\",\\\"1-25\\\",\\\"1-26\\\",\\\"1-27\\\",\\\"1-28\\\"]},series:[{name:\\\"Android\\\\u7248(6.0 \\\\u6b63\\\\u5f0f)6.0.1.288\\\",data:[0,100,100,0,0,100,0]},{name:\\\"Android\\\\u7248(5.8\\\\u6b63\\\\u5f0f)5.8.1.288\\\",data:[96.75,96.9,89.3,81.16,97.23,92.59,98.74]},{name:\\\"Android\\\\u7248(5.7\\\\u6b63\\\\u5f0f\\\\u6362\\\\u5305)5.7.1.289\\\",data:[96.55,25,91.08,100,100,0,97.14]}]}\",\"outfile\":\"\\/home\\/wwwroot\\/demo.qq.com\\/25afeab1d3e957b8beb4c58ea79c6ebd.png\"}</pre>&#13;\n</div>&#13;\n<p>转成js对象可以看到是这样的</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424204948866-888570764.jpg\" alt=\"\"/></p>&#13;\n<p>如果不像上面那样写，而是直接写成</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #008080;\">1</span> <span style=\"color: #800080;\">$postData</span> = json_encode(<span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\">(&#13;\n</span><span style=\"color: #008080;\">2</span>     \'infile\'    =&gt;  <span style=\"color: #800080;\">$options</span>,&#13;\n<span style=\"color: #008080;\">3</span>     \'outfile\'   =&gt;  <span style=\"color: #800080;\">$imgFile</span>&#13;\n<span style=\"color: #008080;\">4</span> ));</pre>&#13;\n</div>&#13;\n<p>得到的json是这样的</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre>{\"infile\":{\"chart\":{\"type\":\"spline\",\"width\":\"500\",\"height\":\"300\",\"style\":{\"fontFamily\":\"consolas,Console,SimSun\"},\"backgroundColor\":\"#F5F8F9\"},\"tooltip\":{\"valueSuffix\":\"%\"},\"colors\":[\"#3366CC\",\"#097138\",\"#AB0\"],\"credits\":{\"enabled\":0},\"yAxis\":{\"title\":{\"text\":\"\\u767e\\u5206\\u6bd4\\uff08%\\uff09\"},\"plotLines\":[{\"value\":0,\"width\":1,\"color\":\"#808080\"}]},\"title\":{\"text\":\"\\u89c6\\u9891\\u4e0b\\u8f7d\\u6210\\u529f\\u73873G\"},\"xAxis\":{\"categories\":[\"1-22\",\"1-23\",\"1-24\",\"1-25\",\"1-26\",\"1-27\",\"1-28\"]},\"series\":[{\"name\":\"Android\\u7248(6.0 \\u6b63\\u5f0f)6.0.1.288\",\"data\":[0,100,100,0,0,100,0]},{\"name\":\"Android\\u7248(5.8\\u6b63\\u5f0f)5.8.1.288\",\"data\":[96.75,96.9,89.3,81.16,97.23,92.59,98.74]},{\"name\":\"Android\\u7248(5.7\\u6b63\\u5f0f\\u6362\\u5305)5.7.1.289\",\"data\":[96.55,25,91.08,100,100,0,97.14]}]},\"outfile\":\"\\/home\\/wwwroot\\/demo.qq.com\\/25afeab1d3e957b8beb4c58ea79c6ebd.png\"}</pre>&#13;\n</div>&#13;\n<p>换成js对象是这样的</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424205128195-340470011.jpg\" alt=\"\"/></p>&#13;\n<p>而且请求发送给phantomjs执行会出错</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424205232023-456524344.png\" alt=\"\"/></p>&#13;\n<p>这是一个坑</p>&#13;\n<h2>输出</h2>&#13;\n<p>如果参数不指定outfile，那么curl_exec 得到的响应resp就是图片数据的base64编码数据。可以直接decode输出</p>&#13;\n<h2>乱码问题</h2>&#13;\n<p>另外，服务器端生成图表，一定要为Linux安装bitmap字体，否则会得到下面这样的乱码图片</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424205715116-1799891316.png\" alt=\"\"/></p>&#13;\n<p>安装的方式很简单</p>&#13;\n<div class=\"cnblogs_code\">&#13;\n<pre><span style=\"color: #0000ff;\">yum</span> <span style=\"color: #0000ff;\">install</span> bitmap-fonts bitmap-fonts-cjk</pre>&#13;\n</div>&#13;\n<p>然后就能得到正常的图表了</p>&#13;\n<p><img src=\"http://images2015.cnblogs.com/blog/635249/201604/635249-20160424210112241-1646965481.png\" alt=\"\"/></p>&#13;\n<p>另外再给系统安装一些其余漂亮的中文字体，在highchart中可以指定中文字体，让图表更加漂亮。</p>&#13;\n<p> </p>&#13;\n<p><span style=\"color: #ff6600;\">注：因为写博客的时间与做这个事情的时间相距较远，输出的图片与代码数据并不匹配，见谅。</span></p></div>',242,'2016-04-24 01:10:00','2016-07-31 10:21:59',9,'http://www.cnblogs.com/lvyahui/p/5428246.html',5428246),(513,'CRUD生成器DBuilder设计与实现','源码位于github：https://github.com/lvyahui8/dbuilder.git 。文中图片如果太小看不清楚，请右','<div id=\"cnblogs_post_body\"><p><span style=\"color: #ff0000;\">源码位于github：<a href=\"https://github.com/lvyahui8/dbuilder.git\" target=\"_blank\">https://github.com/lvyahui8/dbuilder.git</a> 。文中图片如果太小看不清楚，请右键点击“在新标签页中打开”即可看到原图</span></p>&#13;\n<p><span style=\"color: #ff0000;\">有兴趣还可以加QQ群交流：146103720 <a href=\"http://shang.qq.com/wpa/qunwpa?idkey=50fce48ad9655e4a6046c6018930f2fc719278d3bc613498336882d3567a4000\" target=\"_blank\"> DBuilder交流群</a><br/></span></p>&#13;\n<h1>第一章           引言</h1>&#13;\n<h2>1.1 研究背景及意义</h2>&#13;\n<p>计算机软件技术发展至今，数据库已成为最广泛使用的存储格式化数据的媒介，数据库程序开发技术也日趋完善，大型的ORM框架使得数据库程序开发变得简单，并已成为操作关系型数据库的主流方式。数据库程序主要代码为CRUD(create, retrieve, update, delete)代码，随着ORM框架功能的完善，编写CRUD代码也衍生其固定的流程，对不同数据库表进行操作的CRUD代码也存在高度可重用性。当前编写重复性的CRUD代码成为开发人员的常态，不仅严重降低其积极性，而且损失其开发效率，所以迫切需要一种能够快速生成CRUD代码的产品，以期减少这方面的工作，提高开发效率。</p>&#13;\n<h2>1.2 研究现状</h2>&#13;\n<p>目前国外已经诞生一些解决上述需求的、具有很高可用性的CRUD生成器产品：CrudKit，CRUD-Admin-Generator，Dadabik，GroceryCrud，SximoBuilder。这些产品各有其特点，但也有一共同点：都是基于PHP进行开发（这在一定程度上决定于PHP语法的灵活性及其解析性）。<span style=\"color: #ff0000;\">SximoBuilder是其中的典型代表，尽管SximoBuilder设计独特、可用性高、流行度高，但也存在如下不足之处：</span></p>&#13;\n<ul><li><span style=\"color: #ff0000;\">不支持自定义表单控件；</span></li>&#13;\n<li><span style=\"color: #ff0000;\">不支持多数据库；</span></li>&#13;\n<li><span style=\"color: #ff0000;\">验证规则不完善，不支持异步验证；</span></li>&#13;\n<li><span style=\"color: #ff0000;\">代码冗余度极大。</span></li>&#13;\n</ul><p>然而对于当今日益复杂的web程序，上述几点是开发过程必须考虑的问题，因此，开发一款既具有SximoBuilder现有功能、又完善其不足之处的CRUD生成器产品，势在必行。</p>&#13;\n<h2>1.3 研究内容</h2>&#13;\n<p>基于国内外CRUD生成器研究现状，笔者开发一款名为DBuilder（D为DataAdministrator的简写）的CRUD 生成器。</p>&#13;\n<p><span style=\"color: #ff0000;\">DBuilder借鉴SximoBuilder的模块为代码单元、由模板生成代码的思想，但拥有与SximoBuilder完全不同的代码生成器逻辑。它在实现SximoBuilder核心的代码生成、通用CRUD两种功能的基础上，通过重写代码逻辑完善其不足之处：代码冗余度大、缺少前端验证。</span></p>&#13;\n<h1>第二章           DBuilder系统分析</h1>&#13;\n<p>DBuilder面向的主要用户人群为web后台管理员以及开发人员，因此其系统分析过程，将更多的站在web后台管理员及开发人员的角度考虑问题。</p>&#13;\n<h2>2.1 需求分析</h2>&#13;\n<p>项目需要实现如下几点核心功能。</p>&#13;\n<p><strong>1)        </strong><strong>数据源管理</strong></p>&#13;\n<p>用户可以在界面为项目配置多个数据源。配置的数据源信息包括数据库类型、地址、数据库名、端口、用户名、密码等信息。支持对数据源的增删改查，保证对数据源的增删改查不轻易造成系统问题。</p>&#13;\n<p>2)        <strong>代码生成</strong></p>&#13;\n<p>此功能是DBuilder的核心要实现的功能，用户在选择数据源和数据表之后，能够对数据库表的字段做简单配置，配置包括Form表单配置、List（Table）列表配置、关系配置、全局属性配置。配置完成后DBuilder要能生成对数据库表的CRUD的MVC代码，即需要实现CRUD可用功能，但不用编写代码。</p>&#13;\n<p>3)        <strong>数据库</strong>表CRUD</p>&#13;\n<p>生成的代码必须支持数据表记录的新建、删除、更新、查询操作。</p>&#13;\n<p>4)        <strong>菜单管理</strong></p>&#13;\n<p>DBuilder要能将生成的代码跟一个菜单项绑定，让用户点击菜单项之后，就可以使用DBuilder生成的CRUD功能。此菜单必须包括后台菜单，前台菜单不是必须的。</p>&#13;\n<p>5)        <strong>用户管理</strong></p>&#13;\n<p>用户要实现多种角色。必须能够以邮箱为用户唯一标识，并作为登录参数。未来还要实现支持QQ、微信、新浪微博基于OAuth2.0的互联登录。</p>&#13;\n<p>6)        <strong>权限管理</strong></p>&#13;\n<p>DBuilder要能实现不同用户角色对不同CRUD代码的执行、访问权限做到三维的可配置。譬如，现有一个文章管理的CRUD功能模块，用户角色分为系统管理员（SuperAdmin），管理员（Admin），访客（Guest），那么DBuilder要能实现如下的三维权限配置，且将之作为所有Module的默认权限。</p>&#13;\n<p align=\"center\">表2-1 Module权限配置表</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"133\">&#13;\n<p align=\"center\">用户组与权限</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">查看</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">编辑</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">删除</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p align=\"center\">导出</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"133\">&#13;\n<p align=\"center\">SuperAdmin</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"133\">&#13;\n<p align=\"center\">Admin</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p align=\"center\"> </p>&#13;\n</td>&#13;\n</tr><tr><td width=\"133\">&#13;\n<p align=\"center\">Guest</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\">√</p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\"> </p>&#13;\n</td>&#13;\n<td width=\"109\">&#13;\n<p align=\"center\"> </p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p align=\"center\"> </p>&#13;\n</td>&#13;\n</tr></tbody></table><p>7)        <strong>站点参数配置</strong></p>&#13;\n<p>DBuilder作为一个网站的web后台程序，对站点的全局参数配置也是必须的，这些参数包括网站名字、关键词、联系地址、友情链接等等。</p>&#13;\n<p>8)        <strong>操作日志</strong></p>&#13;\n<p>DBuilder要记录用户的操作信息，包括访问的页面、执行的CRUD类型、时间等等信息。日志的记录形式支持数据库和文件两种方式。</p>&#13;\n<p>9)        多<strong>语言支持</strong></p>&#13;\n<p>DBuilder要支持多国语言的切换。至少应该支持中文和英语两种语言，且以中文为默认。</p>&#13;\n<p>10)    多<strong>数据库类型支持</strong></p>&#13;\n<p>DBuilder要支持多种类型数据库，暂时主要支持关系型数据库，包括mysql，MS SqlServer，oracle，PostGreSQL等等。</p>&#13;\n<h2>2.2 数据原型分析</h2>&#13;\n<p>按照需求提取可得实体有:用户、用户组、数据源、代码模块、菜单，关系有：权限、日志。实体与关系的含义如下：</p>&#13;\n<ul><li>用户：表示使用DBuilder的用户；</li>&#13;\n<li>用户组：表示用户的类型分组，用户类型应该至少包括访客、管理员、超级管理员三种；</li>&#13;\n<li>数据源：表示DBuilder包含的数据库配置，一个数据源的配置包含连接一个数据库所需的基本参数；</li>&#13;\n<li>代码模块：表示DBuilder生成的代码模块，描述了代码文件和配置；</li>&#13;\n<li>菜单：表示DBuilder的左侧菜单项；</li>&#13;\n<li>权限：表示用户组对每个代码模块的各种操作权限；</li>&#13;\n<li>日志：表示用户对每个代码模块的CRUD访问日志。</li>&#13;\n</ul><p>实体与关系的ER图如下：</p>&#13;\n<p align=\"center\"><img src=\"http://images2015.cnblogs.com/blog/635249/201606/635249-20160629150720984-47010410.jpg\" alt=\"\"/> </p>&#13;\n<p align=\"center\">图2-1 ER图</p>&#13;\n<h2>2.3 原则性要求</h2>&#13;\n<p>DBuilder应该要做成一套高性能、高可用的CRUD生成器，为此DBuilder设计中应该符合下面几项原则：</p>&#13;\n<ul><li>DBuilder要精确到每个数据库字段可配置；</li>&#13;\n<li>应具备一个WEB后台应用的雏形，使用户可在此基础上快速建立完整的WEB后台应用；</li>&#13;\n<li>DBuilder要尽可能减少SQL操作，必要时可借助缓存、异步等技术，减少请求的处理逻辑，提高页面效率，减少用户等待时间；</li>&#13;\n<li>DBuilder要有美观、简洁、直观的用户界面；</li>&#13;\n<li>DBuilder要留有大量的扩展接口，能够让用户通过二次开发快速实现较为复杂的功能。</li>&#13;\n</ul><h1>第三章           DBuilder系统设计</h1>&#13;\n<h2>3.1 系统架构</h2>&#13;\n<p><span style=\"color: #ff0000;\">DBuilder有下面2个核心的构件Core CRUD 模块和GModule，GModule对Core CRUD 模块有继承依赖的关系，GModule由MVC Code和CRUD Config组成；Core CRUD模块是手工编写的代码，而GModule是DBuilder生成的代码；Core CRUD 模块实现CRUD操作，GModule实现扩展功能。下图表示了这两个构件的组成和关系</span></p>&#13;\n<p align=\"center\"><img src=\"http://images2015.cnblogs.com/blog/635249/201606/635249-20160629150744546-1324209834.jpg\" alt=\"\"/> </p>&#13;\n<p align=\"center\">图3-1概念与构件</p>&#13;\n<p>下面对图中设计的概念、构件、模块关系以及Build与CRUD流程做详细阐述。</p>&#13;\n<h3>3.1.1 Core CRUD 模块</h3>&#13;\n<p><span style=\"color: #ff0000;\">Core CRUD 模块实现核心CRUD操作，一切对GModule MVC中Controller的CRUD请求，最终转交至Core CRUD 模块进行处理。Core CRUD 模块会开放一些预处理和后处理接口交由GModule实现，这些接口会在Model，Controller，View上都有体现。</span></p>&#13;\n<p>Core CRUD 模块主要包括如下文件</p>&#13;\n<ul><li>app/controllers/admin/AdminController.php</li>&#13;\n<li>app/models/BaseModel.php</li>&#13;\n<li>app/config/crud/admin.php</li>&#13;\n<li>app/views/admin/core/list.blade.php</li>&#13;\n<li>app/views/admin/core/form.blade.php</li>&#13;\n</ul><p>Core CRUD 模块读取GModule Configuration实现真正的CRUD操作。</p>&#13;\n<h3>3.1.2 GModule</h3>&#13;\n<p>GModule（Generated Module）不但实现了Core CRUD Module接口（MVC代码），而且具有自己配置文件（CRUD Configuration）。<span style=\"color: #ff6600;\">每一GModule表示以一张数据库表为主表，具备CRUD功能的代码文件合集（包括对应的MVC + Configuration代码）</span>。譬如，DBuilder生成的一个GModule， 主表为core数据源user表，名字为User，那么User GModule应包含下面代码文件：</p>&#13;\n<ul><li>controllers/UserController.php</li>&#13;\n<li>models/User.php</li>&#13;\n<li>views/user/_list.blade.php</li>&#13;\n<li>views/user/_form.blade.php</li>&#13;\n<li>views/user/view.blade.php</li>&#13;\n<li>config/crud/user.php</li>&#13;\n</ul><p>代码文件命名取决于GModule的名字，故为保证生成的代码文件不冲突，取GModule的名字（GModule Key，GModule Name）作为GModule的唯一标识。每一个GModule的信息都被保存在数据库中。一次新建 GModule操作将会新建上述所有代码文件，更新相关文件，并插入一条GModule记录到数据库。一次更新 GModule操作将只会更新Configuration文件。</p>&#13;\n<p>GModule 由MVC代码和CRUD Configuration代码组成，下面分别进行阐述：</p>&#13;\n<ul><li><span style=\"color: #ff0000;\">MVC代码：用来实现扩展接口。CRUD请求应最先路由到GModule MVC的中的Controller（控制器）。并且GModule MVC 应与Core CRUD Module的MVC代码有继承关系。</span></li>&#13;\n<li><span style=\"color: #ff0000;\">CRUD Configuration代码：实现对GModule主表增删改查参数的配置。该文件放置在app/config/crud/目录下，以php array的格式定义。它包含对所有字段的表单，列表，视图，关系等参数的配置，以及全局的参数配置。</span></li>&#13;\n</ul><p>GModule并不表示具体某一个模块，而是代指一类模块，这种模块可以由DBuilder生成，或者由开发人员手工建立。它主要用来实现Core CRUD Module的接口，主要包括下述几部分</p>&#13;\n<p>1)        Controller接口</p>&#13;\n<p>假设GModule模块的 Controller为A，Core CRUD Module 的Controller为B，则A应继承自B。CRUD请求会先路由到A，而实际的处理者是B。A会实现B开放的下列接口。</p>&#13;\n<ul><li>beforeListExcuteQuery(&amp;querier)：该接口在List查询器执行查询之前调用，传递的参数为查询器引用。用来在查询之前，绑定特殊的查询参数。</li>&#13;\n<li>beforeList(&amp;data)：该接口在List查询器执行之后，渲染List视图之前调用。传递的参数为视图参数引用，其中包括查询出的model集合。用来对查询的model 集合做后处理，或者对list视图绑定一些Module专有的参数。</li>&#13;\n<li>beforeEditExcuteQuery(&amp;querier)：该接口在Edit请求中Model查询器执行查询之前调用，传递的是查询器引用。用来绑定查询model需要的特殊参数。</li>&#13;\n<li>beforeEdit(&amp;data)：该接口在Edit中Model查询器执行之后，渲染视图之前调用，传递的是视图参数引用，其中包括查询器查询出的model。用来做渲染前的预处理。</li>&#13;\n<li>afterSave(&amp;model)：该接口在Edit中，保存编辑的之后调用，传递的是保存在数据库中，最新的数据库记录持久化的model。用来对model做一些复杂的后级联处理。</li>&#13;\n<li>beforeView(data)： 该接口在View请求中，View 查询器查询之后调用，传递的是视图参数的引用。用来对视图显示做预处理。</li>&#13;\n</ul><p>2)        Model 接口</p>&#13;\n<p>GModule MVC代码中的Model也继承自BaseModel，实现 BaseModel类开放的一些接口可以完成扩展。</p>&#13;\n<p>formatXXXAttribute()：该接口用来格式化某个字段。本产品基于Laravel，其已经具备类似的接口，就是getXXXXAttribute()。但这样的接口的优先级比字段优先级高，这在特殊的情况下为开发带来了不便，所以再设计一个类似的接口，该接口的优先级低于字段本身。</p>&#13;\n<p>3)        View 接口</p>&#13;\n<p>视图的扩展接口与前两者不同，主要体现在子视图与视图块上，也就是在Core CURD模块的视图基础上，扩展视图组件。默认Core CRUD MVC视图生成的是一个表格或者一个表单，占满页面。而View接口将提供在该表格上下左右扩展页面组件的能力。</p>&#13;\n<p>4)        Configuration</p>&#13;\n<p>每一个GModule对应一个Configuration文件，其中包含GModule对主表各个字段的配置参数，以及布局参数。</p>&#13;\n<h3>3.1.3 模块关系</h3>&#13;\n<p>CRUD请求路由到GModule的Controller，GModule代码实现Core CRUD MVC开放的接口，而由Core CRUD Module去真正实现对数据库的CRUD操作。每一个GModule的信息应该被记录在数据库表中，以便给GModule关联菜单，控制权限，记录操作日志等等。一些主要模块之间的关系如下图所示。</p>&#13;\n<p align=\"center\"><img src=\"http://images2015.cnblogs.com/blog/635249/201606/635249-20160629150838452-704026103.jpg\" alt=\"\"/> </p>&#13;\n<p align=\"center\">图3-2模块关系</p>&#13;\n<p>从图2-2中可以看到，由GModule管理模块根据用户配置来生成一个GModule A，当用户的CRUD请求到达GModule A时，GModule 会讲请求转交Core CRUD进行处理，Core CRUD 模块再以SQL对数据库进行CRUD操作。</p>&#13;\n<h3>3.1.4 Build 与 CRUD流程</h3>&#13;\n<p>DBuilder项目的方案，将真正的CRUD操作交给了Core CRUD Module去执行，CRUD参数由GET或者POST请求参数与GModule Configuration构成，而GModule的MVC代码只是去实现Core CRUD MVC开放的一些预处理或者后处理接口。</p>&#13;\n<p>图2-3是DBuilder最核心的流程图，包含Module的生成和处理CRUD请求的过程，图2-4是SximoBuilder 中Module的生成和处理CRUD请求的流程图。</p>&#13;\n<p align=\"center\"> <img src=\"http://images2015.cnblogs.com/blog/635249/201606/635249-20160629150946218-1384765501.jpg\" alt=\"\"/></p>&#13;\n<p align=\"center\">图3-3 DBuilder 代码生成和处理CRUD的流程</p>&#13;\n<p align=\"center\"> <img src=\"http://images2015.cnblogs.com/blog/635249/201606/635249-20160629151017171-1492878741.jpg\" alt=\"\"/></p>&#13;\n<p align=\"center\">图3-4 SximoBuilder 代码生成和处理CRUD的流程</p>&#13;\n<p>对比两者，可以看到两者的最大区别，是DBuilder复用一份CRUD代码，而不是像Sximo那样为每一个Module生成一套可以当独执行的CRUD代码。这样做的好处是提高了复用性,并通过Module CRUD MVC实现预处理/后处理接口达到扩展性的目的。</p>&#13;\n<h2>3.2 Core数据源</h2>&#13;\n<p>Core数据源是DBuilder的默认数据源，其类型为mysql，数据库名为dbuilder，本节按照《数据原型分析》一节进行详细的数据库设计。为提高程序性能，数据源信息保存在代码文件app/config/datasource.php中，文件内容如下：</p>&#13;\n<table class=\"a1\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"553\">&#13;\n<p>&lt;?php return array (</p>&#13;\n<p>    \'core\' =&gt;</p>&#13;\n<p>        array (</p>&#13;\n<p>            \'driver\' =&gt; \'mysql\',</p>&#13;\n<p>            \'host\' =&gt; \'localhost\',</p>&#13;\n<p>            \'database\' =&gt; \'dbuilder\',</p>&#13;\n<p>            \'username\' =&gt; \'root\',</p>&#13;\n<p>            \'password\' =&gt; \'root\',</p>&#13;\n<p>            \'charset\' =&gt; \'utf8\',</p>&#13;\n<p>            \'collation\' =&gt; \'utf8_unicode_ci\',</p>&#13;\n<p>            \'prefix\' =&gt; \'\',</p>&#13;\n<p>            \'edit\' =&gt; false,</p>&#13;\n<p>            \'port\' =&gt; 3306,</p>&#13;\n<p>        ),</p>&#13;\n<p>        // more data source</p>&#13;\n<p> );</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>其中Core数据源有下述数据表：</p>&#13;\n<p>1)        d_menu 表：表示后台左侧树形菜单，每一个可点击跳转的菜单项必须与一个Module进行关联。</p>&#13;\n<p align=\"center\">表3-1 web后台左侧菜单表</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"138\">&#13;\n<p align=\"left\">field</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p align=\"left\">type</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p align=\"left\">default</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p align=\"left\">info</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>auto_increment</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>PRI</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>module_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>module_name</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(12)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>parent_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>null</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>父菜单项</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>title</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(12)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>module_title</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>显示名称</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>_order</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>0</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>排序字段</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>2)        d_module 表：记录了module信息，每一条d_module表的记录代表了DBuilder生成的一个Module。</p>&#13;\n<p align=\"center\">表3-2 module信息描述</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"138\">&#13;\n<p>field</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>type</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>default</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>info</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>auto_increment</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>PRI</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>name</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(32)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>UIN</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>title</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(32)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>module标题</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>note</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(32)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>module 说明</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>db_source</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(16)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>core</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>数据源名称</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>db_table</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(16)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>module主表</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>db_table_key</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(16)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>主表PRI</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>3)        d_user 表：保存着使用后台程序的用户。</p>&#13;\n<p align=\"center\">表3-3 web后台用户</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"138\">&#13;\n<p>field</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>type</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>default</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>info</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>auto_increment</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>PRI</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>username</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varhcar(64)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>用户名</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>email</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(64)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>邮箱</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>password</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(64)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>HASH</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>salt</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(64)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>盐</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>last_login</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>timestamp</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>最后登录时间</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>remember_token</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>记住密码口令</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>group_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>组ID</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>4)        d_group表：表示对后台用户的分组信息。</p>&#13;\n<p align=\"center\">表3-4 用户分组表</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"138\">&#13;\n<p>field</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>type</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>default</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>info</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>auto_increment</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>PRI</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>name</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varhcar(64)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>组名</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>note</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(128)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>组说明</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>level</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>组级别</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>5)        d_group_access表：记录了每个GModule、不同后台用户组与各种操作权限的三维权限信息。</p>&#13;\n<p align=\"center\">表3-5 用户组对Module权限表</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"138\">&#13;\n<p>field</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>type</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>default</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>info</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>auto_increment</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>PRI</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>group_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>组id</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>module_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>Module模块ID</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>edit</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>1</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>可编辑</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>view</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>1</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>可查看</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>delete</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>1</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>可删除</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>export</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>1</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>可导出</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>6)        d_log表:记录了每个用户的操作日志。</p>&#13;\n<p align=\"center\">表3-6 用户操作日志</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"138\">&#13;\n<p>field</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>type</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>default</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>info</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>auto_increment</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>PRI</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>user_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>用户id</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>ip_addr</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(15)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>客户端IP</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>module_id</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>int</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>访问的moduleid</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>module_title</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(16)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>task</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>varchar(16)</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>操作</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"138\">&#13;\n<p>created_at</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>timestamp</p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"138\">&#13;\n<p>可导出</p>&#13;\n</td>&#13;\n</tr></tbody></table><h2>3.3 数据源管理模块</h2>&#13;\n<p>DBuilder需要支持多数据源，多种类型数据库。数据源信息保存在d_database表中。<span style=\"color: #ff0000;\">考虑到数据库操作是频繁操作，如果将数据源信息保存在数据库中，则每次数据库操作将多一次数据源查询操作，这样做浪费性能。那么DBuilder不应该把数据源信息保存在数据库中，而应该保存在代码文件中。</span>数据源管理的信息包括数据源名称（数据源的唯一标识，DBuilder默认的数据源名为core）、数据库类型、地址、端口、数据库名、用户名、密码等等信息。因为数据源管理模块并不对表进行增删改查操作，所以数据源管理模块并不是一个GModule模块。该模块的代码完全手工编写。</p>&#13;\n<h2>3.4 GModule 管理模块</h2>&#13;\n<p>DBuilder将<span style=\"color: #ff0000;\">以基于名字为“Module”的GModule作为生成GModule的用户接口，该模块称作GModule管理模块，换言之GModule管理模块本身就是一个GModule，该GModule的主表即是core数据源中保存GModule信息的数据库表，改GModule的名字为“Module”。</span>GModule 管理模块包含创建，更新和删除GModule 的所有代码文件以及数据库记录。GModule的新建和删除需要更新全局的GModule路由。</p>&#13;\n<p>1)        GModule 路由</p>&#13;\n<p>GModule路由定义在一个独立的代码文件中，为一个以GModule名字进行减号分词并全部小写的字符串为键（譬如：GModule名字为OrderItem，则键值为order-item）、以Module中Controller类的类名为值的map字典，GModule路由是全局的。</p>&#13;\n<p>2)        GModule 新建&amp;更新</p>&#13;\n<p>新建GModule将在数据库中生成一条记录、生成所有的module文件、并更新路由。更新操作只修改配置文件。新建与更新都使用相同的编辑视图，此编辑视图是对GModule Configuration的图形化配置界面。</p>&#13;\n<p>3)        GModule 删除</p>&#13;\n<p>GModule删除将删除所有的GModule MVC代码，删除GModule Configuration代码，删除数据库表记录，并更新GModule路由。</p>&#13;\n<h2>3.5 Core CRUD 模块</h2>&#13;\n<p><span style=\"color: #ff0000;\">Core CRUD 模块是DBuilder处理CRUD请求的实际处理者</span>,它由下述几部分组成：</p>&#13;\n<p>1)        参数解析初始化</p>&#13;\n<p>初始化Model，实例化一个Module的Model对象作为初始化查询器。加载Module Configuration，对未设置的值进行设置默认值，对参数进行汇聚。</p>&#13;\n<p>2)        表单Form</p>&#13;\n<p>主要包括新建和更新功能。根据GModule主表主键primaryKey是否设置判断是新建还是更新操作。下图是Form模块的流程</p>&#13;\n<p align=\"center\"> <img src=\"http://images2015.cnblogs.com/blog/635249/201606/635249-20160629151159062-806372343.png\" alt=\"\"/></p>&#13;\n<p align=\"center\">图3-5 Form执行流程</p>&#13;\n<p>Form 分两部分，第一部分渲染Form页面给用户填写。第二部分为Form保存。</p>&#13;\n<p>渲染Form页面需要考虑的有Form控件和有外键关系的字段要怎么处理。Form控件需要支持类型包括text、text_date、text_datetime、textarea、select、radio、checkbox、file、hidden、address以及custom，自定义控件应该继承FormControl类，自定义控件的渲染由控件的render方法完成。Form渲染需要判断有关系的字段做辅助加载。比如对post（文章）表进行编辑，post表有一个字段为category_id，表示文章的栏目ID，对应category（栏目）表的id字段。这时需要对category_id使用select，radio，checkbox控件进行加载，方便用户输入。比如使用select控件，那么应该将category.id作为option的value，将category.name作为option中的text。这样做也是为了方便用户输入。此步骤与List中搜索时有共性，因此代码可复用。</p>&#13;\n<p>Form 保存需要考虑一些自定义控件的保存，自定义控件的数保存由自定义控件类的onSave方法完成。Form 保存还需要考虑关系的保存，默认应该级联更新附属表。Form 表单在用户输入完成点击保存之后，要分下面几步：</p>&#13;\n<ul><li>根据字段配置的验证规则进行验证；</li>&#13;\n<li>应判断Module Configuration 中的relation进行分析，进行必要的级联操作；</li>&#13;\n<li>并要调用自定义控件的onSave方法；</li>&#13;\n<li>最后才应更新或新建主表数据；</li>&#13;\n<li>跳转：更新或新建成功跳转至List，失败跳转至Form。</li>&#13;\n</ul><p>Form 还需要开放对应的预处理和后处理接口。</p>&#13;\n<p>3)        列表List（Table）</p>&#13;\n<p>List是一个分页Table，按照Module Configuration 中的字段配置显示分页数据。支持列表搜索，排序，勾选删除，导出等功能；</p>&#13;\n<ul><li>分页展现数据以InitQuerier模块得到的Model作为查询器，结合分页，查询出基本的数据列表。分页类型为全页刷新类型（非异步分页）；</li>&#13;\n<li>List搜索：支持在Module Configuration中定义了search不等于false的字段作为搜索条件。搜索关系为逻辑与的关系。并反映在GET参数上。搜索输入控件根据字段的form type来定。在Form 中定义为select，radio，checkbox控件的字段，在List中都将使用select控件作为输入控件；</li>&#13;\n<li>List 排序：以在Module Configuration中定义了form.sort 不等于 false的字段作为可排序字段。排序只支持按单一字段排序，降序方式含升序和降序；</li>&#13;\n<li>List 多选操作主要支持多选删除，多选复制操作,任何删除操作都需确认；</li>&#13;\n<li>List 数据每行记录的支持的操作按Module Configuration中的配置给出，默认支持编辑，删除，查看三项操作；</li>&#13;\n<li>List 也要开放预处理/后处理接口给Module CRUD MVC。</li>&#13;\n</ul><p>4)        查看View</p>&#13;\n<p>View 暂时以Form为基础，提供预处理后处理接口，但不允许编辑。</p>&#13;\n<h1>第四章           DBuilder系统实现</h1>&#13;\n<h2>4.1 目录结构</h2>&#13;\n<p>代码按照前段资源、MVC、Configuration、Library等概念进行了分目录存放。下面表格中给出了主要目录的说明：</p>&#13;\n<p align=\"center\">表4-2 代码主要目录</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"161\">&#13;\n<p>目录</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>作用</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>assets</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>此目录存放着各种各样的前端资源。包括bootstrap，以及自定义的css和js文件。</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>plugins</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>存放特殊前端插件的目录，比如富文本编辑器，视音频插件等等。</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>app/controllers/admin</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>存放着MVC中控制器的目录。其中，DBuilder的核心在admin目录下。</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>app/models</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>存放着MVC中模型(Model)的目录。用来做数据库查询用。</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>app/views</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>存放着MVC中视图的目录。文件名以*.blade.php的格式命名。</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>app/library</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>存放PHP辅助类，PHP库的目录。</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"161\">&#13;\n<p>app/config/crud</p>&#13;\n</td>&#13;\n<td width=\"392\">&#13;\n<p>存放Module Configuration的目录。</p>&#13;\n</td>&#13;\n</tr></tbody></table><h2>4.2 GModule 配置文件</h2>&#13;\n<p><span style=\"color: #ff0000;\">GModule配置文件定义了GModule的参数，该文件保存在app/config/crud/下，是以GModule Name进行蛇形分词得到的字符串命名的php文件</span>（譬如：一GModule的名字为OrderItem，则GModule配置文件为order_item.php）。配置参数以数组格式返回。</p>&#13;\n<p>考虑到PHP数组在表格中呈现的美观性，对参数以配置中的Key=&gt;Value形式，以点分形式Key.Value表示。</p>&#13;\n<p align=\"center\">表4-3 root配置</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"208\">&#13;\n<p>Configuration Key</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>类型</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>默认值</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>含义</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"208\">&#13;\n<p>fields</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>array</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>array()</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>字段列表</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"208\">&#13;\n<p>fields.field_name</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>array</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>array()</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>对field_name字段的配置</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"208\">&#13;\n<p>fields.field_name.label</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>UP(field_name)</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>显示在列表表格的表头的内容，和form控件旁边的内容</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"208\">&#13;\n<p>fields.field_name.form</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>array</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>array()</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>field_name字段的表单配置，具体参考</p>&#13;\n<p>fields.field_name.form配置</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"208\">&#13;\n<p>fields.field_name.list</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>array</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>array()</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>field_name 字段的列表配置，具体参考</p>&#13;\n<p>fields.field_name.list配置</p>&#13;\n<p> </p>&#13;\n</td>&#13;\n</tr><tr><td width=\"208\">&#13;\n<p>fields.field_name. relation</p>&#13;\n</td>&#13;\n<td width=\"57\">&#13;\n<p>array</p>&#13;\n</td>&#13;\n<td width=\"113\">&#13;\n<p>array()</p>&#13;\n</td>&#13;\n<td width=\"175\">&#13;\n<p>field_name 字段的关系</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>表4-3中每个字段的表单配置说明如下表所示：</p>&#13;\n<p align=\"center\">表4-4 fields.field_name.form配置</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"132\">&#13;\n<p>Configuration Key</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>值类型</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p>默认</p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>含义</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>type</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p>text</p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>Form控件类型</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>show</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>bool</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p>true</p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>是否出现在表单</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>hidden</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>bool</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p>false</p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>是否以隐藏的空间在表单中</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>rule</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p>required</p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>验证规则</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>ajax_validate</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>bool</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p>false</p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>是否异步验证</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>placeholder</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"104\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"251\">&#13;\n<p>控件中的提示</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>表4-3中每个字段的列表配置说明如下表所示：</p>&#13;\n<p align=\"center\">表4-5 fields.field_name.list配置</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"132\">&#13;\n<p>Configuration Key</p>&#13;\n</td>&#13;\n<td width=\"85\">&#13;\n<p>值类型</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>默认</p>&#13;\n</td>&#13;\n<td width=\"270\">&#13;\n<p>含义</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>show</p>&#13;\n</td>&#13;\n<td width=\"85\">&#13;\n<p>bool</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>true</p>&#13;\n</td>&#13;\n<td width=\"270\">&#13;\n<p>是否出现在表单</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>sort</p>&#13;\n</td>&#13;\n<td width=\"85\">&#13;\n<p>bool</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>true</p>&#13;\n</td>&#13;\n<td width=\"270\">&#13;\n<p>字段是否可以排序，默认可排序</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>search</p>&#13;\n</td>&#13;\n<td width=\"85\">&#13;\n<p>bool,array</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>array()</p>&#13;\n</td>&#13;\n<td width=\"270\">&#13;\n<p>是否可搜索以及搜索规则</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"85\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"270\">&#13;\n<p>控件中的提示</p>&#13;\n</td>&#13;\n</tr></tbody></table><p>表4-3中每个字段的关系配置说明如下表所示：</p>&#13;\n<p align=\"center\">表4-6 fields.field_name.relation配置</p>&#13;\n<table class=\"a0\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td width=\"132\">&#13;\n<p>Configuration Key</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>值类型</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p>默认</p>&#13;\n</td>&#13;\n<td width=\"260\">&#13;\n<p>含义</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>table</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"260\">&#13;\n<p>关联表</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>foreign_key</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p>id</p>&#13;\n</td>&#13;\n<td width=\"260\">&#13;\n<p>对应关联表里的字段</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>show</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p> </p>&#13;\n</td>&#13;\n<td width=\"260\">&#13;\n<p>关联表里的一个字段，当需要转义时，将用该字段代替field_nae字段显示</p>&#13;\n</td>&#13;\n</tr><tr><td width=\"132\">&#13;\n<p>as</p>&#13;\n</td>&#13;\n<td width=\"66\">&#13;\n<p>string</p>&#13;\n</td>&#13;\n<td width=\"95\">&#13;\n<p>table_show</p>&#13;\n</td>&#13;\n<td width=\"260\">&#13;\n<p>转义查询出的值用哪个字段表示，主要为了防止主表和关联表有重复字段</p>&#13;\n</td>&#13;\n</tr></tbody></table><p> 下面是一个名为post的GModule的Configuration文件</p>&#13;\n<div class=\"cnblogs_code\" onclick=\"cnblogs_code_show(\'cd253f75-f02e-4c33-9697-b039df765819\')\"><img id=\"code_img_closed_cd253f75-f02e-4c33-9697-b039df765819\" class=\"code_img_closed\" src=\"http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif\" alt=\"\"/><img id=\"code_img_opened_cd253f75-f02e-4c33-9697-b039df765819\" class=\"code_img_opened\" style=\"display: none;\" onclick=\"cnblogs_code_hide(\'cd253f75-f02e-4c33-9697-b039df765819\',event)\" src=\"http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif\" alt=\"\"/><div id=\"cnblogs_code_open_cd253f75-f02e-4c33-9697-b039df765819\" class=\"cnblogs_code_hide\">&#13;\n<pre><span style=\"color: #008080;\">  1</span> &lt;?php <span style=\"color: #0000ff;\">return</span> <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">  2</span>   \'data_source\' =&gt; \'core\',&#13;\n<span style=\"color: #008080;\">  3</span>   \'table\' =&gt; \'post\',&#13;\n<span style=\"color: #008080;\">  4</span>   \'fields\' =&gt; &#13;\n<span style=\"color: #008080;\">  5</span>   <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">  6</span>     \'id\' =&gt; &#13;\n<span style=\"color: #008080;\">  7</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">  8</span>       \'label\' =&gt; \'ID\',&#13;\n<span style=\"color: #008080;\">  9</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\"> 10</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 11</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 12</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 13</span>         \'type\' =&gt; \'text\',&#13;\n<span style=\"color: #008080;\"> 14</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\"> 15</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 16</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 17</span>       ),&#13;\n<span style=\"color: #008080;\"> 18</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\"> 19</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 20</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 21</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 22</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\"> 23</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 24</span>       ),&#13;\n<span style=\"color: #008080;\"> 25</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\"> 26</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 27</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 28</span>         \'table\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 29</span>         \'foreign_key\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 30</span>         \'show\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 31</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 32</span>       ),&#13;\n<span style=\"color: #008080;\"> 33</span>     ),&#13;\n<span style=\"color: #008080;\"> 34</span>     \'title\' =&gt; &#13;\n<span style=\"color: #008080;\"> 35</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 36</span>       \'label\' =&gt; \'标题\',&#13;\n<span style=\"color: #008080;\"> 37</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\"> 38</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 39</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 40</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 41</span>         \'type\' =&gt; \'text\',&#13;\n<span style=\"color: #008080;\"> 42</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\"> 43</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 44</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 45</span>       ),&#13;\n<span style=\"color: #008080;\"> 46</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\"> 47</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 48</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 49</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 50</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\"> 51</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 52</span>       ),&#13;\n<span style=\"color: #008080;\"> 53</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\"> 54</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 55</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 56</span>         \'table\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 57</span>         \'foreign_key\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 58</span>         \'show\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 59</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 60</span>       ),&#13;\n<span style=\"color: #008080;\"> 61</span>     ),&#13;\n<span style=\"color: #008080;\"> 62</span>     \'short\' =&gt; &#13;\n<span style=\"color: #008080;\"> 63</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 64</span>       \'label\' =&gt; \'摘要\',&#13;\n<span style=\"color: #008080;\"> 65</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\"> 66</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 67</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 68</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 69</span>         \'type\' =&gt; \'textarea\',&#13;\n<span style=\"color: #008080;\"> 70</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\"> 71</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 72</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 73</span>       ),&#13;\n<span style=\"color: #008080;\"> 74</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\"> 75</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 76</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 77</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 78</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\"> 79</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 80</span>       ),&#13;\n<span style=\"color: #008080;\"> 81</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\"> 82</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 83</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 84</span>         \'table\' =&gt; \'category\',&#13;\n<span style=\"color: #008080;\"> 85</span>         \'foreign_key\' =&gt; \'id\',&#13;\n<span style=\"color: #008080;\"> 86</span>         \'show\' =&gt; \'id\',&#13;\n<span style=\"color: #008080;\"> 87</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\"> 88</span>       ),&#13;\n<span style=\"color: #008080;\"> 89</span>     ),&#13;\n<span style=\"color: #008080;\"> 90</span>     \'content\' =&gt; &#13;\n<span style=\"color: #008080;\"> 91</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 92</span>       \'label\' =&gt; \'正文\',&#13;\n<span style=\"color: #008080;\"> 93</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\"> 94</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\"> 95</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\"> 96</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\"> 97</span>         \'type\' =&gt; \'wysiwyg\',&#13;\n<span style=\"color: #008080;\"> 98</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\"> 99</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">100</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">101</span>       ),&#13;\n<span style=\"color: #008080;\">102</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\">103</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">104</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">105</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">106</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\">107</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">108</span>       ),&#13;\n<span style=\"color: #008080;\">109</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\">110</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">111</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">112</span>         \'table\' =&gt; \'category\',&#13;\n<span style=\"color: #008080;\">113</span>         \'foreign_key\' =&gt; \'id\',&#13;\n<span style=\"color: #008080;\">114</span>         \'show\' =&gt; \'id\',&#13;\n<span style=\"color: #008080;\">115</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">116</span>       ),&#13;\n<span style=\"color: #008080;\">117</span>     ),&#13;\n<span style=\"color: #008080;\">118</span>     \'view_ct\' =&gt; &#13;\n<span style=\"color: #008080;\">119</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">120</span>       \'label\' =&gt; \'查看次数\',&#13;\n<span style=\"color: #008080;\">121</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\">122</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">123</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">124</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">125</span>         \'type\' =&gt; \'text\',&#13;\n<span style=\"color: #008080;\">126</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\">127</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">128</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">129</span>       ),&#13;\n<span style=\"color: #008080;\">130</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\">131</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">132</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">133</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">134</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\">135</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">136</span>       ),&#13;\n<span style=\"color: #008080;\">137</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\">138</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">139</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">140</span>         \'table\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">141</span>         \'foreign_key\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">142</span>         \'show\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">143</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">144</span>       ),&#13;\n<span style=\"color: #008080;\">145</span>     ),&#13;\n<span style=\"color: #008080;\">146</span>     \'created_at\' =&gt; &#13;\n<span style=\"color: #008080;\">147</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">148</span>       \'label\' =&gt; \'创建时间\',&#13;\n<span style=\"color: #008080;\">149</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\">150</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">151</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">152</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">153</span>         \'type\' =&gt; \'text\',&#13;\n<span style=\"color: #008080;\">154</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\">155</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">156</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">157</span>       ),&#13;\n<span style=\"color: #008080;\">158</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\">159</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">160</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">161</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">162</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\">163</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">164</span>       ),&#13;\n<span style=\"color: #008080;\">165</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\">166</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">167</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">168</span>         \'table\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">169</span>         \'foreign_key\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">170</span>         \'show\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">171</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">172</span>       ),&#13;\n<span style=\"color: #008080;\">173</span>     ),&#13;\n<span style=\"color: #008080;\">174</span>     \'updated_at\' =&gt; &#13;\n<span style=\"color: #008080;\">175</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">176</span>       \'label\' =&gt; \'更新时间\',&#13;\n<span style=\"color: #008080;\">177</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\">178</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">179</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">180</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">181</span>         \'type\' =&gt; \'text\',&#13;\n<span style=\"color: #008080;\">182</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\">183</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">184</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">185</span>       ),&#13;\n<span style=\"color: #008080;\">186</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\">187</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">188</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">189</span>         \'sort\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">190</span>         \'search\' =&gt; \'=\',&#13;\n<span style=\"color: #008080;\">191</span>         \'lookup\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">192</span>       ),&#13;\n<span style=\"color: #008080;\">193</span>       \'relation\' =&gt; &#13;\n<span style=\"color: #008080;\">194</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">195</span>         \'type\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">196</span>         \'table\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">197</span>         \'foreign_key\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">198</span>         \'show\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">199</span>         \'as\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">200</span>       ),&#13;\n<span style=\"color: #008080;\">201</span>     ),&#13;\n<span style=\"color: #008080;\">202</span>     \'category_id\' =&gt; &#13;\n<span style=\"color: #008080;\">203</span>     <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">204</span>       \'label\' =&gt; \'栏目\',&#13;\n<span style=\"color: #008080;\">205</span>       \'form\' =&gt; &#13;\n<span style=\"color: #008080;\">206</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">207</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080;\">208</span>         \'hidden\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">209</span>         \'type\' =&gt; \'select\',&#13;\n<span style=\"color: #008080;\">210</span>         \'rule\' =&gt; \'required\',&#13;\n<span style=\"color: #008080;\">211</span>         \'ajax_validate\' =&gt; <span style=\"color: #0000ff;\">false</span>,&#13;\n<span style=\"color: #008080;\">212</span>         \'placeholder\' =&gt; \'\',&#13;\n<span style=\"color: #008080;\">213</span>       ),&#13;\n<span style=\"color: #008080;\">214</span>       \'list\' =&gt; &#13;\n<span style=\"color: #008080;\">215</span>       <span style=\"color: #0000ff;\">array</span><span style=\"color: #000000;\"> (&#13;\n</span><span style=\"color: #008080;\">216</span>         \'show\' =&gt; <span style=\"color: #0000ff;\">true</span>,&#13;\n<span style=\"color: #008080',736,'2016-06-28 19:59:00','2016-07-31 10:22:00',10,'http://www.cnblogs.com/lvyahui/p/5626466.html',5626466);
/*!40000 ALTER TABLE `post` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-07-31 22:05:01
